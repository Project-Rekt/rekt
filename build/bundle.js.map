{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte/store/index.mjs","../../node_modules/svelte-spa-router/Router.svelte","../../node_modules/regexparam/dist/regexparam.mjs","../../node_modules/@babel/runtime/helpers/interopRequireDefault.js","../../node_modules/@babel/runtime/helpers/classCallCheck.js","../../node_modules/@babel/runtime/helpers/defineProperty.js","../../node_modules/engine/lib/actor.js","../../node_modules/regenerator-runtime/runtime.js","../../node_modules/@babel/runtime/helpers/createClass.js","../../node_modules/@babel/runtime/helpers/typeof.js","../../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../../node_modules/@babel/runtime/helpers/superPropBase.js","../../node_modules/@babel/runtime/helpers/get.js","../../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../../node_modules/@babel/runtime/helpers/inherits.js","../../node_modules/@babel/runtime/helpers/asyncToGenerator.js","../../node_modules/engine/lib/spriteActor.js","../../node_modules/engine/lib/stage.js","../../node_modules/engine/lib/inputHandler.js","../../node_modules/engine/export.js","../../src/routes/towerdefence/classes/background.js","../../src/routes/towerdefence/classes/terrainBlocker.js","../../src/routes/towerdefence/classes/block.js","../../src/routes/towerdefence/classes/endpoint.js","../../src/routes/towerdefence/classes/line.js","../../src/routes/towerdefence/classes/monster.js","../../src/routes/towerdefence/classes/movement.js","../../src/routes/towerdefence/classes/node.js","../../src/routes/towerdefence/classes/pather.js","../../src/routes/towerdefence/classes/ui/domElement.js","../../src/routes/towerdefence/classes/ui/imageHoverText.js","../../src/routes/towerdefence/classes/ui/image.js","../../src/routes/towerdefence/classes/player.js","../../src/routes/towerdefence/classes/spawner.js","../../src/routes/towerdefence/classes/bulletLine.js","../../src/routes/towerdefence/classes/tower.js","../../src/routes/towerdefence/classes/ui/notification.js","../../src/routes/towerdefence/classes/waveTimer.js","../../src/routes/towerdefence/classes/shop.js","../../src/routes/towerdefence/classes/lightTower.js","../../src/routes/towerdefence/classes/effect.js","../../src/routes/towerdefence/classes/heavyTower.js","../../src/routes/towerdefence/spriteObjects/monkeySprite.js","../../src/routes/towerdefence/classes/monkey.js","../../src/routes/towerdefence/spriteObjects/grillSprite.js","../../src/routes/towerdefence/classes/gril.js","../../src/routes/towerdefence/spriteObjects/ryeSprite.js","../../src/routes/towerdefence/classes/normie.js","../../src/routes/towerdefence/spriteObjects/weebSprite.js","../../src/routes/towerdefence/classes/weeb.js","../../src/routes/towerdefence/classes/ui/button.js","../../src/routes/towerdefence/classes/ui/towerSelect.js","../../src/routes/towerdefence/classes/ui/waveStart.js","../../src/routes/towerdefence/classes/ui/gui.js","../../src/routes/towerdefence/classes/ui/towerSelectMenu.js","../../src/routes/towerdefence/classes/ui/optionsMenu.js","../../src/routes/towerdefence/classes/smallBlock.js","../../src/routes/towerdefence/classes/mediumBlock.js","../../src/routes/towerdefence/classes/largeBlock.js","../../src/routes/towerdefence/classes/world.js","../../src/routes/towerdefence/towerdefence.svelte","../../src/routes.js","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value' || descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group) {\n    const value = [];\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.push(group[i].__value);\n    }\n    return value;\n}\nfunction to_number(value) {\n    return value === '' ? undefined : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j];\n                if (attributes[attribute.name]) {\n                    j++;\n                }\n                else {\n                    node.removeAttribute(attribute.name);\n                }\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    if (value != null || input.value) {\n        input.value = value;\n    }\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\nfunction add_resize_listener(element, fn) {\n    if (getComputedStyle(element).position === 'static') {\n        element.style.position = 'relative';\n    }\n    const object = document.createElement('object');\n    object.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n    object.setAttribute('aria-hidden', 'true');\n    object.type = 'text/html';\n    object.tabIndex = -1;\n    let win;\n    object.onload = () => {\n        win = object.contentDocument.defaultView;\n        win.addEventListener('resize', fn);\n    };\n    if (/Trident/.test(navigator.userAgent)) {\n        element.appendChild(object);\n        object.data = 'about:blank';\n    }\n    else {\n        object.data = 'about:blank';\n        element.appendChild(object);\n    }\n    return {\n        cancel: () => {\n            win && win.removeEventListener && win.removeEventListener('resize', fn);\n            element.removeChild(object);\n        }\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(html, anchor = null) {\n        this.e = element('div');\n        this.a = anchor;\n        this.u(html);\n    }\n    m(target, anchor = null) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(target, this.n[i], anchor);\n        }\n        this.t = target;\n    }\n    u(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    p(html) {\n        this.d();\n        this.u(html);\n        this.m(this.t, this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined' ? window : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next, lookup.has(block.key));\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error(`Cannot have duplicate keys in a keyed each`);\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += \" \" + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += \" \" + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : ``;\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if ($$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set() {\n            // overridden by instance, if it has props\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set() {\n        // overridden by instance, if it has props\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.20.1' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev(\"SvelteDOMRemove\", { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? [\"capture\"] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev(\"SvelteDOMAddEventListener\", { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev(\"SvelteDOMRemoveEventListener\", { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev(\"SvelteDOMRemoveAttribute\", { node, attribute });\n    else\n        dispatch_dev(\"SvelteDOMSetAttribute\", { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev(\"SvelteDOMSetProperty\", { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev(\"SvelteDOMSetDataset\", { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    dispatch_dev(\"SvelteDOMSetData\", { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error(`Infinite loop detected`);\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal';\nexport { get_store_value as get } from '../internal';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe,\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","<script context=\"module\">\n// Something's wrong with eslint on this file\n/* eslint-disable no-multiple-empty-lines */\n\nimport {readable, derived} from 'svelte/store'\n\n/**\n * Wraps a route to add route pre-conditions.\n * \n * @param {SvelteComponent} route - Svelte component for the route\n * @param {Object} [userData] - Optional object that will be passed to each `conditionsFailed` event\n * @param {...Function} conditions - Route pre-conditions to add, which will be executed in order\n * @returns {Object} Wrapped route\n */\nexport function wrap(route, userData, ...conditions) {\n    // Check if we don't have userData\n    if (userData && typeof userData == 'function') {\n        conditions = (conditions && conditions.length) ? conditions : []\n        conditions.unshift(userData)\n        userData = undefined\n    }\n\n    // Parameter route and each item of conditions must be functions\n    if (!route || typeof route != 'function') {\n        throw Error('Invalid parameter route')\n    }\n    if (conditions && conditions.length) {\n        for (let i = 0; i < conditions.length; i++) {\n            if (!conditions[i] || typeof conditions[i] != 'function') {\n                throw Error('Invalid parameter conditions[' + i + ']')\n            }\n        }\n    }\n\n    // Returns an object that contains all the functions to execute too\n    const obj = {route, userData}\n    if (conditions && conditions.length) {\n        obj.conditions = conditions\n    }\n\n    // The _sveltesparouter flag is to confirm the object was created by this router\n    Object.defineProperty(obj, '_sveltesparouter', {\n        value: true\n    })\n\n    return obj\n}\n\n/**\n * @typedef {Object} Location\n * @property {string} location - Location (page/view), for example `/book`\n * @property {string} [querystring] - Querystring from the hash, as a string not parsed\n */\n/**\n * Returns the current location from the hash.\n *\n * @returns {Location} Location object\n * @private\n */\nfunction getLocation() {\n    const hashPosition = window.location.href.indexOf('#/')\n    let location = (hashPosition > -1) ? window.location.href.substr(hashPosition + 1) : '/'\n\n    // Check if there's a querystring\n    const qsPosition = location.indexOf('?')\n    let querystring = ''\n    if (qsPosition > -1) {\n        querystring = location.substr(qsPosition + 1)\n        location = location.substr(0, qsPosition)\n    }\n\n    return {location, querystring}\n}\n\n/**\n * Readable store that returns the current full location (incl. querystring)\n */\nexport const loc = readable(\n    getLocation(),\n    // eslint-disable-next-line prefer-arrow-callback\n    function start(set) {\n        const update = () => {\n            set(getLocation())\n        }\n        window.addEventListener('hashchange', update, false)\n\n        return function stop() {\n            window.removeEventListener('hashchange', update, false)\n        }\n    }\n)\n\n/**\n * Readable store that returns the current location\n */\nexport const location = derived(\n    loc,\n    ($loc) => $loc.location\n)\n\n/**\n * Readable store that returns the current querystring\n */\nexport const querystring = derived(\n    loc,\n    ($loc) => $loc.querystring\n)\n\n/**\n * Navigates to a new page programmatically.\n *\n * @param {string} location - Path to navigate to (must start with `/` or '#/')\n * @return {Promise} Promise that resolves after the page navigation has completed\n */\nexport function push(location) {\n    if (!location || location.length < 1 || (location.charAt(0) != '/' && location.indexOf('#/') !== 0)) {\n        throw Error('Invalid parameter location')\n    }\n\n    // Execute this code when the current call stack is complete\n    return nextTickPromise(() => {\n        window.location.hash = (location.charAt(0) == '#' ? '' : '#') + location\n    })\n}\n\n/**\n * Navigates back in history (equivalent to pressing the browser's back button).\n * \n * @return {Promise} Promise that resolves after the page navigation has completed\n */\nexport function pop() {\n    // Execute this code when the current call stack is complete\n    return nextTickPromise(() => {\n        window.history.back()\n    })\n}\n\n/**\n * Replaces the current page but without modifying the history stack.\n *\n * @param {string} location - Path to navigate to (must start with `/` or '#/')\n * @return {Promise} Promise that resolves after the page navigation has completed\n */\nexport function replace(location) {\n    if (!location || location.length < 1 || (location.charAt(0) != '/' && location.indexOf('#/') !== 0)) {\n        throw Error('Invalid parameter location')\n    }\n\n    // Execute this code when the current call stack is complete\n    return nextTickPromise(() => {\n        const dest = (location.charAt(0) == '#' ? '' : '#') + location\n        try {\n            window.history.replaceState(undefined, undefined, dest)\n        }\n        catch (e) {\n            // eslint-disable-next-line no-console\n            console.warn('Caught exception while replacing the current page. If you\\'re running this in the Svelte REPL, please note that the `replace` method might not work in this environment.')\n        }\n\n        // The method above doesn't trigger the hashchange event, so let's do that manually\n        window.dispatchEvent(new Event('hashchange'))\n    })\n}\n\n/**\n * Svelte Action that enables a link element (`<a>`) to use our history management.\n *\n * For example:\n *\n * ````html\n * <a href=\"/books\" use:link>View books</a>\n * ````\n *\n * @param {HTMLElement} node - The target node (automatically set by Svelte). Must be an anchor tag (`<a>`) with a href attribute starting in `/`\n */\nexport function link(node) {\n    // Only apply to <a> tags\n    if (!node || !node.tagName || node.tagName.toLowerCase() != 'a') {\n        throw Error('Action \"link\" can only be used with <a> tags')\n    }\n\n    // Destination must start with '/'\n    const href = node.getAttribute('href')\n    if (!href || href.length < 1 || href.charAt(0) != '/') {\n        throw Error('Invalid value for \"href\" attribute')\n    }\n\n    // Add # to every href attribute\n    node.setAttribute('href', '#' + href)\n}\n\n/**\n * Performs a callback in the next tick and returns a Promise that resolves once that's done\n * \n * @param {Function} cb - Callback to invoke\n * @returns {Promise} Promise that resolves after the callback has been invoked, with the return value of the callback (if any)\n */\nexport function nextTickPromise(cb) {\n    return new Promise((resolve) => {\n        setTimeout(() => {\n            resolve(cb())\n        }, 0)\n    })\n}\n</script>\n\n{#if componentParams}\n  <svelte:component this=\"{component}\" params=\"{componentParams}\" on:routeEvent />\n{:else}\n  <svelte:component this=\"{component}\" on:routeEvent />\n{/if}\n\n<script>\nimport {createEventDispatcher} from 'svelte'\nimport regexparam from 'regexparam'\n\n/**\n * Dictionary of all routes, in the format `'/path': component`.\n *\n * For example:\n * ````js\n * import HomeRoute from './routes/HomeRoute.svelte'\n * import BooksRoute from './routes/BooksRoute.svelte'\n * import NotFoundRoute from './routes/NotFoundRoute.svelte'\n * routes = {\n *     '/': HomeRoute,\n *     '/books': BooksRoute,\n *     '*': NotFoundRoute\n * }\n * ````\n */\nexport let routes = {}\n\n/**\n * Optional prefix for the routes in this router. This is useful for example in the case of nested routers.\n */\nexport let prefix = ''\n\n/**\n * Container for a route: path, component\n */\nclass RouteItem {\n    /**\n     * Initializes the object and creates a regular expression from the path, using regexparam.\n     *\n     * @param {string} path - Path to the route (must start with '/' or '*')\n     * @param {SvelteComponent} component - Svelte component for the route\n     */\n    constructor(path, component) {\n        if (!component || (typeof component != 'function' && (typeof component != 'object' || component._sveltesparouter !== true))) {\n            throw Error('Invalid component object')\n        }\n\n        // Path must be a regular or expression, or a string starting with '/' or '*'\n        if (!path || \n            (typeof path == 'string' && (path.length < 1 || (path.charAt(0) != '/' && path.charAt(0) != '*'))) ||\n            (typeof path == 'object' && !(path instanceof RegExp))\n        ) {\n            throw Error('Invalid value for \"path\" argument')\n        }\n\n        const {pattern, keys} = regexparam(path)\n\n        this.path = path\n\n        // Check if the component is wrapped and we have conditions\n        if (typeof component == 'object' && component._sveltesparouter === true) {\n            this.component = component.route\n            this.conditions = component.conditions || []\n            this.userData = component.userData\n        }\n        else {\n            this.component = component\n            this.conditions = []\n            this.userData = undefined\n        }\n\n        this._pattern = pattern\n        this._keys = keys\n    }\n\n    /**\n     * Checks if `path` matches the current route.\n     * If there's a match, will return the list of parameters from the URL (if any).\n     * In case of no match, the method will return `null`.\n     *\n     * @param {string} path - Path to test\n     * @returns {null|Object.<string, string>} List of paramters from the URL if there's a match, or `null` otherwise.\n     */\n    match(path) {\n        // If there's a prefix, remove it before we run the matching\n        if (prefix && path.startsWith(prefix)) {\n            path = path.substr(prefix.length) || '/'\n        }\n\n        // Check if the pattern matches\n        const matches = this._pattern.exec(path)\n        if (matches === null) {\n            return null\n        }\n\n        // If the input was a regular expression, this._keys would be false, so return matches as is\n        if (this._keys === false) {\n            return matches\n        }\n\n        const out = {}\n        let i = 0\n        while (i < this._keys.length) {\n            out[this._keys[i]] = matches[++i] || null\n        }\n        return out\n    }\n\n    /**\n     * Dictionary with route details passed to the pre-conditions functions, as well as the `routeLoaded` and `conditionsFailed` events\n     * @typedef {Object} RouteDetail\n     * @property {SvelteComponent} component - Svelte component\n     * @property {string} name - Name of the Svelte component\n     * @property {string} location - Location path\n     * @property {string} querystring - Querystring from the hash\n     * @property {Object} [userData] - Custom data passed by the user\n     */\n\n    /**\n     * Executes all conditions (if any) to control whether the route can be shown. Conditions are executed in the order they are defined, and if a condition fails, the following ones aren't executed.\n     * \n     * @param {RouteDetail} detail - Route detail\n     * @returns {bool} Returns true if all the conditions succeeded\n     */\n    checkConditions(detail) {\n        for (let i = 0; i < this.conditions.length; i++) {\n            if (!this.conditions[i](detail)) {\n                return false\n            }\n        }\n\n        return true\n    }\n}\n\n// Set up all routes\nconst routesList = []\nif (routes instanceof Map) {\n    // If it's a map, iterate on it right away\n    routes.forEach((route, path) => {\n        routesList.push(new RouteItem(path, route))\n    })\n}\nelse {\n    // We have an object, so iterate on its own properties\n    Object.keys(routes).forEach((path) => {\n        routesList.push(new RouteItem(path, routes[path]))\n    })\n}\n\n// Props for the component to render\nlet component = null\nlet componentParams = null\n\n// Event dispatcher from Svelte\nconst dispatch = createEventDispatcher()\n\n// Just like dispatch, but executes on the next iteration of the event loop\nconst dispatchNextTick = (name, detail) => {\n    // Execute this code when the current call stack is complete\n    setTimeout(() => {\n        dispatch(name, detail)\n    }, 0)\n}\n\n// Handle hash change events\n// Listen to changes in the $loc store and update the page\n$: {\n    // Find a route matching the location\n    component = null\n    let i = 0\n    while (!component && i < routesList.length) {\n        const match = routesList[i].match($loc.location)\n        if (match) {\n            const detail = {\n                component: routesList[i].component,\n                name: routesList[i].component.name,\n                location: $loc.location,\n                querystring: $loc.querystring,\n                userData: routesList[i].userData\n            }\n\n            // Check if the route can be loaded - if all conditions succeed\n            if (!routesList[i].checkConditions(detail)) {\n                // Trigger an event to notify the user\n                dispatchNextTick('conditionsFailed', detail)\n                break\n            }\n            component = routesList[i].component\n            // Set componentParams onloy if we have a match, to avoid a warning similar to `<Component> was created with unknown prop 'params'`\n            // Of course, this assumes that developers always add a \"params\" prop when they are expecting parameters\n            if (match && typeof match == 'object' && Object.keys(match).length) {\n                componentParams = match\n            }\n            else {\n                componentParams = null\n            }\n\n            dispatchNextTick('routeLoaded', detail)\n        }\n        i++\n    }\n}\n</script>\n","export default function (str, loose) {\n\tif (str instanceof RegExp) return { keys:false, pattern:str };\n\tvar c, o, tmp, ext, keys=[], pattern='', arr = str.split('/');\n\tarr[0] || arr.shift();\n\n\twhile (tmp = arr.shift()) {\n\t\tc = tmp[0];\n\t\tif (c === '*') {\n\t\t\tkeys.push('wild');\n\t\t\tpattern += '/(.*)';\n\t\t} else if (c === ':') {\n\t\t\to = tmp.indexOf('?', 1);\n\t\t\text = tmp.indexOf('.', 1);\n\t\t\tkeys.push( tmp.substring(1, !!~o ? o : !!~ext ? ext : tmp.length) );\n\t\t\tpattern += !!~o && !~ext ? '(?:/([^/]+?))?' : '/([^/]+?)';\n\t\t\tif (!!~ext) pattern += (!!~o ? '?' : '') + '\\\\' + tmp.substring(ext);\n\t\t} else {\n\t\t\tpattern += '/' + tmp;\n\t\t}\n\t}\n\n\treturn {\n\t\tkeys: keys,\n\t\tpattern: new RegExp('^' + pattern + (loose ? '(?=$|\\/)' : '\\/?$'), 'i')\n\t};\n}\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","\"use strict\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports[\"default\"] = void 0;\r\n\r\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\r\n\r\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\r\n\r\nvar Actor = function Actor(bounds, name) {\r\n  var _this = this;\r\n\r\n  (0, _classCallCheck2[\"default\"])(this, Actor);\r\n  (0, _defineProperty2[\"default\"])(this, \"create\", function () {});\r\n  (0, _defineProperty2[\"default\"])(this, \"render\", function (deltaTime) {});\r\n  (0, _defineProperty2[\"default\"])(this, \"update\", function (deltaTime) {});\r\n  (0, _defineProperty2[\"default\"])(this, \"destroy\", function () {\r\n    //Clear boundingbox\r\n    _this.ctx.clearRect(_this.bounds.x, _this.bounds.y, _this.bounds.width, _this.bounds.height); //Remove actor from stage\r\n\r\n\r\n    _this.stage.removeActor(_this);\r\n  });\r\n  //Add actor to stage and stage context\r\n  this.stage;\r\n  this.ctx;\r\n  this.name = name; //Dimensions of actor (has default bounds)\r\n\r\n  this.bounds = bounds || {\r\n    x: 0,\r\n    y: 0,\r\n    width: 0,\r\n    height: 0\r\n  };\r\n};\r\n\r\nexports[\"default\"] = Actor;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","\"use strict\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports[\"default\"] = void 0;\r\n\r\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\r\n\r\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\r\n\r\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\r\n\r\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\r\n\r\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\r\n\r\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\r\n\r\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\r\n\r\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\r\n\r\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\r\n\r\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\r\n\r\nvar _actor = _interopRequireDefault(require(\"./actor\"));\r\n\r\nfunction loadImage(_x) {\r\n  return _loadImage.apply(this, arguments);\r\n}\r\n\r\nfunction _loadImage() {\r\n  _loadImage = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(src) {\r\n    var img;\r\n    return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\r\n      while (1) {\r\n        switch (_context5.prev = _context5.next) {\r\n          case 0:\r\n            img = new Image();\r\n            img.src = src;\r\n            return _context5.abrupt(\"return\", new Promise(function (res, rej) {\r\n              img.onload = function () {\r\n                res(img);\r\n              };\r\n            }));\r\n\r\n          case 3:\r\n          case \"end\":\r\n            return _context5.stop();\r\n        }\r\n      }\r\n    }, _callee5);\r\n  }));\r\n  return _loadImage.apply(this, arguments);\r\n}\r\n\r\nvar SpriteActor = /*#__PURE__*/function (_Actor) {\r\n  (0, _inherits2[\"default\"])(SpriteActor, _Actor);\r\n\r\n  function SpriteActor(bounds, _spriteObj) {\r\n    var _this;\r\n\r\n    (0, _classCallCheck2[\"default\"])(this, SpriteActor);\r\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(SpriteActor).call(this, bounds, _spriteObj[\"name\"]));\r\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"changeState\", function (state) {\r\n      _this.currentState = state;\r\n    });\r\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"loadSpriteObj\", function (spriteObj) {\r\n      _this.properties = spriteObj.properties;\r\n      _this.states = spriteObj.states;\r\n\r\n      if (_this.states != {} && _this.properties != {}) {\r\n        (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2() {\r\n          return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\r\n            while (1) {\r\n              switch (_context2.prev = _context2.next) {\r\n                case 0:\r\n                  _context2.next = 2;\r\n                  return Promise.all(Object.keys(_this.states).map( /*#__PURE__*/function () {\r\n                    var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(s) {\r\n                      var img;\r\n                      return _regenerator[\"default\"].wrap(function _callee$(_context) {\r\n                        while (1) {\r\n                          switch (_context.prev = _context.next) {\r\n                            case 0:\r\n                              _context.next = 2;\r\n                              return loadImage(_this.states[s].location);\r\n\r\n                            case 2:\r\n                              img = _context.sent;\r\n                              Object.assign(_this.states[s], {\r\n                                image: img\r\n                              });\r\n\r\n                            case 4:\r\n                            case \"end\":\r\n                              return _context.stop();\r\n                          }\r\n                        }\r\n                      }, _callee);\r\n                    }));\r\n\r\n                    return function (_x2) {\r\n                      return _ref2.apply(this, arguments);\r\n                    };\r\n                  }()));\r\n\r\n                case 2:\r\n                  console.log(_this.states);\r\n\r\n                case 3:\r\n                case \"end\":\r\n                  return _context2.stop();\r\n              }\r\n            }\r\n          }, _callee2);\r\n        }))();\r\n      }\r\n    });\r\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"create\", function () {\r\n      if (_this.states != {} && _this.properties != {}) {\r\n        (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4() {\r\n          return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\r\n            while (1) {\r\n              switch (_context4.prev = _context4.next) {\r\n                case 0:\r\n                  _context4.next = 2;\r\n                  return Promise.all(Object.keys(_this.states).map( /*#__PURE__*/function () {\r\n                    var _ref4 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(s) {\r\n                      var img;\r\n                      return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\r\n                        while (1) {\r\n                          switch (_context3.prev = _context3.next) {\r\n                            case 0:\r\n                              _context3.next = 2;\r\n                              return loadImage(_this.states[s].location);\r\n\r\n                            case 2:\r\n                              img = _context3.sent;\r\n                              Object.assign(_this.states[s], {\r\n                                image: img\r\n                              });\r\n\r\n                            case 4:\r\n                            case \"end\":\r\n                              return _context3.stop();\r\n                          }\r\n                        }\r\n                      }, _callee3);\r\n                    }));\r\n\r\n                    return function (_x3) {\r\n                      return _ref4.apply(this, arguments);\r\n                    };\r\n                  }()));\r\n\r\n                case 2:\r\n                  console.log(_this.states);\r\n\r\n                case 3:\r\n                case \"end\":\r\n                  return _context4.stop();\r\n              }\r\n            }\r\n          }, _callee4);\r\n        }))();\r\n      }\r\n    });\r\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"render\", function (deltaTime) {\r\n      _this.ctx.clearRect(_this.px, _this.py, _this.bounds.width * _this.scale, _this.bounds.height * _this.scale);\r\n\r\n      var sstate = _this.states[_this.currentState];\r\n      _this.renderCount += deltaTime;\r\n\r\n      if (_this.renderCount > 1000 / sstate.rps) {\r\n        _this.renderCount = 0;\r\n\r\n        if (_this.frameCount >= sstate.frames.length) {\r\n          _this.frameCount = 0;\r\n\r\n          if (!sstate.loop) {\r\n            _this.changeState(\"idle\");\r\n          }\r\n        }\r\n\r\n        _this.frame = sstate.frames[_this.frameCount];\r\n        _this.bounds.width = _this.frame.width * _this.scale;\r\n        _this.bounds.height = _this.frame.height * _this.scale;\r\n\r\n        if (sstate.image) {\r\n          _this.current = sstate.image;\r\n        }\r\n\r\n        _this.frameCount++;\r\n      }\r\n\r\n      _this.px = Math.round(_this.bounds.x);\r\n      _this.py = Math.round(_this.bounds.y);\r\n      if (_this.frame && _this.current) _this.ctx.drawImage(_this.current, _this.frame.x, _this.frame.y, _this.frame.width, _this.frame.height, _this.px, _this.py, _this.frame.width * _this.scale, _this.frame.height * _this.scale);\r\n    });\r\n    _this.properties = _spriteObj.properties || {};\r\n    _this.states = _spriteObj.states || {\r\n      idle: {\r\n        location: null,\r\n        rps: 5,\r\n        loop: true,\r\n        frames: [{\r\n          x: 0,\r\n          y: 0,\r\n          width: 0,\r\n          height: 0\r\n        }]\r\n      }\r\n    };\r\n    _this.frames = _spriteObj.frames;\r\n    _this.currentState = Object.keys(_this.states)[0] || \"idle\";\r\n    _this.frameCount = 0;\r\n    _this.renderCount = 0;\r\n    _this.scale = 1;\r\n    return _this;\r\n  }\r\n\r\n  (0, _createClass2[\"default\"])(SpriteActor, [{\r\n    key: \"destroy\",\r\n    value: function destroy() {\r\n      for (var i = 0; i < Object.keys(this.states).length; i++) {\r\n        console.log(this.states[Object.keys(this.states)[i]]);\r\n        this.states[Object.keys(this.states)[i]].image == null;\r\n      }\r\n\r\n      (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(SpriteActor.prototype), \"destroy\", this).call(this);\r\n    }\r\n  }]);\r\n  return SpriteActor;\r\n}(_actor[\"default\"]);\r\n\r\nexports[\"default\"] = SpriteActor;","\"use strict\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports[\"default\"] = void 0;\r\n\r\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\r\n\r\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\r\n\r\nvar Stage = function Stage(elem) {\r\n  var _this = this;\r\n\r\n  (0, _classCallCheck2[\"default\"])(this, Stage);\r\n  (0, _defineProperty2[\"default\"])(this, \"getCollisions\", function (actor) {\r\n    var collisions = [];\r\n    var obj = _this;\r\n    var keys = Object.keys(_this.children); //call all children render cycles\r\n\r\n    keys.forEach(function (layer) {\r\n      obj.children[layer].forEach(function (child) {\r\n        if (obj.checkCollision(child, actor) && child !== actor) {\r\n          collisions.push(child);\r\n        }\r\n      });\r\n    });\r\n    return collisions;\r\n  });\r\n  (0, _defineProperty2[\"default\"])(this, \"checkCollision\", function (actorA, actorB) {\r\n    return actorA.bounds.x < actorB.bounds.x + actorB.bounds.width && actorA.bounds.x + actorA.bounds.width > actorB.bounds.x && actorA.bounds.y < actorB.bounds.y + actorB.bounds.height && actorA.bounds.y + actorA.bounds.height > actorB.bounds.y;\r\n  });\r\n  (0, _defineProperty2[\"default\"])(this, \"addActor\", function (actor, zIndex) {\r\n    if (!zIndex) zIndex = 0;\r\n    actor.stage = _this;\r\n    actor.ctx = _this.ctx;\r\n    actor.zIndex = zIndex;\r\n    actor.create();\r\n    if (!_this.children[zIndex]) _this.children[zIndex] = [];\r\n\r\n    _this.children[zIndex].push(actor);\r\n\r\n    _this.exportList.push({\r\n      name: actor.name,\r\n      x: actor.bounds[\"x\"],\r\n      y: actor.bounds[\"y\"]\r\n    }); // console.log(\"EXPORT LIST - \" + JSON.stringify(this.exportList))\r\n\r\n  });\r\n  (0, _defineProperty2[\"default\"])(this, \"changeIndex\", function (actor, zIndex) {\r\n    for (var i = 0; i < _this.children.length; i++) {\r\n      if (_this.children[i]) for (var j = 0; j < _this.children[i].length; j++) {\r\n        if (_this.children[i][j] && _this.children[i][j] === actor) {\r\n          delete _this.children[i][j];\r\n          if (!_this.children[zIndex]) _this.children[zIndex] = [];\r\n\r\n          _this.children[zIndex].push(actor);\r\n\r\n          actor.zIndex = zIndex;\r\n          return;\r\n        }\r\n      }\r\n    }\r\n  });\r\n  (0, _defineProperty2[\"default\"])(this, \"removeActor\", function (actor) {\r\n    var index = _this.children[actor.zIndex].findIndex(function (a) {\r\n      return a === actor;\r\n    });\r\n\r\n    _this.children[actor.zIndex].splice(index, 1);\r\n  });\r\n  (0, _defineProperty2[\"default\"])(this, \"callUpdateCycles\", function () {\r\n    var timeNow = Date.now();\r\n\r\n    if (timeNow - _this.updateTimeStart > 1000 / _this.updateFPS) {\r\n      _this.updateDeltaTime = timeNow - _this.updateTimeStart;\r\n\r\n      _this.updateCycles(_this.updateDeltaTime);\r\n\r\n      _this.updateTimeStart = Date.now();\r\n    }\r\n\r\n    window.requestAnimationFrame(_this.callUpdateCycles);\r\n  });\r\n  (0, _defineProperty2[\"default\"])(this, \"callRenderCycles\", function () {\r\n    var timeNow = Date.now();\r\n\r\n    if (timeNow - _this.renderTimeStart > 1000 / _this.renderFPS) {\r\n      _this.renderDeltaTime = timeNow - _this.renderTimeStart;\r\n\r\n      _this.renderCycles(_this.renderDeltaTime);\r\n\r\n      _this.renderTimeStart = Date.now();\r\n    }\r\n\r\n    window.requestAnimationFrame(_this.callRenderCycles);\r\n  });\r\n  (0, _defineProperty2[\"default\"])(this, \"create\", function () {});\r\n  (0, _defineProperty2[\"default\"])(this, \"start\", function () {\r\n    _this.create();\r\n\r\n    window.requestAnimationFrame(_this.callUpdateCycles);\r\n    window.requestAnimationFrame(_this.callRenderCycles);\r\n  });\r\n  (0, _defineProperty2[\"default\"])(this, \"stop\", function () {\r\n    _this.destroy();\r\n\r\n    window.cancelAnimationFrame(_this.callUpdateCycles);\r\n    window.cancelAnimationFrame(_this.callRenderCycles);\r\n  });\r\n  (0, _defineProperty2[\"default\"])(this, \"render\", function () {});\r\n  (0, _defineProperty2[\"default\"])(this, \"renderCycles\", function (deltaTime) {\r\n    _this.render();\r\n\r\n    _this.ctx.clearRect(0, 0, _this.width, _this.height);\r\n\r\n    var keys = Object.keys(_this.children);\r\n    keys.sort(function (a, b) {\r\n      return a - b;\r\n    }); //call all children render cycles\r\n\r\n    keys.forEach(function (layer) {\r\n      this.children[layer].forEach(function (child) {\r\n        child.render(deltaTime);\r\n      }, this, deltaTime);\r\n    }, _this, deltaTime);\r\n  });\r\n  (0, _defineProperty2[\"default\"])(this, \"update\", function () {});\r\n  (0, _defineProperty2[\"default\"])(this, \"updateCycles\", function (deltaTime) {\r\n    _this.update();\r\n\r\n    var keys = Object.keys(_this.children);\r\n    keys.sort(function (a, b) {\r\n      return a - b;\r\n    }); //call all children render cycles\r\n\r\n    keys.forEach(function (layer) {\r\n      this.children[layer].forEach(function (child) {\r\n        //console.log(deltaTime);\r\n        child.update(deltaTime);\r\n      }, this, deltaTime);\r\n    }, _this, deltaTime);\r\n  });\r\n  (0, _defineProperty2[\"default\"])(this, \"destroy\", function () {});\r\n  //set cycle ticks and times\r\n  this.ticks = 0;\r\n  this.updateFPS = 200;\r\n  this.updateTimeStart = Date.now();\r\n  this.updateDeltaTime = 0;\r\n  this.renderFPS = 200;\r\n  this.renderTimeStart = Date.now();\r\n  this.renderDeltaTime = 0; //setup canvas\r\n\r\n  this.elem = elem;\r\n\r\n  if (!elem) {\r\n    this.elem = document.createElement(\"canvas\");\r\n    document.querySelector(\"body\").appendChild(this.elem);\r\n  }\r\n\r\n  this.ctx = this.elem.getContext(\"2d\"); //setup children\r\n\r\n  this.children = [];\r\n  this.exportList = [];\r\n};\r\n\r\nexports[\"default\"] = Stage;","\"use strict\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports[\"default\"] = void 0;\r\n\r\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\r\n\r\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\r\n\r\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\r\n\r\nvar InputHandler = /*#__PURE__*/function () {\r\n  function InputHandler(elem, events) {\r\n    var _this = this;\r\n\r\n    (0, _classCallCheck2[\"default\"])(this, InputHandler);\r\n    (0, _defineProperty2[\"default\"])(this, \"keyDown\", function (event) {\r\n      _this.input.keys[event.code] = true;\r\n    });\r\n    (0, _defineProperty2[\"default\"])(this, \"keyUp\", function (event) {\r\n      _this.input.keys[event.code] = false;\r\n    });\r\n    (0, _defineProperty2[\"default\"])(this, \"mouseDown\", function (event) {\r\n      _this.input.mouse[event.button] = true;\r\n    });\r\n    (0, _defineProperty2[\"default\"])(this, \"mouseUp\", function (event) {\r\n      _this.input.mouse[event.button] = false;\r\n    });\r\n    (0, _defineProperty2[\"default\"])(this, \"mouseMove\", function (event) {\r\n      _this.input.x = event.clientX + _this.offsetX;\r\n      _this.input.y = event.clientY - _this.offsetY;\r\n    });\r\n    (0, _defineProperty2[\"default\"])(this, \"startHandler\", function () {\r\n      _this.dynamicEvents = {};\r\n      Object.keys(_this.events).forEach(function (eventName) {\r\n        var dynamicEvent = function (event) {\r\n          this.events[eventName].forEach(function (fn) {\r\n            fn.call(this, event);\r\n          }.bind(this));\r\n        }.bind(this);\r\n\r\n        this.dynamicEvents[eventName] = dynamicEvent;\r\n        this.elem.addEventListener(eventName, dynamicEvent);\r\n      }.bind(_this));\r\n    });\r\n    (0, _defineProperty2[\"default\"])(this, \"stopHandler\", function () {\r\n      Object.keys(_this.events).forEach(function (eventName) {\r\n        _this.elem.removeEventListener(eventName, _this.dynamicEvents[eventName]);\r\n      });\r\n      _this.dynamicEvents = {};\r\n    });\r\n    this.elem = elem;\r\n    this.elemBounds = elem.getBoundingClientRect();\r\n    this.offsetX = this.elemBounds.left;\r\n    this.offsetY = this.elemBounds.top;\r\n    this.input = {\r\n      keys: [],\r\n      mouse: [],\r\n      x: 0,\r\n      y: 0\r\n    };\r\n    this.events = {\r\n      keydown: [this.keyDown],\r\n      keyup: [this.keyUp],\r\n      mousedown: [this.mouseDown],\r\n      mouseup: [this.mouseUp],\r\n      mousemove: [this.mouseMove]\r\n    };\r\n    if (events) Object.keys(events).forEach(function (eventName) {\r\n      var _this2 = this;\r\n\r\n      if (this.events[eventName]) {\r\n        this.events[eventName] = this.events[eventName].concat(events[eventName].length ? events[eventName].map(function (fn) {\r\n          return fn.bind(_this2);\r\n        }) : [events[eventName]]);\r\n      } else {\r\n        this.events[eventName] = events[eventName].length ? events[eventName].map(function (fn) {\r\n          return fn.bind(_this2);\r\n        }) : [events[eventName]];\r\n      }\r\n    }.bind(this));\r\n    this.dynamicEvents = {};\r\n  }\r\n\r\n  (0, _createClass2[\"default\"])(InputHandler, [{\r\n    key: \"setEvents\",\r\n    value: function setEvents(events) {\r\n      Object.assign(this.events, events);\r\n    }\r\n  }, {\r\n    key: \"keys\",\r\n    value: function keys() {\r\n      return this.input.keys;\r\n    }\r\n  }, {\r\n    key: \"mouse\",\r\n    value: function mouse() {\r\n      return this.input.mouse;\r\n    }\r\n  }, {\r\n    key: \"mouseX\",\r\n    value: function mouseX() {\r\n      return this.input.x;\r\n    }\r\n  }, {\r\n    key: \"mouseY\",\r\n    value: function mouseY() {\r\n      return this.input.y;\r\n    }\r\n  }]);\r\n  return InputHandler;\r\n}();\r\n\r\nexports[\"default\"] = InputHandler;","\"use strict\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.SpriteActor = exports.InputHandler = exports.Stage = exports.Actor = exports[\"default\"] = void 0;\r\n\r\nvar _actor = _interopRequireDefault(require(\"./lib/actor\"));\r\n\r\nvar _spriteActor = _interopRequireDefault(require(\"./lib/spriteActor\"));\r\n\r\nvar _stage = _interopRequireDefault(require(\"./lib/stage\"));\r\n\r\nvar _inputHandler = _interopRequireDefault(require(\"./lib/inputHandler\"));\r\n\r\nvar _default = {\r\n  Actor: _actor[\"default\"],\r\n  InputHandler: _inputHandler[\"default\"],\r\n  Stage: _stage[\"default\"],\r\n  SpriteActor: _spriteActor[\"default\"]\r\n};\r\nexports[\"default\"] = _default;\r\nvar Actor = _actor[\"default\"],\r\n    Stage = _stage[\"default\"],\r\n    InputHandler = _inputHandler[\"default\"],\r\n    SpriteActor = _spriteActor[\"default\"];\r\nexports.SpriteActor = SpriteActor;\r\nexports.InputHandler = InputHandler;\r\nexports.Stage = Stage;\r\nexports.Actor = Actor;","import Engine from 'engine';\r\n\r\nexport default class Background extends Engine.Actor {\r\n    constructor(bounds) {\r\n        super(bounds);\r\n    }\r\n\r\n    render = (dt) => {\r\n        this.ctx.fillStyle = \"#000000\";\r\n        this.ctx.fillRect(this.bounds.x, this.bounds.y, this.bounds.width, this.bounds.height);\r\n    }\r\n}","import Engine from \"engine\"\r\n\r\n\r\n//any object that takes up one or more spaces on the map, and blocks the pathing of entities on the map\r\n//space is a 2D matrix of integers where 1 is a space that will be occupied, and 0 is a space that is not occupied by the terrain blocker\r\n// x, y is applied to the top left corner, or [0][0] of the space matrix\r\nexport default class TerrainBlocker extends Engine.Actor{\r\n    constructor(bounds, x, y, space){\r\n        super(bounds)\r\n        this.space = space //null indicates occupation of single tile\r\n        this.positionX = x;\r\n        this.positionY = y;\r\n        this.realX = (x + 1) * 50 - 25;\r\n        this.realY = (y + 1) * 50 - 25;\r\n        this.cost = 0;\r\n    }\r\n\r\n    getSpace(){\r\n        if (this.space == null){\r\n            return [[1]]\r\n        }\r\n        return this.space\r\n    }\r\n}","import Engine from 'engine';\r\nimport TerrainBlocker from './terrainBlocker';\r\nexport default class Block extends TerrainBlocker {\r\n    constructor(x, y) {\r\n        super({}, x, y, null);\r\n    }\r\n\r\n    render = (dt) => {\r\n        // this.ctx.fillStyle = \"white\";\r\n        // this.ctx.fillRect(this.x - 49, this.y - 49, 49, 49);\r\n        this.ctx.fillStyle = \"#8F8F8F\";\r\n        this.ctx.fillRect(this.realX - 25, this.realY - 25, 50, 50);\r\n\r\n        this.ctx.fillStyle = \"white\";\r\n        this.ctx.font = \"20px Arial\";\r\n        this.ctx.textAlign = \"center\";\r\n        this.ctx.fillText(\"B\", this.realX, this.realY + 8);\r\n    }\r\n}","import Engine from 'engine';\r\nexport default class EndPoint extends Engine.Actor {\r\n    constructor(x, y) {\r\n        super({});\r\n        this.x = x;\r\n        this.y = x;\r\n        this.realX = (x + 1) * 50 - 25;\r\n        this.realY = (y + 1) * 50 - 25;\r\n    }\r\n\r\n    render = (dt) => {/*\r\n        this.ctx.fillStyle = \"green\";\r\n        this.ctx.fillRect(this.x - 49, this.y - 49, 49, 49);\r\n\r\n        this.ctx.fillStyle = \"white\";\r\n        this.ctx.font = \"20px Arial\";\r\n        this.ctx.textAlign = \"center\";\r\n        this.ctx.fillText(\"E\", this.x - 25, this.y - 15);\r\n        */\r\n\r\n        this.ctx.fillStyle = \"green\";\r\n        this.ctx.fillRect(this.realX - 24, this.realY - 24, 50, 50);\r\n\r\n        this.ctx.fillStyle = \"white\";\r\n        this.ctx.font = \"20px Arial\";\r\n        this.ctx.textAlign = \"center\";\r\n        this.ctx.fillText(\"E\", this.realX, this.realY + 10);\r\n\r\n        \r\n    }\r\n}","import Engine from 'engine';\r\nexport default class Line extends Engine.Actor {\r\n    constructor(bounds) {\r\n        super(bounds);\r\n    }\r\n\r\n    render = () => {\r\n        this.ctx.fillStyle = \"white\";\r\n        this.ctx.fillRect(this.bounds.x, this.bounds.y, this.bounds.width, this.bounds.height);\r\n    }\r\n}","import Engine from \"engine\";\r\nimport moveOverPath from \"./movement\";\r\nexport default class Monster extends Engine.SpriteActor {\r\n  constructor(bounds, hp, speed, def, spriteObj) {\r\n    super(bounds, spriteObj);\r\n    //this.route = this.edgePath(path);\r\n    this.vertex = 0;\r\n    this.hp = hp;\r\n    this.maxHp = hp;\r\n    this.speed = speed;\r\n    this.def = def;\r\n    this.distance = 0;\r\n    this.positionX = 0;\r\n    this.positionY = 0;\r\n    this.path = [];\r\n    this.step = 0;\r\n    this.reachedGoal = false;\r\n    this.dead = false;\r\n    this.active = true;\r\n    this.id = 0;\r\n    this.px = Math.round(this.bounds.x);\r\n    this.py = Math.round(this.bounds.y);\r\n    this.effectsList = [];\r\n    this.statRenew = { hp: this.hp, speed: this.speed, def: this.def };\r\n    this.bounty = 1\r\n  }\r\n\r\n  /*\r\n  render = dt => {\r\n    //clearframe\r\n    this.ctx.fillStyle = \"black\";\r\n    this.ctx.fillRect(this.px, this.py, this.bounds.width, this.bounds.height);\r\n\r\n    this.px = Math.round(this.bounds.x);\r\n    this.py = Math.round(this.bounds.y);\r\n\r\n    //drawframe\r\n    let ratio = (this.hp / this.maxHp) * 255;\r\n    let hexComponent = Math.floor(ratio).toString(16);\r\n    //console.log(ratio + \" \" +hexComponent)\r\n    let colorString = \"yellow\";\r\n    this.ctx.fillStyle = colorString;\r\n    this.ctx.fillRect(this.px, this.py, this.bounds.width, this.bounds.height);\r\n  };*/\r\n\r\n  renew(param) {\r\n    console.log(this.statRenew);\r\n    if (param == \"hp\") {\r\n      this.hp = this.statRenew[\"hp\"];\r\n    }\r\n    if (param == \"speed\") {\r\n      this.speed = this.statRenew[\"speed\"];\r\n    }\r\n    if (param == \"def\") {\r\n      this.def = this.statRenew[\"def\"];\r\n    }\r\n  }\r\n\r\n  scaleStats(factor){\r\n    this.maxHp = this.maxHp * factor\r\n    this.hp = this.hp * factor\r\n    this.def = this.def * factor\r\n    this.bounty = Math.floor(this.bounty * factor)\r\n  }\r\n\r\n  updateEffects(dt) {\r\n    // console.log(JSON.stringify(this.effectsList));\r\n    for (var i = 0; i < this.effectsList.length; i++) {\r\n      // console.log(\"UPDATING TIME: \" + this.effectsList[i][\"effect\"].name);\r\n      this.effectsList[i][\"time\"] += dt;\r\n      if (\r\n        this.effectsList[i][\"time\"] >= this.effectsList[i][\"effect\"].maxTime\r\n      ) {\r\n        this.renew(this.effectsList[i][\"effect\"].modifier);\r\n        // console.log(\"EFFECT EXPIRED: \" + this.effectsList[i][\"effect\"].name);\r\n        // console.log(\"MONSTER'S SPEED RENEWED TO: \" + this.speed);\r\n        this.effectsList.pop(i);\r\n      } else {\r\n        // console.log(this.effectsList[i][\"time\"]);\r\n      }\r\n    }\r\n  }\r\n\r\n  updateZIndex(){\r\n    //600 max y\r\n    let newZ = 9 + (this.positionY/600)\r\n    //console.log(newZ)\r\n    this.stage.changeIndex(this, newZ)\r\n  }\r\n\r\n  update = dt => {\r\n    //console.log(\"acting! \" + this.getPosition() + \" hp: \" + this.getHp())\r\n    //console.log(this.id + \" acting\")\r\n    // if (this.effectsList != []) {\r\n    //   console.log(this.effectsList);\r\n    // }\r\n    this.updateEffects(dt);\r\n    //console.log(this.hp)\r\n    if (this.isDead()) {\r\n     \r\n      this.active = false;\r\n      //console.log(\"Dead! \" + this.getPosition() + \" hp: \" + this.getHp())\r\n      //console.log(this)\r\n      this.stage.enemyKilled(this.bounty);\r\n      this.destroyActor();\r\n      return;\r\n    }\r\n\r\n    moveOverPath(this, dt);\r\n    this.updateZIndex()\r\n    //this.distance -= this.speed*dt\r\n    this.updateRealPosition();\r\n    if (this.hasReachedGoal()) {\r\n      this.active = false;\r\n      this.stage.enemyReachedGoal();\r\n      //console.log(\"Reached goal! \" + this.getPosition())\r\n      //console.log(this)\r\n      this.destroyActor();\r\n    }\r\n  };\r\n\r\n  /*\r\n   * update position for engine. pass x y values to function that translates virtual to visual position\r\n   */\r\n  updateRealPosition() {\r\n    this.bounds.x = this.positionX * 50;\r\n    this.bounds.y = this.positionY * 50;\r\n  }\r\n\r\n  destroyActor(){\r\n    this.ctx.clearRect(\r\n      this.px,\r\n      this.py,\r\n      this.bounds.width * this.scale,\r\n      this.bounds.height * this.scale\r\n  )\r\n    this.stage.removeActor(this)\r\n    this.stage.removeActive(this)\r\n  }\r\n  /*\r\n  destroy() { //not working???\r\n    //this.ctx.clearRect((this.x1 + this.x2)/2, (this.y1 + this.y2)/2, Math.abs(this.x2-this.x1), Math.abs(this.y2-this.y1));\r\n    console.log(\"!!!\")\r\n    this.stage.removeActor(this)\r\n    this.stage.removeActive(this)\r\n  }\r\n  */\r\n  hasReachedGoal() {\r\n    this.reachedGoal = this.step + 1 >= this.path.length;\r\n    return this.reachedGoal;\r\n  }\r\n\r\n  setPath(path) {\r\n    this.path = path;\r\n    this.step = 0;\r\n  }\r\n\r\n  setStep(step) {\r\n    this.step = step;\r\n  }\r\n\r\n  //Function to subtract health.\r\n  takeDamage(damage) {\r\n    let temp = this.hp\r\n    this.hp = this.hp - Math.max(damage - this.def, 1);\r\n    //console.log(temp + \" -> \" + this.hp)\r\n  }\r\n\r\n  //Function to add health.\r\n  healDamage(heal) {\r\n    this.hp = this.hp + Math.min(this.hp + heal, this.maxHp);\r\n  }\r\n\r\n  //position given in [y, x] format\r\n  updatePosition(position) {\r\n    this.positionX = position[1];\r\n    this.positionY = position[0];\r\n    this.updateRealPosition();\r\n  }\r\n\r\n  //Function to change distance.\r\n  setDistance(distance) {\r\n    this.distance = distance;\r\n  }\r\n\r\n  getHp() {\r\n    return this.hp;\r\n  }\r\n  getSpeed() {\r\n    return this.speed;\r\n  }\r\n  getDef() {\r\n    return this.def;\r\n  }\r\n  getDistance() {\r\n    return this.distance;\r\n  }\r\n  //position given in [y, x] format\r\n  getPosition() {\r\n    return [this.positionY, this.positionX];\r\n  }\r\n  getPath() {\r\n    return this.path;\r\n  }\r\n  getStep() {\r\n    return this.step;\r\n  }\r\n  isDead() {\r\n    return this.hp <= 0\r\n  }\r\n\r\n  edgePath(path) {\r\n    // [y, x] coordinates\r\n    let horizontal = false;\r\n    let vertical = false;\r\n    let edgePath = [];\r\n\r\n    if (path[0][0] == path[1][0]) vertical = true;\r\n    else if (path[0][1] == path[1][1]) horizontal = true;\r\n\r\n    for (let i = 0; i < path.length - 1; i++) {\r\n      if (vertical) {\r\n        if (path[i][0] != path[i + 1][0]) {\r\n          edgePath.push(path[i]);\r\n          vertical = false;\r\n          horizontal = true;\r\n        }\r\n      } else if (horizontal) {\r\n        if (path[i][1] != path[i + 1][1]) {\r\n          edgePath.push(path[i]);\r\n          vertical = true;\r\n          horizontal = false;\r\n        }\r\n      }\r\n    }\r\n    edgePath.push(path[path.length - 1]);\r\n    return edgePath;\r\n  }\r\n  isActive() {\r\n    return this.active;\r\n  }\r\n}","export default function moveOverPath(mob, time){\r\n    if (time == 0 || mob.hasReachedGoal()){\r\n        return\r\n    }\r\n    //console.log(mob)\r\n    let speed = mob.getSpeed()\r\n    let currentPosition = mob.getPosition()\r\n    let distanceToTravel = speed * time\r\n    let path = mob.getPath()\r\n    let targetPosition = path[mob.getStep()+1]\r\n    let maximumStepDistance = Math.sqrt(Math.pow(currentPosition[0] - targetPosition[0], 2) + Math.pow(currentPosition[1] - targetPosition[1], 2))\r\n    //snap to next position, recursive call\r\n    if (maximumStepDistance <= distanceToTravel){\r\n        let newDistanceToTravel = distanceToTravel - maximumStepDistance\r\n        let newTime = newDistanceToTravel / speed\r\n        //console.log(\"time = \" + newTime)\r\n        mob.setDistance(mob.getDistance() - maximumStepDistance)\r\n        mob.setStep(mob.getStep() + 1)\r\n        mob.updatePosition(targetPosition)\r\n        moveOverPath(mob, newTime)\r\n        return\r\n    }\r\n    let xFactor = 0\r\n    let yFactor = 0\r\n    //all x movement\r\n    if (currentPosition[0] - targetPosition[0] == 0){\r\n        xFactor = distanceToTravel\r\n        if (currentPosition[1] - targetPosition[1] > 0){\r\n            xFactor = -xFactor\r\n        }\r\n    }\r\n    //all y movement\r\n    else if (currentPosition[1] - targetPosition[1] == 0){\r\n        yFactor = distanceToTravel\r\n        if (currentPosition[0] - targetPosition[0] > 0){\r\n            yFactor = -yFactor\r\n        }\r\n    }\r\n    //mixed movement\r\n    else{\r\n        let angle = Math.atan((currentPosition[0] - targetPosition[0])/(currentPosition[1] - targetPosition[1]))\r\n        xFactor = distanceToTravel * Math.cos(angle)\r\n        yFactor = distanceToTravel * Math.sin(angle)\r\n    }\r\n    \r\n    let newPosition = [currentPosition[0] + yFactor, currentPosition[1] + xFactor]\r\n    mob.updatePosition(newPosition)\r\n    mob.setDistance(mob.getDistance() - distanceToTravel)\r\n    //mob.setStep(mob.getStep()+1)\r\n}\r\n","import Engine from 'engine';\r\nexport default class Node extends Engine.Actor {\r\n    constructor(bounds) {\r\n        super(bounds);\r\n    }\r\n\r\n    render = (dt) => {\r\n        this.ctx.fillStyle = \"blue\";\r\n        this.ctx.fillRect(this.bounds.x, this.bounds.y, this.bounds.width, this.bounds.height);\r\n    }\r\n}\r\n","\r\n/*\r\n * To use pather, follow directions directly below. Any other functions are likely not useful\r\n * outside of this context.\r\n */\r\n\r\n\r\n/*\r\n * generates a path given a matrix and starting coordinates\r\n * After creating Pather object, call initializeGraph(matrix) with a matrix with the following encoding:\r\n * \r\n * 0's are a section of the map that the pather can traverse.\r\n * 1's are a section of the map that the pather cannot traverse.\r\n * 2's are a section of the map that represents a possible end point.\r\n * any other encodings are ignored and treated as 1's.\r\n * \r\n * call initializeGraph(matrix) whenever the map changes, or the paths created may not be accurate.\r\n * call findShortestPathToEnds(xStart, yStart) to generate a new list of lists representation of the coordinates traversed \r\n * \r\n * example usage:\r\n   let p = new Pather()\r\n   let matrix = [\r\n            [0, 1],\r\n            [2, 2]\r\n        ]\r\n        let start = [0, 0]\r\n        let expected = [[0, 0],[1, 0]]\r\n        p.initializeGraph(matrix)\r\n        let path = p.findShortestPathToEnds(start[0], start[1])\r\n */\r\nexport default class Pather {\r\n    constructor() {\r\n        this.graph = null\r\n        this.map = null\r\n        this.endpoints = null\r\n    }\r\n\r\n    /*\r\n     * Takes a matrix to create a graph representation made of nodes\r\n     * adjacent values in the matrix can be linked in node form if their values are 1\r\n     * values that are 0 do not link\r\n     */\r\n    initializeGraph(matrix) {\r\n        this.graph = this.matrixToGraph(matrix)\r\n        this.graph.wipeAllPathData()\r\n    }\r\n    /*\r\n     * converts a matrix into a graph/node representation\r\n     */\r\n    matrixToGraph(matrix) {\r\n        let g = new Graph()\r\n        let nodeMatrix = new Array(matrix.length)\r\n        for (let i = 0; i < matrix.length; i++) {\r\n            nodeMatrix[i] = new Array(matrix[0].length)\r\n        }\r\n        for (let i = 0; i < matrix.length; i++) {\r\n            for (let j = 0; j < matrix[0].length; j++) {\r\n                let val = matrix[i][j]\r\n                if(val == 3) { //spawner code\r\n                    val = 0\r\n                }\r\n                if (val == 0 || val == 2) {\r\n                    let n = new PathNode(j, i, val)\r\n                    g.addNode(n)\r\n                    nodeMatrix[i][j] = n\r\n                }\r\n            }\r\n        }\r\n        //console.log(nodeMatrix.length + \" by \" + nodeMatrix[0].length)\r\n\r\n        this.connectAdjacents(nodeMatrix)\r\n        return g\r\n    }\r\n\r\n    /*\r\n     * sets references to neighboring nodes determined by their place in the matrix of nodes. \r\n     * connects up, down, left, right to the center node.\r\n     */\r\n    connectAdjacents(nodeMatrix) {\r\n        for (let i = 0; i < nodeMatrix.length; i++) {\r\n            for (let j = 0; j < nodeMatrix[0].length; j++) {\r\n                let n = nodeMatrix[i][j]\r\n                if (nodeMatrix[i][j] === undefined) {\r\n                    continue;\r\n                }\r\n                if (j > 0) //add left neighbor\r\n                {\r\n                    if (!(nodeMatrix[i][j - 1] === undefined)) {\r\n                        n.adjacentNodes.push([nodeMatrix[i][j - 1], 1])\r\n                    }\r\n                }\r\n                if (j < nodeMatrix[0].length - 1) //add right neighbor\r\n                {\r\n                    if (!(nodeMatrix[i][j + 1] === undefined)) {\r\n                        n.adjacentNodes.push([nodeMatrix[i][j + 1], 1])\r\n                    }\r\n                }\r\n                if (i > 0) //add above neighbor\r\n                {\r\n                    if (!(nodeMatrix[i - 1][j] === undefined)) {\r\n                        n.adjacentNodes.push([nodeMatrix[i - 1][j], 1])\r\n                    }\r\n                }\r\n                if (i < nodeMatrix.length - 1) //add below neighbor\r\n                {\r\n                    if (!(nodeMatrix[i + 1][j] === undefined)) {\r\n                        n.adjacentNodes.push([nodeMatrix[i + 1][j], 1])\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /*\r\n     * given the start and end coordinates, return a list of coordinates in the format [x, y]\r\n     * the order of these coordinates determines the path from start to end\r\n     */\r\n    findShortestPathToEnds(xStart, yStart) {\r\n        this.graph.wipeAllPathData()\r\n        let startNode = this.graph.getNode(xStart, yStart)\r\n        this.findShortestPaths(startNode)\r\n        let shortest = this.searchShortestPathToEnds()\r\n        if (shortest == null){\r\n            return null\r\n        }\r\n        let shortestpath = shortest.shortestPath\r\n        shortestpath.push(shortest)\r\n        let result = this.convertPathToListOfLists(shortestpath)\r\n        return result\r\n    }\r\n\r\n\r\n    /*\r\n     * searches among the nodes for the endpoint nodes, from there, find the endpoint with the shortest path and return path, null if none are found\r\n     */\r\n    searchShortestPathToEnds() {\r\n        let shortest = null;\r\n        let shortestDistance = Number.MAX_SAFE_INTEGER\r\n        for (let i = 0; i < this.graph.nodes.length; i++) {\r\n            let node = this.graph.nodes[i]\r\n            if (node.id == 2 && node.distance < shortestDistance) {\r\n                shortest = node;\r\n                shortestDistance = node.distance\r\n            }\r\n        }\r\n        if (shortest == null) {\r\n            return null\r\n        }\r\n        return shortest\r\n    }\r\n\r\n    convertPathToListOfLists(path) {\r\n        let result = []\r\n        for (let i = 0; i < path.length; i++) {\r\n            data = path[i]\r\n            let data = [data.y, data.x]\r\n            result.push(data)\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /*\r\n     *given a source node, calculate the shortest path to every node that the specified node can reach.\r\n     *\r\n     */\r\n    findShortestPaths(source) {\r\n        source.setDistance(0)\r\n        let unsettledNodes = []\r\n        let settledNodes = []\r\n\r\n        unsettledNodes.push(source)\r\n        let a = 0\r\n        while (unsettledNodes.length != 0) {\r\n            a++\r\n            let currentNode = this.getLowestDistanceNode(unsettledNodes)\r\n            unsettledNodes.splice(unsettledNodes.indexOf(currentNode), 1)\r\n\r\n            for (let i = 0; i < currentNode.adjacentNodes.length; i++) {\r\n                let adjacentNode = currentNode.adjacentNodes[i][0]\r\n                let edgeWeight = currentNode.adjacentNodes[i][1]\r\n                if (!settledNodes.includes(adjacentNode) && !unsettledNodes.includes(adjacentNode)) {\r\n                    this.calculateMinimumDistance(adjacentNode, edgeWeight, currentNode)\r\n                    unsettledNodes.push(adjacentNode)\r\n                }\r\n            }\r\n            settledNodes.push(currentNode)\r\n        }\r\n        //console.log(a + \" iterations\")\r\n    }\r\n\r\n    /*\r\n     * return the node in the list that is not settled with the shortest path\r\n     */\r\n    getLowestDistanceNode(unsettledNodes) {\r\n        let lowest = null\r\n        let lowestDistance = Number.MAX_SAFE_INTEGER\r\n        for (let i = 0; i < unsettledNodes.length; i++) {\r\n            let nodeDistance = unsettledNodes[i].distance\r\n            if (nodeDistance < lowestDistance) {\r\n                lowestDistance = nodeDistance\r\n                lowest = unsettledNodes[i]\r\n            }\r\n        }\r\n\r\n        return lowest;\r\n    }\r\n\r\n    calculateMinimumDistance(evaluationNode, edgeWeight, sourceNode) {\r\n        let sourceDistance = sourceNode.distance\r\n        if (sourceDistance + edgeWeight < evaluationNode.distance) {\r\n            evaluationNode.setDistance(sourceDistance + edgeWeight)\r\n            let shortestPath = []\r\n            for (let i = 0; i < sourceNode.shortestPath.length; i++) {\r\n                shortestPath.push(sourceNode.shortestPath[i])\r\n            }\r\n            shortestPath.push(sourceNode)\r\n            evaluationNode.setShortestPath(shortestPath)\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n/*\r\n * Node used in graph \r\n */\r\nclass PathNode {\r\n    constructor(x, y, id) {\r\n        this.distance = Number.MAX_SAFE_INTEGER;\r\n        this.shortestPath = [];\r\n        this.adjacentNodes = [];\r\n        this.x = x;\r\n        this.y = y;\r\n        this.id = id;\r\n    }\r\n    setShortestPath(path) {\r\n        this.shortestPath = path;\r\n    }\r\n    setDistance(distance) {\r\n        this.distance = distance;\r\n    }\r\n}\r\n\r\n/*\r\n * graph construct to contain nodes\r\n */\r\nclass Graph {\r\n    constructor() {\r\n        this.nodes = []\r\n    }\r\n\r\n    /*\r\n     * iterates through all nodes in graph\r\n     * resets all pathing information\r\n     * to run another pathing check, run this first\r\n     */\r\n    wipeAllPathData() {\r\n        for (let i = 0; i < this.nodes.length; i++) {\r\n            let node = this.nodes[i]\r\n            node.setShortestPath(node)\r\n            node.distance = Number.MAX_SAFE_INTEGER\r\n        }\r\n\r\n    }\r\n    /*\r\n     * searches and returns for a node with given x y coordinates\r\n     */\r\n    getNode(x, y) {\r\n        for (let i = 0; i < this.nodes.length; i++) {\r\n            let node = this.nodes[i]\r\n            if (node.x == x && node.y == y) {\r\n                return node;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    addNode(node) {\r\n        this.nodes.push(node)\r\n    }\r\n}\r\n","export default class DOMElement {\r\n        constructor(element) {\r\n            this.element = document.createElement(element);\r\n        }\r\n        \r\n        applyStyles(styles) {\r\n            Object.assign(this.element.style, styles);\r\n        }\r\n    \r\n        changeText(text) {\r\n            this.text = text;\r\n            this.element.textContent = text;\r\n        }\r\n}","import DOMElement from \"./domElement\";\r\nimport Image from \"./image\";\r\n\r\nexport default class ImageHoverText extends Image {\r\n    constructor(image, x, y, width, height, alt_text){\r\n        super(image, x, y, width, height);\r\n        this.alt = new DOMElement('p');\r\n        this.alt.applyStyles(\r\n            {\r\n                position: \"fixed\",\r\n                top: `${y+20}px`,\r\n                left: `${x+26}px`,\r\n                display: 'none',\r\n                color: 'grey',\r\n            });\r\n        this.alt.changeText(alt_text)\r\n    }\r\n\r\n    handler_onHover() {\r\n        console.log(\"Hi!\");\r\n        this.alt.applyStyles({\r\n            display: 'block'\r\n        })\r\n    }\r\n\r\n    handler_onExit() {\r\n        console.log(\"Bye!\");\r\n        this.alt.applyStyles({\r\n            display: 'none'\r\n        })\r\n    }\r\n\r\n    create(){\r\n        this.gui.addInterface(this.alt)\r\n    }\r\n\r\n    changeAltText(alt_text) {\r\n        this.alt.changeText(alt_text);\r\n    }\r\n}","import DOMElement from \"./domElement\";\r\n\r\nexport default class Image extends DOMElement {\r\n    constructor(image, x, y, width, height) {\r\n        super(\"img\");\r\n        this.element.src = image;\r\n        this.changePosition(x, y);\r\n        this.changeSize(width, height);\r\n        this.element.style.zIndex = \"-1\";\r\n    }\r\n\r\n    handler_onHover() {\r\n\r\n    }\r\n\r\n    handler_onExit() {\r\n    \r\n    }\r\n\r\n    attachHandler() {\r\n        this.element.removeEventListener(\"mouseover\", this.handler_onHover)\r\n        this.element.addEventListener(\"mouseover\", this.handler_onHover.bind(this));\r\n        this.element.removeEventListener(\"mouseout\", this.handler_onExit)\r\n        this.element.addEventListener(\"mouseout\", this.handler_onExit.bind(this));\r\n    }\r\n\r\n    changePosition(x, y) {\r\n        this.applyStyles(\r\n            {\r\n                position: \"fixed\",\r\n                top: `${y}px`,\r\n                left: `${x}px`\r\n            });\r\n    }\r\n\r\n    changeSize(w, h) {\r\n        this.applyStyles(\r\n            {\r\n                width: `${w}px`,\r\n                height: `${h}px`\r\n            });\r\n    }\r\n}","import Engine from \"engine\";\r\nimport ImageHoverText from \"./ui/imageHoverText\"\r\n\r\nexport default class Player extends Engine.Actor {\r\n  constructor(hp, currency) {\r\n    super({});\r\n    this.currency = currency;\r\n    this.hp = hp;\r\n    this.blockerSelect = null;\r\n\r\n    this.wallet = new ImageHoverText(\"../spriteAssets/world/tear.png\", 100, 600, 80, 80, \"\" + this.currency);\r\n    this.lifeCounter = new ImageHoverText(\"../spriteAssets/world/heart.png\", 5, 600, 80, 80, \"\" + this.hp);\r\n  }\r\n\r\n  update = dt => {\r\n    this.wallet.changeAltText(\"\" + this.currency);\r\n    this.lifeCounter.changeAltText(\"\" + this.hp);\r\n  };\r\n\r\n  //Function to add money.\r\n  gainMoney(money) {\r\n    this.currency += money;\r\n    //console.log(\"Wallet = \" + this.currency)\r\n  }\r\n\r\n  //Function to subtract money.\r\n  spendMoney(money) {\r\n    this.currency -= money;\r\n    //console.log(\"Wallet = \" + this.currency)\r\n  }\r\n\r\n  getMoney() {\r\n    return this.currency;\r\n  }\r\n  getHp() {\r\n    return this.hp;\r\n  }\r\n\r\n  damage(damage) {\r\n    this.hp -= damage;\r\n    //console.log(\"HP = \" + this.hp)\r\n    if (this.isDead()) {\r\n      this.stage.playerKilled();\r\n    }\r\n  }\r\n  isDead() {\r\n    return this.hp <= 0;\r\n  }\r\n}\r\n","import Engine from 'engine';\r\nimport Monster from './monster';\r\n\r\n/*\r\n * spawn list in format of\r\n * \r\n * [ <- every contained list in this bracket is a wave\r\n *      [ <- every contained list is a group of enemies for a spawner to take\r\n *          [ <- every contained list is a pair of [timing, monster]\r\n *              [timing, monster]\r\n *          ]\r\n *      ]\r\n * ]\r\n */\r\n\r\nexport default class Spawner extends Engine.Actor {\r\n    constructor(x, y) {\r\n        super({});\r\n        this.positionX = x\r\n        this.positionY = y\r\n        this.realx = (x + 1) * 50;\r\n        this.realy = (y + 1) * 50;\r\n        this.path = [];\r\n        this.mobs = [];\r\n        this.spawned = [];\r\n        this.startTime = 0.0;\r\n        this.distance = 0\r\n        this.scaleFunction = null\r\n        this.scale = 1\r\n    }\r\n\r\n    setScaleFunction(func){\r\n        this.scaleFunction = func\r\n    }\r\n    updateScale(n){\r\n        this.scale = this.scaleFunction(n)\r\n    }\r\n\r\n    mobsExhausted(){\r\n        if (this.mobs.length == 0){\r\n            for(let i = 0; i < this.spawned.length; i++){\r\n                if (this.spawned[i].isActive()){//!(this.spawned[i].isDead() || this.spawned[i].hasReachedGoal())){\r\n                    //console.log(\"not exhausted\")\r\n                    //console.log(this.spawned[i].id)\r\n                    return false\r\n                }\r\n            }\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    update = (dt) => {\r\n        this.spawnMobs(dt)\r\n    }\r\n\r\n    getPosition(){\r\n        return [this.positionX, this.positionY]\r\n    }\r\n\r\n    isEmpty(){\r\n        return this.mobs.length == 0\r\n    }\r\n\r\n    setPath(path){\r\n        this.path = path\r\n        this.distance = this.sumPath(path)\r\n    }\r\n\r\n    sumPath(path){\r\n        let total = 0\r\n        for(let i = 1; i < path.length; i++){\r\n           total += Math.sqrt(Math.pow(path[i-1][0] - path[i][0], 2) + Math.pow(path[i-1][1] - path[i][1], 2))\r\n       }\r\n        return total\r\n    }\r\n\r\n    /*\r\n     *uses realx and realy not x, y, which are virtual representations, not graphical\r\n     */\r\n    render = (dt) => {\r\n        this.ctx.fillStyle = \"red\";\r\n        this.ctx.fillRect(this.realx - 49, this.realy - 49, 49, 49);\r\n\r\n        this.ctx.fillStyle = \"white\";\r\n        this.ctx.font = \"20px Arial\";\r\n        this.ctx.textAlign = \"center\";\r\n        this.ctx.fillText(\"S\", this.realx - 25, this.realy - 15);\r\n    }\r\n\r\n    /*\r\n     * takes a list of lists where the inner list is\r\n     * [timing, mob]\r\n     * the list must be sorted in order of increasing timing\r\n     */\r\n    setMobs(mobs) {\r\n        this.mobs = mobs\r\n        this.startTime = 0.0\r\n        this.spawned = []\r\n    }\r\n\r\n    spawnMobs(deltaTime) {\r\n        this.startTime += deltaTime\r\n        while (this.mobs.length > 0 && this.mobs[0][0] <= this.startTime) {\r\n            let toSpawn = this.mobs[0][1]\r\n            this.mobs.shift()\r\n            this.spawn(toSpawn)\r\n        }\r\n    }\r\n\r\n    /*\r\n     * adds mob to world, sets coordinates to the spawner's, copies the path to the mob\r\n     */\r\n    spawn(mobType) {\r\n        //console.log(mobType)\r\n        let mob = new mobType({ x: 0, y: 0, width: 0, height: 0 })\r\n        mob.scaleStats(this.scale)\r\n        mob.updatePosition([this.positionY, this.positionX])\r\n        mob.setDistance(this.distance)\r\n        mob.setPath(this.path)\r\n        //console.log(mob)\r\n        this.stage.addActor(mob, 9)\r\n        this.stage.addActive(mob)\r\n        if(mob instanceof Monster) {\r\n            //console.log(\"YEAH BITCH\")\r\n            mob.ctx = this.stage.fCanvas.getContext('2d')\r\n          }\r\n        this.spawned.push(mob)\r\n        //console.log(mob)\r\n    }\r\n\r\n    mobsRemaining() {\r\n        return this.mobs.length\r\n    }\r\n}\r\n","import Engine from 'engine';\r\nexport default class BulletLine extends Engine.Actor {\r\n    constructor(maxLifeTime, x1, y1, x2, y2) {\r\n        super({});\r\n        this.maxLifeTime = maxLifeTime\r\n        this.lifeTime = maxLifeTime\r\n        this.x1 = x1;\r\n        this.y1 = y1;\r\n        this.x2 = x2\r\n        this.y2 = y2\r\n    }\r\n\r\n    update = (dt) => {\r\n        this.lifeTime = this.lifeTime - dt\r\n        if (this.lifeTime <= 0){\r\n            this.destroy(dt)\r\n        }\r\n    }\r\n\r\n    destroy = (dt) => {\r\n        this.ctx.clearRect((this.x1 + this.x2)/2, (this.y1 + this.y2)/2, Math.abs(this.x2-this.x1), Math.abs(this.y2-this.y1));\r\n        this.stage.removeActor(this)\r\n    }\r\n\r\n    render = (dt) => {\r\n        let ratio = (this.lifeTime / this.maxLifeTime) * 254\r\n        \r\n        let hexComponent = Math.floor(ratio).toString(16)\r\n        let colorString = \"#\" + hexComponent + hexComponent + hexComponent\r\n        this.ctx.strokeStyle = colorString;\r\n        this.ctx.beginPath();\r\n        this.ctx.moveTo(this.x1, this.y1);\r\n        this.ctx.lineTo(this.x2, this.y2);\r\n        this.ctx.stroke();\r\n    }\r\n}","import TerrainBlocker from \"./terrainBlocker\"\r\nimport Engine from \"engine\";\r\nimport BulletLine from \"./bulletLine\";\r\n\r\nconst targeting = Object.freeze({\r\n  HIGH_HP: \"highestHP\",\r\n  LOW_HP: \"lowestHP\",\r\n  NEAR: \"nearest\",\r\n  FAR: \"furthest\"\r\n});\r\n\r\nexport default class Tower extends TerrainBlocker {\r\n  constructor(x, y) {\r\n    super({}, x, y, null);\r\n\r\n    this.atkspeed;\r\n    this.atk;\r\n    this.targetingMode = targeting.NEAR;\r\n    this.range;\r\n    this.aimAngle = 0.0;\r\n    this.target = null;\r\n    this.shotTimer = 0;\r\n\r\n    this.level = 1;\r\n    this.effect = null;\r\n  }\r\n\r\n  update = dt => {\r\n    this.shotTimer += dt;\r\n    if (this.shotTimer > this.atkspeed) {\r\n      this.shotTimer = this.atkspeed;\r\n    }\r\n    if (\r\n      this.target == null ||\r\n      !this.target.isActive() ||\r\n      this.target.hasReachedGoal() ||\r\n      this.target.isDead() ||\r\n      !this.targetInRange()\r\n    ) {\r\n      //console.log(\"seeking target\")\r\n      this.findTarget();\r\n      return;\r\n    }\r\n    if (this.target == null) {\r\n    } else {\r\n      this.turnToTarget(this.target);\r\n      this.shoot(dt);\r\n    }\r\n  };\r\n\r\n  targetInRange() {\r\n    let distance = Math.sqrt(\r\n      Math.pow(this.positionX - this.target.positionX, 2) +\r\n        Math.pow(this.positionY - this.target.positionY, 2)\r\n    );\r\n    return distance <= this.range;\r\n  }\r\n\r\n  shoot(time) {\r\n    if (this.shotTimer >= this.atkspeed) {\r\n      //console.log(\"shooting!\")\r\n      this.shotTimer -= this.atkspeed;\r\n      this.fireBulletNoProjectile();\r\n      if (this.effect != null) {\r\n        // console.log(\"TOWER EFFECT: \" + this.effect);\r\n        // console.log(\"MONSTER SPEED: \" + this.target.speed);\r\n        this.effect.attach(this.target);\r\n        // console.log(\r\n        //   \"MONSTER EFFECTS: \" + JSON.stringify(this.target.effectsList)\r\n        // );\r\n        // console.log(\"EFFECTS TIME: \" + this.target.effectsList[0][\"time\"]);\r\n        // console.log(\"MONSTER SPEED: \" + this.target.speed);\r\n      }\r\n    }\r\n  }\r\n\r\n  fireBulletNoProjectile() {\r\n    this.stage.addActor(\r\n      new BulletLine(\r\n        50,\r\n        this.realX,\r\n        this.realY,\r\n        this.target.px + 25,\r\n        this.target.py + 25\r\n      ),\r\n      30\r\n    );\r\n    //console.log(this.realX + \" \" + this.realY + \" \" + this.target.px + \" \" + this.target.py)\r\n    this.target.takeDamage(this.atk);\r\n  }\r\n\r\n  render = dt => {};\r\n\r\n  turnToTarget(target) {\r\n    let targetPosition = target.getPosition();\r\n    let currentPosition = [this.positionY, this.positionX];\r\n    //pointing straight up or straight down case to avoid NaN with Math.atan() function\r\n    if (currentPosition[1] - targetPosition[1] == 0) {\r\n      if (currentPosition[0] - targetPosition[0] >= 0) {\r\n        this.aimAngle = Math.PI * 0.5;\r\n      } else {\r\n        this.aimAngle = Math.PI * 1.5;\r\n      }\r\n    }\r\n    //general case\r\n    else {\r\n      this.aimAngle = Math.atan(\r\n        (currentPosition[0] - targetPosition[0]) /\r\n          (currentPosition[1] - targetPosition[1])\r\n      );\r\n    }\r\n  }\r\n\r\n  findTarget() {\r\n    let inRange = this.findInRadius(this.stage.getActiveEnemies());\r\n    this.target = this.prioritizeTarget(inRange);\r\n  }\r\n\r\n  findInRadius(entities) {\r\n    let h = this.positionX;\r\n    let k = this.positionY;\r\n    let array = [];\r\n\r\n    entities.forEach(element => {\r\n      let x = element.positionX;\r\n      let y = element.positionY;\r\n      let distance = Math.sqrt((x - h) ** 2 + (y - k) ** 2);\r\n      if (distance <= this.range) {\r\n        array.push(element);\r\n      }\r\n    });\r\n\r\n    return array;\r\n  }\r\n\r\n  prioritizeTarget(entities) {\r\n    let target = entities[0];\r\n\r\n    switch (this.targetingMode) {\r\n      //Target monster with the lowest HP.\r\n      case targeting.LOW_HP:\r\n        entities.forEach(element => {\r\n          if (element.hp < target.hp) {\r\n            target = element;\r\n          }\r\n        });\r\n        break;\r\n\r\n      //Target monster with the highest HP.\r\n      case targeting.HIGH_HP:\r\n        entities.forEach(element => {\r\n          if (element.hp > target.hp) {\r\n            target = element;\r\n          }\r\n        });\r\n        break;\r\n\r\n      //Target monster nearest to the end point.\r\n      case targeting.NEAR:\r\n        entities.forEach(element => {\r\n          if (element.distance < target.distance) {\r\n            target = element;\r\n          }\r\n        });\r\n        break;\r\n\r\n      //Target monster furthest to the end point.\r\n      case targeting.FAR:\r\n        entities.forEach(element => {\r\n          if (element.distance > target.distance) {\r\n            target = element;\r\n          }\r\n        });\r\n        break;\r\n    }\r\n\r\n    return target;\r\n  }\r\n\r\n  upgradeTower = () => {};\r\n\r\n  //Function to change targeting mode.\r\n  setMode(targetingMode) {\r\n    this.targetingMode = targetingMode;\r\n  }\r\n\r\n  //Function to change tower range.\r\n  setRange(range) {\r\n    this.range = range;\r\n  }\r\n}\r\n","import DOMElement from \"./domElement\"\r\n\r\nexport default class Notification extends DOMElement {\r\n    constructor(text, lifetime = 2000) {\r\n        super(\"div\");\r\n        this.lifetime = lifetime;\r\n        this.changeText(text);\r\n        this.init();\r\n        this.intro();\r\n        this.outro();\r\n    }\r\n\r\n    //function called for setup\r\n    init() {\r\n        this.applyStyles({\r\n            opacity: 1,\r\n            fontSize: \"30px\"\r\n        });\r\n    }\r\n\r\n    //function called for intro animation(default is nothing)\r\n    intro() {\r\n\r\n    }\r\n\r\n    //function called for outro animation(default is opacity fade)\r\n    outro() {\r\n        let count = 1;\r\n        let fps = 60;\r\n        let fadeout = window.setInterval(function () {\r\n            if (count <= 0) {\r\n                window.clearInterval(fadeout);\r\n                this.gui.removeInterface(this);\r\n            }\r\n            this.applyStyles({\r\n                opacity: count\r\n            });\r\n            count -= 1/fps;\r\n        }.bind(this), this.lifetime/fps);\r\n    }\r\n}","import Engine from 'engine';\r\nimport Notification from \"./ui/notification\";\r\n\r\nexport default class WaveTimer extends Engine.Actor{\r\n    constructor(){\r\n        super({})\r\n        this.spawners = []\r\n        this.waveStep = 0\r\n        this.waves = []\r\n        this.enabled = false\r\n    }\r\n\r\n    update = (dt) => {\r\n        //console.log(this.waveCompleted())\r\n        if (!this.enabled){\r\n            return\r\n        }\r\n        if(this.waveStep == this.waves.length){\r\n            return\r\n        }\r\n        if (this.waveCompleted()){\r\n            this.stage.gui.addInterface(new Notification(\"starting wave \" + (this.waveStep + 1)))\r\n            console.log(\"starting wave \" + this.waveStep)\r\n            \r\n            this.startWave()\r\n            this.enabled = false\r\n        }\r\n    }\r\n\r\n\r\n    startWave(){\r\n        \r\n        for(let i = 0; i < this.spawners.length; i++){\r\n            this.spawners[i].setMobs(this.waves[this.waveStep][i])\r\n            this.spawners[i].updateScale(this.waveStep)\r\n        }\r\n        this.waveStep ++\r\n    }\r\n\r\n    setWaves(waves){\r\n        this.waves = waves\r\n        this.waveStep = 0\r\n    }\r\n\r\n    setSpawners(spawners){\r\n        this.spawners = spawners\r\n    }\r\n\r\n    waveCompleted(){\r\n        //console.log(this.stage.events)\r\n        for(let i = 0; i < this.spawners.length; i++){\r\n            if (!this.spawners[i].mobsExhausted()){\r\n                return false\r\n            }\r\n        }\r\n        return true\r\n    }\r\n\r\n    enable(){\r\n        this.enabled = true\r\n    }\r\n    disable(){\r\n        this.enabled = false\r\n    }\r\n    isEnabled(){\r\n        return this.enabled\r\n    }\r\n}","import Engine from 'engine';\r\n\r\n//Class and constructor to initiate shop object.\r\nexport default class Shop extends Engine.Actor {\r\n    constructor() {\r\n        super({})\r\n        this.inventory = [];\r\n    }\r\n\r\n    //Function that accepts an index for tower selection\r\n    //Then it deducts from player currency and returns a new tower object.\r\n    buy(towerIndex) {\r\n        this.spendMoney(this.selection[towerIndex].cost);\r\n        return this.selection[towerIndex];\r\n    }\r\n\r\n    addInventoryItem(item, price){\r\n\r\n    }\r\n\r\n    //Function that accepts a tower object and refunds 50% of cost.\r\n    sell(tower) {\r\n        this.gainMoney(tower.cost / 2);\r\n        //Destroy object here.\r\n    }\r\n\r\n    //Function that accepts an index in tower selection and returns its cost.\r\n    getCost(towerIndex) {\r\n        return this.selection[towerIndex].cost;\r\n    }\r\n}\r\n\r\n//export { Shop };","//Low damage but fast firing tower\r\nimport Tower from './tower'\r\n\r\nexport default class LightTower extends Tower{\r\n    constructor(x, y){\r\n        super(x, y);\r\n        this.atkspeed = 70;\r\n        this.atk = 3;\r\n        this.range = 3;\r\n        this.cost = 50;\r\n    }\r\n\r\n    render = (dt) => {\r\n        this.ctx.fillStyle = \"lightblue\";\r\n        this.ctx.fillRect(this.realX - 24, this.realY - 24, 49, 49);\r\n\r\n        this.ctx.fillStyle = \"white\";\r\n        this.ctx.font = \"20px Arial\";\r\n        this.ctx.textAlign = \"center\";\r\n        this.ctx.fillText(\"L\", this.realX, this.realY + 10);\r\n\r\n        this.ctx.strokeStyle = \"white\";\r\n        this.ctx.beginPath();\r\n        this.ctx.arc(this.realX, this.realY, this.range * 50, 0, 2 * Math.PI);\r\n        this.ctx.stroke();\r\n    }\r\n\r\n    upgrade = () => {\r\n        if(this.level < 4){\r\n            this.atk += 1\r\n            this.range += 0.5\r\n            this.atkspeed -= 20\r\n            this.level += 1\r\n        }\r\n    }\r\n}","export default class Effect {\r\n  constructor(name, modifier, value) {\r\n    this.name = name;\r\n    this.modifier = modifier;\r\n    this.value = value;\r\n    this.maxTime = 2000;\r\n  }\r\n  attach(monster) {\r\n    if (this.modifier == \"def\") {\r\n      monster.def = this.value;\r\n    }\r\n    if (this.modifier == \"speed\") {\r\n      monster.speed = this.value;\r\n    }\r\n    let contains = false;\r\n    for (var i = 0; i < monster.effectsList.length; i++) {\r\n      if (monster.effectsList[i][\"effect\"].name == this.name) {\r\n        contains = true;\r\n        break;\r\n      }\r\n    }\r\n    if (contains == false) {\r\n      monster.effectsList.push({ effect: this, time: 0 });\r\n    }\r\n  }\r\n}\r\n","//Low damage but fast firing tower\r\nimport Tower from \"./tower\";\r\nimport Effect from \"./effect\";\r\n\r\nexport default class HeavyTower extends Tower {\r\n  constructor(x, y) {\r\n    super(x, y);\r\n    this.atkspeed = 450;\r\n    this.atk = 15;\r\n    this.range = 6;\r\n    this.cost = 75;\r\n    this.effect = new Effect(\"slow\", \"speed\", 0.000000001);\r\n\r\n  }\r\n\r\n  render = dt => {\r\n    this.ctx.fillStyle = \"orange\";\r\n    this.ctx.fillRect(this.realX - 24, this.realY - 24, 49, 49);\r\n\r\n    this.ctx.fillStyle = \"white\";\r\n    this.ctx.font = \"20px Arial\";\r\n    this.ctx.textAlign = \"center\";\r\n    this.ctx.fillText(\"H\", this.realX, this.realY + 10);\r\n\r\n    this.ctx.strokeStyle = \"white\";\r\n    this.ctx.beginPath();\r\n    this.ctx.arc(this.realX, this.realY, this.range * 50, 0, 2 * Math.PI);\r\n    this.ctx.stroke();\r\n  };\r\n\r\n  upgrade = () => {\r\n    if (this.level < 4) {\r\n      this.atk += 2;\r\n      this.range += 0.5;\r\n      this.atkspeed -= 40;\r\n      this.level += 1;\r\n    }\r\n  };\r\n}\r\n","export default {\r\n  name: \"monkey-student\",\r\n  properties: {},\r\n  states: {\r\n    idle: {\r\n      location: \"http://localhost:5000/spriteAssets/students/Code-Monkey.png\", //location of sprites\r\n      rps: 5, //refresh per second\r\n      loop: true, //will continue to loop\r\n      frames: [\r\n        {\r\n          x: 3,\r\n          y: 3,\r\n          width: 32,\r\n          height: 32\r\n        },\r\n        {\r\n          x: 32,\r\n          y: 1,\r\n          width: 32,\r\n          height: 32\r\n        },\r\n        {\r\n          x: 0,\r\n          y: 32,\r\n          width: 32,\r\n          height: 32\r\n        },\r\n        {\r\n          x: 32,\r\n          y: 32,\r\n          width: 32,\r\n          height: 32\r\n        }\r\n      ]\r\n    }\r\n  }\r\n};\r\n","import monkey from \"../spriteObjects/monkeySprite\";\r\nimport Monster from \"./monster\";\r\n\r\nexport default class Monkey extends Monster {\r\n  constructor(bounds) {\r\n    super(bounds, 4, 0.02, 2, monkey);\r\n  }\r\n}\r\n","export default {\r\n  name: \"grill-student\",\r\n  properties: {},\r\n  states: {\r\n    idle: {\r\n      location: \"http://localhost:5000/spriteAssets/students/grill_walking.png\", //location of sprites\r\n      rps: 5, //refresh per second\r\n      loop: true, //will continue to loop\r\n      frames: [\r\n        {\r\n          x: 3,\r\n          y: 3,\r\n          width: 32,\r\n          height: 32\r\n        },\r\n        {\r\n          x: 32,\r\n          y: 1,\r\n          width: 32,\r\n          height: 32\r\n        },\r\n        {\r\n          x: 0,\r\n          y: 32,\r\n          width: 32,\r\n          height: 32\r\n        },\r\n        {\r\n          x: 32,\r\n          y: 30,\r\n          width: 32,\r\n          height: 32\r\n        }\r\n      ]\r\n    }\r\n  }\r\n};\r\n","import gril from \"../spriteObjects/grillSprite\";\r\nimport Monster from \"./monster\";\r\n\r\nexport default class Gril extends Monster {\r\n  constructor(bounds) {\r\n    super(bounds, 15, 0.005, .1, gril);\r\n  }\r\n}\r\n","export default {\r\n  name: \"normie-student\",\r\n  properties: {},\r\n  states: {\r\n    idle: {\r\n      location: \"http://localhost:5000/spriteAssets/students/rye_walking.png\", //location of sprites\r\n      rps: 5, //refresh per second\r\n      loop: true, //will continue to loop\r\n      frames: [\r\n        {\r\n          x: 3,\r\n          y: 3,\r\n          width: 32,\r\n          height: 32\r\n        },\r\n        {\r\n          x: 32,\r\n          y: 1,\r\n          width: 32,\r\n          height: 32\r\n        },\r\n        {\r\n          x: 0,\r\n          y: 32,\r\n          width: 32,\r\n          height: 32\r\n        },\r\n        {\r\n          x: 32,\r\n          y: 32,\r\n          width: 32,\r\n          height: 32\r\n        }\r\n      ]\r\n    }\r\n  }\r\n};\r\n","import norm from \"../spriteObjects/ryeSprite\";\r\nimport Monster from \"./monster\";\r\n\r\nexport default class Normie extends Monster {\r\n  constructor(bounds) {\r\n    super(bounds, 5, 0.01, 7, norm);\r\n  }\r\n}\r\n","export default {\r\n  name: \"weeb-student\",\r\n  properties: {},\r\n  states: {\r\n    idle: {\r\n      location: \"http://localhost:5000/spriteAssets/students/weeb_walking.png\", //location of sprites\r\n      rps: 5, //refresh per second\r\n      loop: true, //will continue to loop\r\n      frames: [\r\n        {\r\n          x: 3,\r\n          y: 3,\r\n          width: 32,\r\n          height: 32\r\n        },\r\n        {\r\n          x: 32,\r\n          y: 1,\r\n          width: 32,\r\n          height: 32\r\n        },\r\n        {\r\n          x: 0,\r\n          y: 32,\r\n          width: 32,\r\n          height: 32\r\n        },\r\n        {\r\n          x: 32,\r\n          y: 30,\r\n          width: 32,\r\n          height: 32\r\n        }\r\n      ]\r\n    }\r\n  }\r\n};\r\n","import weeb from \"../spriteObjects/weebSprite\";\r\nimport Monster from \"./monster\";\r\n\r\nexport default class Weeb extends Monster {\r\n  constructor(bounds) {\r\n    super(bounds, 6, 0.02, 0, weeb);\r\n    this.states = weeb.states;\r\n  }\r\n}\r\n","import DOMElement from \"./domElement\";\r\n\r\nexport default class Button extends DOMElement {\r\n    constructor(x, y, text) {\r\n        super(\"button\");\r\n        this.changePosition(x, y);\r\n        this.changeText(text);\r\n\r\n        this.attachHandler();\r\n    }\r\n\r\n    handler() {\r\n\r\n    }\r\n\r\n    attachHandler() {\r\n        this.element.removeEventListener('click', this.handler);\r\n        this.element.addEventListener('click', this.handler.bind(this));\r\n    }\r\n\r\n    changePosition(x, y) {\r\n        this.applyStyles(\r\n            {\r\n                position: \"fixed\",\r\n                top: `${y}px`,\r\n                left: `${x}px`\r\n            });\r\n    }\r\n}","import Button from \"../ui/button\";\r\n\r\nexport default class TowerSelect extends Button{\r\n    constructor(x, y, text, tower){\r\n        super(x, y, text)\r\n        this.tower = tower\r\n    }\r\n\r\n    handler() {\r\n        console.log(\"selected \" + this.text)\r\n        this.stage.selectBuyTower(this.tower)\r\n    }\r\n}","import Button from \"../ui/button\";\r\n\r\nexport default class WaveStart extends Button{\r\n    constructor(x, y, text, tower){\r\n        super(x, y, text)\r\n        this.tower = tower\r\n    }\r\n\r\n    handler(){\r\n        console.log(\"Pressed start\")\r\n        this.stage.startWave()\r\n    }\r\n}","export default class GUI {\r\n    constructor(element, stage) {\r\n        this.element = element;\r\n        this.stage = stage;\r\n    }\r\n\r\n    addInterface(inter) {\r\n        this.element.appendChild(inter.element);\r\n        inter.stage = this.stage;\r\n        inter.gui = this;\r\n\r\n        //call create function this happens with stage and gui refs\r\n        if(inter.create) {\r\n            inter.create();\r\n        }\r\n    }\r\n\r\n    removeInterface(inter) {\r\n        this.element.removeChild(inter.element);\r\n    }\r\n}","import Button from './button'\r\nimport TowerSelect from './towerSelect'\r\n\r\nexport default class TowerSelectMenu extends Button {\r\n    constructor(x, y, text, text_list, tower_list) {\r\n        super(x, y, text)\r\n        this.subButtons = [];\r\n        for(let i = 0; i < tower_list.length; i++){\r\n            this.subButtons.push(new TowerSelect(x, y + (i+1) * 50, text_list[i], tower_list[i]));\r\n            this.subButtons[i].applyStyles({\r\n                position: \"fixed\",\r\n                display: 'none'\r\n            })         \r\n        }\r\n        this.toggle = false;\r\n    }\r\n\r\n    handler() {\r\n        this.toggle = !this.toggle;\r\n        for(let i = 0; i < this.subButtons.length; i++){\r\n            this.subButtons[i].applyStyles({\r\n                display: (this.toggle) ? 'block' : 'none'\r\n            })\r\n        }\r\n    }\r\n\r\n    create() {\r\n        for(let i = 0; i < this.subButtons.length; i++){\r\n            this.gui.addInterface(this.subButtons[i]);\r\n        }\r\n    }\r\n}","import DOMElement from \"./domElement\"\r\nimport Button from './button';\r\n\r\nexport default class OptionsMenu extends Button {\r\n    constructor(x, y, text, text_list) {\r\n        super(x, y, text)\r\n        this.overlay = new DOMElement(\"div\");\r\n        this.overlay.applyStyles({\r\n            position: 'absolute',\r\n            width: `${200}px`,\r\n            height: `${150}px`,\r\n            top: `${150}px`,\r\n            left: `${150}px`,\r\n            background: 'white'\r\n        });\r\n        this.overlay.element.style.zIndex = \"100\";\r\n        this.subButtons = [];\r\n        for(let i = 0; i < text_list.length; i++){\r\n            let b = new Button(x, y + (i+1) * 50, text_list[i])\r\n            this.subButtons.push(b)\r\n            this.subButtons[i].applyStyles({\r\n                position: \"fixed\",\r\n                display: 'none',\r\n                width: '75px'\r\n            })    \r\n            this.overlay.element.appendChild(document.createTextNode(b));\r\n        }\r\n        this.toggle = false;\r\n    }\r\n\r\n    handler() {\r\n        this.toggle = !this.toggle;\r\n        for(let i = 0; i < this.subButtons.length; i++){\r\n            this.subButtons[i].applyStyles({\r\n                display: (this.toggle) ? 'block' : 'none'\r\n            })\r\n        }\r\n        this.overlay.applyStyles({\r\n            display: (this.toggle) ? 'block' : 'none'\r\n        })\r\n    }\r\n\r\n    create() {\r\n        for(let i = 0; i < this.subButtons.length; i++){\r\n            this.gui.addInterface(this.subButtons[i]);\r\n        }\r\n    }\r\n}","import TerrainBlocker from \"./terrainBlocker\"\r\n\r\nexport default class SmallBlock extends TerrainBlocker{\r\n    constructor(x, y){\r\n        super({}, x, y, null)\r\n        this.cost = 10\r\n    }\r\n\r\n    render = (dt) => {\r\n        // this.ctx.fillStyle = \"white\";\r\n        // this.ctx.fillRect(this.x - 49, this.y - 49, 49, 49);\r\n        this.ctx.fillStyle = \"#3F3F3F\";\r\n        this.ctx.fillRect(this.realX - 25, this.realY - 25, 50, 50);\r\n\r\n        this.ctx.fillStyle = \"white\";\r\n        this.ctx.font = \"20px Arial\";\r\n        this.ctx.textAlign = \"center\";\r\n        this.ctx.fillText(\"B\", this.realX, this.realY + 8);\r\n    }\r\n}","import TerrainBlocker from \"./terrainBlocker\"\r\n\r\nexport default class MediumBlock extends TerrainBlocker{\r\n    constructor(x, y){\r\n        super({}, x, y, [[1, 1]])\r\n        this.cost = 15\r\n    }\r\n\r\n    render = (dt) => {\r\n        // this.ctx.fillStyle = \"white\";\r\n        // this.ctx.fillRect(this.x - 49, this.y - 49, 49, 49);\r\n        this.ctx.fillStyle = \"#4F4F4F\";\r\n        this.ctx.fillRect(this.realX-25, this.realY - 25, 100, 50);\r\n\r\n        this.ctx.fillStyle = \"white\";\r\n        this.ctx.font = \"20px Arial\";\r\n        this.ctx.textAlign = \"center\";\r\n        this.ctx.fillText(\"B\", this.realX+25, this.realY + 8);\r\n    }\r\n}","import TerrainBlocker from \"./terrainBlocker\"\r\n\r\nexport default class LargeBlock extends TerrainBlocker{\r\n    constructor(x, y){\r\n        super({}, x, y, [\r\n            [1, 1], \r\n            [1, 1]\r\n        ])\r\n        this.cost = 25\r\n    }\r\n\r\n    render = (dt) => {\r\n        // this.ctx.fillStyle = \"white\";\r\n        // this.ctx.fillRect(this.x - 49, this.y - 49, 49, 49);\r\n        this.ctx.fillStyle = \"#6F6F6F\";\r\n        this.ctx.fillRect(this.realX - 25, this.realY - 25, 100, 100);\r\n\r\n        this.ctx.fillStyle = \"white\";\r\n        this.ctx.font = \"20px Arial\";\r\n        this.ctx.textAlign = \"center\";\r\n        this.ctx.fillText(\"B\", this.realX + 25, this.realY + 8 + 25);\r\n    }\r\n}","import Engine from \"engine\";\r\nimport Background from \"./background\";\r\nimport Block from \"./block\";\r\nimport EndPoint from \"./endpoint\";\r\nimport Line from \"./line\";\r\nimport Monster from \"./monster\";\r\nimport Node from \"./node\";\r\nimport Pather from \"./pather\";\r\nimport Player from \"./player\";\r\nimport Spawner from \"./spawner\";\r\nimport Tower from \"./tower\";\r\nimport WaveTimer from \"./waveTimer\";\r\nimport Shop from \"./shop\";\r\n\r\nimport LightTower from \"./lightTower\";\r\nimport HeavyTower from \"./heavyTower\";\r\n\r\nimport Monkey from \"./monkey\";\r\nimport Gril from \"./gril\";\r\nimport Normie from \"./normie\";\r\nimport Weeb from \"./weeb\";\r\nimport TowerSelect from \"./ui/towerSelect\";\r\nimport WaveStart from \"./ui/waveStart\";\r\n\r\nimport GUI from \"../classes/ui/gui\";\r\nimport Notification from \"../classes/ui/notification\"\r\nimport TestMulti from \"./ui/testMulti\";\r\nimport Image from './ui/image';\r\nimport TowerSelectMenu from './ui/towerSelectMenu';\r\nimport Button from './ui/button';\r\nimport DropdownButton from './ui/dropdownButton';\r\nimport OptionsMenu from './ui/optionsMenu';\r\n\r\nimport SmallBlock from './smallBlock'\r\nimport MediumBlock from './mediumBlock'\r\nimport LargeBlock from './largeBlock'\r\n\r\nexport default class World extends Engine.Stage {\r\n  constructor(elem, fCanvas) {\r\n    super(elem);\r\n    this.fCanvas = fCanvas;\r\n    this.player = new Player(500, 500);\r\n    this.shop = new Shop();\r\n    this.spawners = [];\r\n    this.waveTimer = null;\r\n    this.pather = null;\r\n    this.events = 0;\r\n    this.matrix = null;\r\n    this.ownershipMatrix = null;\r\n    this.towers = [];\r\n    this.buttons = [];\r\n    this.images = [];\r\n    this.activeEnemies = []\r\n\r\n    this.gui = new GUI(document.querySelector('.ui'), this);\r\n  }\r\n\r\n  /*\r\n   *\r\n   * create map\r\n   * place static objects (nodes, spawners, endpoint, towers, walls)\r\n   */\r\n  createDemoWorld() {\r\n    this.matrix = [\r\n      [3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3], //0\r\n      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], //1\r\n      [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], //2\r\n      [0, 0, 1, 0, 0, 0, 0, 1, 0, 1, 0, 0], //3\r\n      [0, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 0], //4\r\n      [0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0], //5\r\n      [0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1], //6\r\n      [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0], //7\r\n      [0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], //8\r\n      [0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1, 0], //9\r\n      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], //10\r\n      [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2] //11\r\n      //[0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10,11]\r\n    ];\r\n\r\n    this.waveTimer = new WaveTimer();\r\n\r\n    this.ownershipMatrix = []; //place walls and set ownership\r\n    for(let i = 0; i < this.matrix.length; i++){\r\n      let row = []\r\n      for(let j = 0; j < this.matrix[0].length; j++){\r\n        if (this.matrix[i][j] == 1) {\r\n          let block = new Block(j, i)\r\n          this.tryAddNewTerrainBlocker(block)\r\n          row.push(block)\r\n          this.addActor(block, 5);\r\n        }\r\n        else if(this.matrix[i][j] == 2){\r\n          let endpoint = new EndPoint(j, i)\r\n          row.push(endpoint)\r\n          this.addActor(endpoint, 8)\r\n        }\r\n        else if(this.matrix[i][j] == 3){\r\n          let spawner = new Spawner(j, i)\r\n          spawner.setScaleFunction(this.simpleScale)\r\n          row.push(spawner)\r\n          this.addActor(spawner, 8)\r\n          this.spawners.push(spawner)\r\n        }\r\n        else{\r\n          row.push(null)\r\n        }\r\n      }\r\n      this.ownershipMatrix.push(row)\r\n    }\r\n    let waves = this.generateSpawnList(50, this.spawners.length, 6, 1000, [Monkey, Normie, Gril, Weeb]);\r\n    console.log(waves.length + \" waves\");\r\n\r\n\r\n    this.pathSpawners();\r\n    this.waveTimer.setSpawners(this.spawners);\r\n    this.waveTimer.setWaves(waves);\r\n    this.addActor(this.waveTimer, 0);\r\n\r\n\r\n    //add nodes(blue dots) and lines (white gridlines)\r\n    for (let i = 0; i <= 600; i += 50) {\r\n      for (let j = 0; j <= 600; j += 50) {\r\n        this.addActor(\r\n          new Node({ x: i - 25, y: j - 25, width: 2, height: 2 }),\r\n          0\r\n        );\r\n      }\r\n      this.addActor(new Line({ x: i, y: 0, width: 1, height: 600 }), 22);\r\n      this.addActor(new Line({ x: 0, y: i, width: 600, height: 1 }), 22);\r\n    }\r\n    \r\n    this.addActor(new Background({ x: 0, y: 0, width: 600, height: 600 }), -1);\r\n    //this.spawners = [new Spawner(1, 1), new Spawner(6, 2), new Spawner(8, 5)];\r\n    \r\n    \r\n\r\n    //this.addActor(new EndPoint(11, 11), 100);\r\n    this.tryAddNewTerrainBlocker(new LightTower(1, 3));\r\n    this.tryAddNewTerrainBlocker(new HeavyTower(10, 4));\r\n\r\n    this.gui.addInterface(this.player.wallet);\r\n    this.gui.addInterface(this.player.lifeCounter);\r\n    this.addActor(this.player);\r\n\r\n    //console.log(this.children)\r\n\r\n    this.createInputhandler();\r\n    this.createButtons();\r\n    //this.createImages();\r\n    //console.log(this.matrix)\r\n  }\r\n\r\n  blockIsAvailable(x, y){\r\n    return this.matrix[y][x] == 0 && this.ownershipMatrix[y][x] == null\r\n  }\r\n\r\n  createButtons() {\r\n    //let b = new TowerSelect(680, 100, \"Light Tower\", LightTower);\r\n    //this.addActor(b);\r\n    //this.gui.addInterface(b);\r\n    //this.buttons.push(b);\r\n    //b = new TowerSelect(680, 175, \"Heavy Tower\", HeavyTower);\r\n    //this.addActor(b);\r\n    //this.gui.addInterface(b);\r\n    //this.buttons.push(b);\r\n    let b = new TowerSelectMenu(680, 65, \"Towers\", [\"Light Tower\", \"Heavy Tower\"], [LightTower, HeavyTower])\r\n    this.gui.addInterface(b);\r\n    this.buttons.push(b);\r\n    b = new WaveStart(680, 635, \"Start Wave\");\r\n    this.gui.addInterface(b);\r\n    //this.addActor(b);\r\n    this.buttons.push(b);\r\n    //let testMulti = new TestMulti(600, 600, \"TESTING TOOLTIP\", \"Hi!\")\r\n    //this.gui.addInterface(testMulti);\r\n    b = new TowerSelectMenu(680, 310, \"Obstacles\", [\"Small\", \"Medium\", \"Large\"], [SmallBlock, MediumBlock, LargeBlock])\r\n    this.gui.addInterface(b);\r\n    this.buttons.push(b);\r\n    /*\r\n    b = new DropdownButton(680, 310, \"Obstacles\", [\"1x1\", \"2x1\", \"2x2\"]);\r\n    this.gui.addInterface(b);\r\n    this.buttons.push(b);\r\n    */\r\n\r\n    //b = new DropdownButton(420, 635, \"Options\", [\"Resume\", \"Pause\", \"Restart\", \"Quit\"])\r\n    b = new OptionsMenu(200, 635, \"Options\", [\"Resume\", \"Pause\", \"Restart\", \"Quit\", \"Help\"]);\r\n    this.gui.addInterface(b);\r\n    this.buttons.push(b);\r\n  }\r\n\r\n/*\r\n  createImages() {\r\n    let i = new Image(\"/../spriteAssets/world/heart.png\", 30, 605, 80, 80);\r\n    this.gui.addInterface(i);\r\n    this.images.push(i);\r\n    i = new Image(\"/../spriteAssets/world/tear.png\", 140, 605, 80, 80);\r\n    this.gui.addInterface(i);\r\n    this.images.push(i);\r\n  }\r\n*/\r\n\r\n  startWave() {\r\n    if (this.waveTimer.waveCompleted()) {\r\n      this.waveTimer.enable();\r\n    }\r\n  }\r\n\r\n\r\n  simpleScale(n){\r\n    return 1 + (1/5)*n\r\n  }\r\n\r\n  addActive(mob){\r\n    this.activeEnemies.push(mob)\r\n  }\r\n\r\n  removeActive(mob){\r\n    let index = this.activeEnemies.indexOf(mob)\r\n    console.log(index)\r\n    if (index > -1){\r\n      this.activeEnemies.splice(index, 1)\r\n    }\r\n  }\r\n\r\n\r\n\r\n  //generates spawn list with specifications, including base stats and the amount they scale by per turn\r\n  generateSpawnList(\r\n    waveCount,\r\n    spawnerCount,\r\n    enemyCount,\r\n    gapTime,\r\n    spawnOptions\r\n  ) {\r\n    let waves = [];\r\n    let id = 1;\r\n    for (let i = 0; i < waveCount; i++) {\r\n      let wave = [];\r\n      for (let j = 0; j < spawnerCount; j++) {\r\n        let spawnList = [];\r\n        let monsterType = spawnOptions[Math.floor(Math.random()*spawnOptions.length)]\r\n        //console.log(monsterType)\r\n        for (let k = 0; k < enemyCount; k++) {\r\n          //let monster = new Weeb({ x: 0, y: 0, width: 0, height: 0 });\r\n\r\n          // let monster = new Monster(\r\n          //   hp + hpScale * i,\r\n          //   speed + speedScale * i,\r\n          //   def\r\n          // );\r\n          //monster.id = id;\r\n          //id++;\r\n          //spawnList.push([gapTime * k, monster]);\r\n          spawnList.push([gapTime * k, monsterType])\r\n        }\r\n        wave.push(spawnList);\r\n      }\r\n      waves.push(wave);\r\n    }\r\n    return waves;\r\n  }\r\n\r\n  enemyReachedGoal() {\r\n    if (!this.player.isDead()) {\r\n      this.player.damage(1);\r\n      //console.log(\"player damage! current health: \" + this.player.getHp())\r\n    }\r\n    this.events++;\r\n  }\r\n\r\n  enemyKilled(bounty) {\r\n    if (!this.player.isDead()) {\r\n      this.player.gainMoney(bounty);\r\n      //console.log(\"enemy killed! current money: \" + this.player.getMoney())\r\n    }\r\n    this.events++;\r\n  }\r\n\r\n  playerKilled() {\r\n    console.log(\"Player has died...\");\r\n    this.waveTimer.disable();\r\n  }\r\n\r\n  //get all enemies currently in the world that is not dead or reached the end\r\n  getActiveEnemies() {\r\n    //console.log(this.activeEnemies.length)\r\n    return this.activeEnemies\r\n    /* implementation outdated with changing z values\r\n    let enemyLayerID = 9;\r\n    let activeEnemies = [];\r\n    let enemyLayer = this.children[enemyLayerID];\r\n    if (enemyLayer == null) {\r\n      //console.log(\"no enemies on map\")\r\n      return activeEnemies;\r\n    }\r\n    //console.log(\"enemies on map\")\r\n    for (let i = 0; i < enemyLayer.length; i++) {\r\n      let a = enemyLayer[i];\r\n      if (a instanceof Monster && a.isActive()) {\r\n        activeEnemies.push(a);\r\n      }\r\n    }\r\n    return activeEnemies;\r\n    */\r\n  }\r\n\r\n  //return true if it is possible to add a terrain blocker and add it\r\n  //does not check money\r\n  //in theory terrain blocker can be of any size and combination of blocked cells\r\n  tryAddNewTerrainBlocker(blocker){\r\n    let x = blocker.positionX;\r\n    let y = blocker.positionY;\r\n    let space = blocker.getSpace();\r\n   if (!this.probeMassBlockage(x, y, space))\r\n   {\r\n      return false;\r\n   }\r\n   this.addActor(blocker, 10);\r\n   if(blocker instanceof Tower){\r\n     this.towers.push(blocker);\r\n   }\r\n   for(let i = 0; i < space.length; i++){\r\n     for(let j = 0; j < space[0].length; j++){\r\n      this.matrix[y + i][x + j] = 1;\r\n      this.ownershipMatrix[y + i][x + j] = blocker;\r\n     }\r\n    }\r\n    this.pathSpawners();\r\n    return true;\r\n  }\r\n\r\n\r\n  //return true if adding all the blocked cells starting from xy as top left corner will result in all spawners able to find the end \r\n  probeMassBlockage(x, y, blockage){\r\n    if (y + blockage.length > this.matrix.length || x + blockage[0].length > this.matrix[0].length){\r\n      return false //blockage results in out of bounds\r\n    }\r\n\r\n    let testMatrix = this.cloneMatrix(this.matrix);\r\n    for(let i = 0; i < blockage.length; i++){ //place all 1's from blockage into test matrix\r\n      for (let j = 0; j < blockage[0].length; j++){\r\n        if (blockage[i][j] == 0){ //no blockage to add\r\n          break;\r\n        }\r\n        if (blockage[i][j] == 1 && testMatrix[i+y][j+x] == 0){\r\n          testMatrix[i+y][j+x] = 1; //blockage can fit\r\n          break;\r\n        }\r\n        return false; //blockage does not fit here\r\n      }\r\n    }\r\n\r\n    let pather = new Pather(); //test all spawners\r\n    pather.initializeGraph(testMatrix);\r\n    //console.log(testMatrix)\r\n    for (let i = 0; i < this.spawners.length; i++) {\r\n      //console.log(this.spawners[i].getPosition()[0] + \", \" + this.spawners[i].getPosition()[1])\r\n      if (\r\n        pather.findShortestPathToEnds(\r\n          this.spawners[i].getPosition()[0],\r\n          this.spawners[i].getPosition()[1]\r\n        ) == null\r\n      ) {\r\n        //console.log(\"Blockage detected at \" + x + \", \" + y)\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n\r\n  cloneMatrix(matrix) {\r\n    let m2 = [];\r\n    //console.log(matrix)\r\n    for (let i = 0; i < matrix.length; i++) {\r\n      let row = [];\r\n      for (let j = 0; j < matrix.length; j++) {\r\n        row.push(matrix[i][j]);\r\n      }\r\n      m2.push(row);\r\n    }\r\n    return m2;\r\n  }\r\n\r\n  //iterate through all spawners in world, set path for each to an end\r\n  pathSpawners() {\r\n    let pather = new Pather();\r\n    pather.initializeGraph(this.matrix);\r\n    for (let i = 0; i < this.spawners.length; i++) {\r\n      this.spawners[i].setPath(\r\n        pather.findShortestPathToEnds(\r\n          this.spawners[i].getPosition()[0],\r\n          this.spawners[i].getPosition()[1]\r\n        )\r\n      );\r\n    }\r\n  }\r\n\r\n  /*\r\n   * input handler calls this\r\n   * action is determined by what the user clicked on\r\n   * 0 -> attempt to place turret\r\n   * 1 -> attempt to upgrade turret\r\n   * 2 -> attempt to start next wave\r\n   * 0 and 2 will check and deplete player currency and give an error message otherwise\r\n   * 3 will only activate if all enemies are dead\r\n   * 1 will only activate if all enemies are dead\r\n   */\r\n  playerInteract(x, y) {\r\n    //console.log(this.ownershipMatrix)\r\n    if (this.matrix[y][x] == 0 && this.waveTimer.waveCompleted()) {\r\n      let b = this.player.blockerSelect == null;\r\n      //console.log(b)\r\n      if (!b) {\r\n        let tower = new this.player.blockerSelect(x, y);\r\n        if (this.player.getMoney() >= tower.cost) {\r\n          if (this.tryAddNewTerrainBlocker(tower)) {\r\n            //Tower(30, 1, \"nearest\", 3, x, y))){\r\n            this.player.spendMoney(tower.cost);\r\n          } else {\r\n            this.gui.addInterface(new Notification(\"Can't block enemy path\"));\r\n          }\r\n        } else {\r\n          this.gui.addInterface(new Notification(\"Need \" + tower.cost + \" money to buy turret\"));\r\n        }\r\n      } else {\r\n        this.gui.addInterface(new Notification(\"Select a tower to purchase\"));\r\n      }\r\n    } else if (this.matrix[y][x] == 1) {\r\n      let t = this.getTower(x, y);\r\n      if (t == null) {\r\n        //console.log(\"\")\r\n      } else {\r\n        if (this.player.getMoney() >= 20) {\r\n          this.upgradeTower(t);\r\n          this.player.spendMoney(20);\r\n        } else {\r\n          this.gui.addInterface(new Notification(\"Need 20 money to upgrade a turret\"));\r\n        }\r\n      }\r\n    }\r\n    /*\r\n        else if(this.matrix[y][x] == 2 && this.waveTimer.waveCompleted()){\r\n            this.waveTimer.enable()\r\n        }\r\n        */\r\n  }\r\n\r\n  upgradeTower(tower) {\r\n    tower.atk += 1;\r\n    tower.range += 0.5;\r\n  }\r\n\r\n  //get a tower with the given virtual xy coords\r\n  getTower(x, y) {\r\n    for (let i = 0; i < this.towers.length; i++) {\r\n      let t = this.towers[i];\r\n      if (t.positionX == x && t.positionY == y) {\r\n        return t;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  checkButtons(xy) {\r\n    for (let i = 0; i < this.buttons.length; i++) {\r\n      if (this.buttons[i].isClicked(xy[0], xy[1])) {\r\n        this.buttons[i].activate();\r\n      }\r\n    }\r\n  }\r\n\r\n  //create handler, start it, give it references\r\n  createInputhandler() {\r\n    let stage = this;\r\n    let inp = new Engine.InputHandler(document.querySelector(\"body\"), {\r\n      mousedown: function() {\r\n        let xy = stage.getMouseXYSector(this);\r\n        if (!stage.isValidSector(xy)) {\r\n          //stage.checkButtons(stage.getMouseXY(this));\r\n          return;\r\n        }\r\n        //console.log(xy[0] + \", \" + xy[1])//this.getMouseXY())//this.input.x + \", \" + this.input.y);\r\n        stage.playerInteract(xy[0], xy[1]);\r\n      }\r\n    });\r\n\r\n    inp.startHandler();\r\n  }\r\n  selectBuyTower(tower) {\r\n    this.selectBuyBlocker(tower)\r\n  }\r\n\r\n  selectBuyBlocker(blocker){\r\n    console.log(blocker)\r\n    this.player.blockerSelect = blocker\r\n  }\r\n\r\n  //return if indices are in bounds of map\r\n  isValidSector(sector) {\r\n    return (\r\n      sector[0] >= 0 && sector[0] <= 11 && sector[1] >= 0 && sector[1] <= 11\r\n    );\r\n  }\r\n  //given indices of matrix, convert to real coordinates\r\n  translateSectorToCoord(sector) {\r\n    return [sector[0] * 50, sector[1] * 50];\r\n  }\r\n  //get mouse coords in term of matrix index\r\n  getMouseXYSector(handler) {\r\n    return [Math.floor(handler.input.x / 50), Math.floor(handler.input.y / 50)];\r\n  }\r\n  //get real mouse coords\r\n  getMouseXY(handler) {\r\n    return [handler.input.x, handler.input.y];\r\n  }\r\n}","<script>\r\n  import { onMount } from \"svelte\";\r\n  import World from \"./classes/world.js\";\r\n  let canvas, uFPS, rFPS, fCanvas;\r\n\r\n  onMount(() => {\r\n    let game = new World(canvas, fCanvas);\r\n    game.createDemoWorld()\r\n    game.start();\r\n    console.log(\"START\")\r\n  });\r\n</script>\r\n\r\n<style>\r\n  * {\r\n    color: cyan;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    font-weight: 100;\r\n  }\r\n\r\n  \r\n  .back {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    background-color: white;\r\n  }\r\n\r\n  .fore {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    background-color: rgba(0, 0, 0, 0);\r\n  }\r\n\r\n  .ui {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100vw;\r\n    height: 100vh;\r\n  }\r\n</style>\r\n\r\n<canvas\r\n  class=\"back\"\r\n  width={window.innerWidth}\r\n  height={window.innerHeight}\r\n  bind:this={canvas} />\r\n  <canvas\r\n  class=\"fore\"\r\n  width={window.innerWidth}\r\n  height={window.innerHeight}\r\n  bind:this={fCanvas} />\r\n<div class=\"ui\"/>\r\n\r\n","import Home from './routes/home.svelte'\r\nimport TowerDefence from './routes/towerdefence/towerdefence.svelte'\r\n\r\nexport default {\r\n    '/': Home,\r\n    '/towerdefence': TowerDefence,\r\n}","import App from './App.svelte';\r\n\r\nconst app = new App({\r\n\ttarget: document.body,\r\n\tprops: {\r\n\t\tname: 'world'\r\n\t}\r\n});\r\n\r\nexport default app;"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","store","callbacks","unsub","unsubscribe","insert","target","node","anchor","insertBefore","detach","parentNode","removeChild","element","name","document","createElement","text","data","createTextNode","space","empty","attr","attribute","value","removeAttribute","getAttribute","setAttribute","current_component","set_current_component","component","get_current_component","Error","createEventDispatcher","type","detail","$$","event","e","createEvent","initCustomEvent","custom_event","slice","call","bubble","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","push","flushing","seen_callbacks","Set","flush","i","length","update","pop","callback","has","add","clear","fragment","before_update","dirty","p","ctx","after_update","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","d","create_component","mount_component","on_mount","on_destroy","m","new_on_destroy","map","filter","destroy_component","detaching","make_dirty","then","fill","init","options","instance","create_fragment","not_equal","props","parent_component","prop_values","bound","context","Map","ready","ret","rest","hydrate","nodes","Array","from","childNodes","children","l","intro","SvelteComponent","$destroy","this","$on","index","indexOf","splice","$set","subscriber_queue","readable","start","writable","stop","subscribers","set","new_value","run_queue","s","invalidate","subscriber","derived","stores","initial_value","single","isArray","stores_array","auto","inited","values","pending","cleanup","sync","result","unsubscribers","getLocation","hashPosition","window","location","href","substr","qsPosition","querystring","loc","addEventListener","removeEventListener","$loc","routes","prefix","RouteItem","[object Object]","path","_sveltesparouter","charAt","RegExp","pattern","keys","str","loose","tmp","ext","arr","split","shift","substring","regexparam","route","conditions","userData","undefined","_pattern","_keys","startsWith","matches","exec","out","routesList","componentParams","dispatch","dispatchNextTick","setTimeout","match","checkConditions","module","obj","__esModule","Constructor","TypeError","key","defineProperty","enumerable","configurable","exports","_classCallCheck2","_interopRequireDefault","require","_defineProperty2","Actor","bounds","_this","deltaTime","clearRect","x","y","width","height","stage","removeActor","runtime","Op","prototype","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","state","method","arg","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","done","makeInvokeMethod","err","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","reject","invoke","__await","unwrapped","error","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","constructor","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","iter","toString","object","reverse","skipTempReset","prev","rootRecord","rval","exception","handle","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","_defineProperties","descriptor","protoProps","staticProps","_typeof","ReferenceError","assertThisInitialized","_getPrototypeOf","property","_get","receiver","Reflect","get","base","superPropBase","desc","getOwnPropertyDescriptor","_setPrototypeOf","subClass","superClass","asyncGeneratorStep","gen","_next","_throw","args","arguments","apply","_regenerator","_createClass2","_possibleConstructorReturn2","_assertThisInitialized2","_getPrototypeOf2","_get2","_inherits2","_asyncToGenerator2","loadImage","_x","_loadImage","_callee5","src","img","_context5","Image","res","rej","onload","SpriteActor","_Actor","_spriteObj","currentState","spriteObj","properties","states","_callee2","_context2","all","_ref2","_callee","_context","assign","image","_x2","console","log","_callee4","_context4","_ref4","_callee3","_context3","_x3","px","py","scale","sstate","renderCount","rps","frameCount","frames","loop","changeState","frame","current","Math","round","drawImage","idle","Stage","elem","actor","collisions","layer","child","checkCollision","actorA","actorB","zIndex","exportList","j","findIndex","timeNow","Date","now","updateTimeStart","updateFPS","updateDeltaTime","updateCycles","requestAnimationFrame","callUpdateCycles","renderTimeStart","renderFPS","renderDeltaTime","renderCycles","callRenderCycles","destroy","cancelAnimationFrame","render","sort","ticks","querySelector","appendChild","getContext","InputHandler","events","input","code","mouse","button","clientX","offsetX","clientY","offsetY","dynamicEvents","eventName","dynamicEvent","bind","elemBounds","getBoundingClientRect","left","top","keydown","keyDown","keyup","keyUp","mousedown","mouseDown","mouseup","mouseUp","mousemove","mouseMove","_this2","concat","_actor","_spriteActor","_stage","_inputHandler","_default","Background","dt","fillStyle","fillRect","Engine","TerrainBlocker","positionX","positionY","realX","realY","cost","Block","font","textAlign","fillText","EndPoint","Line","Monster","hp","speed","def","updateEffects","isDead","active","enemyKilled","bounty","destroyActor","moveOverPath","mob","time","hasReachedGoal","getSpeed","currentPosition","getPosition","distanceToTravel","targetPosition","getPath","getStep","maximumStepDistance","sqrt","pow","newTime","setDistance","getDistance","setStep","updatePosition","xFactor","yFactor","angle","atan","cos","sin","newPosition","updateZIndex","updateRealPosition","enemyReachedGoal","vertex","maxHp","distance","step","reachedGoal","dead","id","effectsList","statRenew","param","factor","floor","maxTime","renew","modifier","newZ","changeIndex","removeActive","damage","max","heal","min","position","horizontal","vertical","edgePath","Node","Pather","graph","endpoints","matrix","matrixToGraph","wipeAllPathData","g","Graph","nodeMatrix","val","n","PathNode","addNode","connectAdjacents","adjacentNodes","xStart","yStart","startNode","getNode","findShortestPaths","shortest","searchShortestPathToEnds","shortestpath","shortestPath","convertPathToListOfLists","shortestDistance","Number","MAX_SAFE_INTEGER","source","unsettledNodes","settledNodes","currentNode","getLowestDistanceNode","adjacentNode","edgeWeight","includes","calculateMinimumDistance","lowest","lowestDistance","nodeDistance","evaluationNode","sourceNode","sourceDistance","setShortestPath","DOMElement","styles","style","textContent","ImageHoverText","alt_text","alt","applyStyles","display","color","changeText","gui","addInterface","changePosition","changeSize","handler_onHover","handler_onExit","w","h","Player","currency","wallet","changeAltText","lifeCounter","blockerSelect","money","playerKilled","Spawner","spawnMobs","realx","realy","mobs","spawned","startTime","scaleFunction","func","isActive","sumPath","total","toSpawn","spawn","mobType","scaleStats","setPath","addActor","addActive","fCanvas","BulletLine","maxLifeTime","x1","y1","x2","y2","lifeTime","abs","ratio","hexComponent","colorString","strokeStyle","beginPath","moveTo","lineTo","stroke","targeting","freeze","HIGH_HP","LOW_HP","NEAR","FAR","Tower","shotTimer","atkspeed","targetInRange","turnToTarget","shoot","findTarget","atk","targetingMode","range","aimAngle","level","effect","fireBulletNoProjectile","attach","takeDamage","PI","inRange","findInRadius","getActiveEnemies","prioritizeTarget","entities","k","array","Notification","lifetime","outro","opacity","fontSize","count","fadeout","setInterval","clearInterval","removeInterface","WaveTimer","enabled","waveStep","waves","waveCompleted","startWave","spawners","setMobs","updateScale","mobsExhausted","Shop","inventory","towerIndex","spendMoney","selection","item","price","tower","gainMoney","LightTower","arc","Effect","monster","contains","HeavyTower","Monkey","monkey","Gril","gril","Normie","norm","Weeb","weeb","Button","attachHandler","handler","TowerSelect","selectBuyTower","WaveStart","GUI","inter","TowerSelectMenu","text_list","tower_list","subButtons","toggle","OptionsMenu","overlay","background","SmallBlock","MediumBlock","LargeBlock","World","player","shop","waveTimer","pather","ownershipMatrix","towers","buttons","images","activeEnemies","row","tryAddNewTerrainBlocker","endpoint","spawner","setScaleFunction","simpleScale","generateSpawnList","pathSpawners","setSpawners","setWaves","createInputhandler","createButtons","enable","waveCount","spawnerCount","enemyCount","gapTime","spawnOptions","wave","spawnList","monsterType","random","disable","blocker","getSpace","probeMassBlockage","blockage","testMatrix","cloneMatrix","initializeGraph","findShortestPathToEnds","m2","getMoney","t","getTower","upgradeTower","xy","isClicked","activate","getMouseXYSector","isValidSector","playerInteract","startHandler","selectBuyBlocker","sector","innerWidth","innerHeight","canvas","game","createDemoWorld","uFPS","rFPS","body"],"mappings":"gCAAA,SAASA,KAgBT,SAASC,EAAIC,UACFA,IAEX,SAASC,WACEC,OAAOC,OAAO,MAEzB,SAASC,EAAQC,GACbA,EAAIC,QAAQP,GAEhB,SAASQ,EAAYC,SACO,mBAAVA,EAElB,SAASC,EAAeC,EAAGC,UAChBD,GAAKA,EAAIC,GAAKA,EAAID,IAAMC,GAAOD,GAAkB,iBAANA,GAAgC,mBAANA,EAUhF,SAASE,EAAUC,KAAUC,MACZ,MAATD,SACOf,QAELiB,EAAQF,EAAMD,aAAaE,UAC1BC,EAAMC,YAAc,IAAMD,EAAMC,cAAgBD,EA8H3D,SAASE,EAAOC,EAAQC,EAAMC,GAC1BF,EAAOG,aAAaF,EAAMC,GAAU,MAExC,SAASE,EAAOH,GACZA,EAAKI,WAAWC,YAAYL,GAQhC,SAASM,EAAQC,UACNC,SAASC,cAAcF,GAoBlC,SAASG,EAAKC,UACHH,SAASI,eAAeD,GAEnC,SAASE,WACEH,EAAK,KAEhB,SAASI,WACEJ,EAAK,IA2BhB,SAASK,EAAKf,EAAMgB,EAAWC,GACd,MAATA,EACAjB,EAAKkB,gBAAgBF,GAChBhB,EAAKmB,aAAaH,KAAeC,GACtCjB,EAAKoB,aAAaJ,EAAWC,GAwUrC,IAAII,EACJ,SAASC,EAAsBC,GAC3BF,EAAoBE,EAExB,SAASC,QACAH,EACD,MAAM,IAAII,MAAO,2DACdJ,EAcX,SAASK,UACCH,EAAYC,UACX,CAACG,EAAMC,WACJjC,EAAY4B,EAAUM,GAAGlC,UAAUgC,MACrChC,EAAW,OAGLmC,EAhMlB,SAAsBH,EAAMC,SAClBG,EAAIvB,SAASwB,YAAY,sBAC/BD,EAAEE,gBAAgBN,GAAM,GAAO,EAAOC,GAC/BG,EA6LeG,CAAaP,EAAMC,GACjCjC,EAAUwC,QAAQhD,QAAQN,IACtBA,EAAGuD,KAAKb,EAAWO,OAcnC,SAASO,EAAOd,EAAWO,SACjBnC,EAAY4B,EAAUM,GAAGlC,UAAUmC,EAAMH,MAC3ChC,GACAA,EAAUwC,QAAQhD,QAAQN,GAAMA,EAAGiD,IAI3C,MAAMQ,EAAmB,GAEnBC,EAAoB,GACpBC,EAAmB,GACnBC,EAAkB,GAClBC,EAAmBC,QAAQC,UACjC,IAAIC,GAAmB,EAWvB,SAASC,EAAoBjE,GACzB2D,EAAiBO,KAAKlE,GAK1B,IAAImE,GAAW,EACf,MAAMC,EAAiB,IAAIC,IAC3B,SAASC,QACDH,GAEJA,GAAW,IACR,KAGM,IAAII,EAAI,EAAGA,EAAId,EAAiBe,OAAQD,GAAK,EAAG,OAC3C7B,EAAYe,EAAiBc,GACnC9B,EAAsBC,GACtB+B,EAAO/B,EAAUM,QAErBS,EAAiBe,OAAS,EACnBd,EAAkBc,QACrBd,EAAkBgB,KAAlBhB,OAIC,IAAIa,EAAI,EAAGA,EAAIZ,EAAiBa,OAAQD,GAAK,EAAG,OAC3CI,EAAWhB,EAAiBY,GAC7BH,EAAeQ,IAAID,KAEpBP,EAAeS,IAAIF,GACnBA,KAGRhB,EAAiBa,OAAS,QACrBf,EAAiBe,aACnBZ,EAAgBY,QACnBZ,EAAgBc,KAAhBd,GAEJI,GAAmB,EACnBG,GAAW,EACXC,EAAeU,SAEnB,SAASL,EAAOzB,MACQ,OAAhBA,EAAG+B,SAAmB,CACtB/B,EAAGyB,SACHrE,EAAQ4C,EAAGgC,qBACLC,EAAQjC,EAAGiC,MACjBjC,EAAGiC,MAAQ,EAAE,GACbjC,EAAG+B,UAAY/B,EAAG+B,SAASG,EAAElC,EAAGmC,IAAKF,GACrCjC,EAAGoC,aAAa9E,QAAQ2D,IAiBhC,MAAMoB,EAAW,IAAIhB,IACrB,IAAIiB,EACJ,SAASC,IACLD,EAAS,CACLE,EAAG,EACHC,EAAG,GACHP,EAAGI,GAGX,SAASI,IACAJ,EAAOE,GACRpF,EAAQkF,EAAOG,GAEnBH,EAASA,EAAOJ,EAEpB,SAASS,EAAcC,EAAOC,GACtBD,GAASA,EAAMrB,IACfc,EAASS,OAAOF,GAChBA,EAAMrB,EAAEsB,IAGhB,SAASE,EAAeH,EAAOC,EAAOvE,EAAQqD,MACtCiB,GAASA,EAAMI,EAAG,IACdX,EAAST,IAAIgB,GACb,OACJP,EAASR,IAAIe,GACbN,EAAOG,EAAEvB,KAAK,KACVmB,EAASS,OAAOF,GACZjB,IACIrD,GACAsE,EAAMK,EAAE,GACZtB,OAGRiB,EAAMI,EAAEH,IAmkBhB,SAASK,EAAiBN,GACtBA,GAASA,EAAMH,IAKnB,SAASU,EAAgBzD,EAAWxB,EAAQE,SAClC2D,SAAEA,EAAFqB,SAAYA,EAAZC,WAAsBA,EAAtBjB,aAAkCA,GAAiB1C,EAAUM,GACnE+B,GAAYA,EAASuB,EAAEpF,EAAQE,GAE/B6C,EAAoB,WACVsC,EAAiBH,EAASI,IAAIzG,GAAK0G,OAAOlG,GAC5C8F,EACAA,EAAWnC,QAAQqC,GAKnBnG,EAAQmG,GAEZ7D,EAAUM,GAAGoD,SAAW,KAE5BhB,EAAa9E,QAAQ2D,GAEzB,SAASyC,EAAkBhE,EAAWiE,SAC5B3D,EAAKN,EAAUM,GACD,OAAhBA,EAAG+B,WACH3E,EAAQ4C,EAAGqD,YACXrD,EAAG+B,UAAY/B,EAAG+B,SAASkB,EAAEU,GAG7B3D,EAAGqD,WAAarD,EAAG+B,SAAW,KAC9B/B,EAAGmC,IAAM,IAGjB,SAASyB,EAAWlE,EAAW6B,IACI,IAA3B7B,EAAUM,GAAGiC,MAAM,KACnBxB,EAAiBS,KAAKxB,GAttBrBsB,IACDA,GAAmB,EACnBH,EAAiBgD,KAAKvC,IAstBtB5B,EAAUM,GAAGiC,MAAM6B,KAAK,IAE5BpE,EAAUM,GAAGiC,MAAOV,EAAI,GAAM,IAAO,GAAMA,EAAI,GAEnD,SAASwC,EAAKrE,EAAWsE,EAASC,EAAUC,EAAiBC,EAAWC,EAAOnC,EAAQ,EAAE,UAC/EoC,EAAmB7E,EACzBC,EAAsBC,SAChB4E,EAAcN,EAAQI,OAAS,GAC/BpE,EAAKN,EAAUM,GAAK,CACtB+B,SAAU,KACVI,IAAK,KAELiC,MAAAA,EACA3C,OAAQ3E,EACRqH,UAAAA,EACAI,MAAOtH,IAEPmG,SAAU,GACVC,WAAY,GACZrB,cAAe,GACfI,aAAc,GACdoC,QAAS,IAAIC,IAAIJ,EAAmBA,EAAiBrE,GAAGwE,QAAU,IAElE1G,UAAWb,IACXgF,MAAAA,OAEAyC,GAAQ,KACZ1E,EAAGmC,IAAM8B,EACHA,EAASvE,EAAW4E,EAAa,CAAC/C,EAAGoD,KAAQC,WACrCxF,EAAQwF,EAAKpD,OAASoD,EAAK,GAAKD,SAClC3E,EAAGmC,KAAOgC,EAAUnE,EAAGmC,IAAIZ,GAAIvB,EAAGmC,IAAIZ,GAAKnC,KACvCY,EAAGuE,MAAMhD,IACTvB,EAAGuE,MAAMhD,GAAGnC,GACZsF,GACAd,EAAWlE,EAAW6B,IAEvBoD,IAET,GACN3E,EAAGyB,SACHiD,GAAQ,EACRtH,EAAQ4C,EAAGgC,eAEXhC,EAAG+B,WAAWmC,GAAkBA,EAAgBlE,EAAGmC,KAC/C6B,EAAQ9F,OAAQ,IACZ8F,EAAQa,QAAS,OACXC,EAnlClB,SAAkBrG,UACPsG,MAAMC,KAAKvG,EAAQwG,YAklCJC,CAASlB,EAAQ9F,QAE/B8B,EAAG+B,UAAY/B,EAAG+B,SAASoD,EAAEL,GAC7BA,EAAMxH,QAAQgB,QAId0B,EAAG+B,UAAY/B,EAAG+B,SAASU,IAE3BuB,EAAQoB,OACRzC,EAAcjD,EAAUM,GAAG+B,UAC/BoB,EAAgBzD,EAAWsE,EAAQ9F,OAAQ8F,EAAQ5F,QACnDkD,IAEJ7B,EAAsB4E,GAsC1B,MAAMgB,EACFC,WACI5B,EAAkB6B,KAAM,QACnBD,SAAWxI,EAEpB0I,IAAI1F,EAAM6B,SACA7D,EAAayH,KAAKvF,GAAGlC,UAAUgC,KAAUyF,KAAKvF,GAAGlC,UAAUgC,GAAQ,WACzEhC,EAAUoD,KAAKS,GACR,WACG8D,EAAQ3H,EAAU4H,QAAQ/D,IACjB,IAAX8D,GACA3H,EAAU6H,OAAOF,EAAO,IAGpCG,SCz7CJ,MAAMC,EAAmB,GAMzB,SAASC,EAAS1G,EAAO2G,SACd,CACHnI,UAAWoI,EAAS5G,EAAO2G,GAAOnI,WAQ1C,SAASoI,EAAS5G,EAAO2G,EAAQjJ,OACzBmJ,QACEC,EAAc,YACXC,EAAIC,MACL3I,EAAe2B,EAAOgH,KACtBhH,EAAQgH,EACJH,GAAM,OACAI,GAAaR,EAAiBrE,WAC/B,IAAID,EAAI,EAAGA,EAAI2E,EAAY1E,OAAQD,GAAK,EAAG,OACtC+E,EAAIJ,EAAY3E,GACtB+E,EAAE,KACFT,EAAiB3E,KAAKoF,EAAGlH,MAEzBiH,EAAW,KACN,IAAI9E,EAAI,EAAGA,EAAIsE,EAAiBrE,OAAQD,GAAK,EAC9CsE,EAAiBtE,GAAG,GAAGsE,EAAiBtE,EAAI,IAEhDsE,EAAiBrE,OAAS,UA0BnC,CAAE2E,IAAAA,EAAK1E,gBArBEzE,GACZmJ,EAAInJ,EAAGoC,KAoBWxB,mBAlBHb,EAAKwJ,EAAazJ,SAC3B0J,EAAa,CAACzJ,EAAKwJ,UACzBL,EAAYhF,KAAKsF,GACU,IAAvBN,EAAY1E,SACZyE,EAAOF,EAAMI,IAAQrJ,GAEzBC,EAAIqC,GACG,WACGqG,EAAQS,EAAYR,QAAQc,IACnB,IAAXf,GACAS,EAAYP,OAAOF,EAAO,GAEH,IAAvBS,EAAY1E,SACZyE,IACAA,EAAO,SAMvB,SAASQ,EAAQC,EAAQ1J,EAAI2J,SACnBC,GAAU7B,MAAM8B,QAAQH,GACxBI,EAAeF,EACf,CAACF,GACDA,EACAK,EAAO/J,EAAGwE,OAAS,SAClBsE,EAASa,EAAgBR,QACxBa,GAAS,QACPC,EAAS,OACXC,EAAU,EACVC,EAAUrK,QACRsK,EAAO,QACLF,SAGJC,UACME,EAASrK,EAAG4J,EAASK,EAAO,GAAKA,EAAQd,GAC3CY,EACAZ,EAAIkB,GAGJF,EAAU5J,EAAY8J,GAAUA,EAASvK,GAG3CwK,EAAgBR,EAAatD,IAAI,CAAC3F,EAAO0D,IAAM3D,EAAUC,EAAQuB,IACnE6H,EAAO1F,GAAKnC,EACZ8H,KAAa,GAAK3F,GACdyF,GACAI,KAEL,KACCF,GAAY,GAAK3F,YAErByF,GAAS,EACTI,IACO,WACHhK,EAAQkK,GACRH,mCC4GehF,8IAAAA,wSAFAA,wCAAqBA,oKAAAA,aAArBA,kWADtBA,8SAnJIoF,UACCC,EAAeC,OAAOC,SAASC,KAAKjC,QAAQ,UAC9CgC,EAAYF,GAAgB,EAAKC,OAAOC,SAASC,KAAKC,OAAOJ,EAAe,GAAK,UAG/EK,EAAaH,EAAShC,QAAQ,SAChCoC,EAAc,UACdD,GAAc,IACdC,EAAcJ,EAASE,OAAOC,EAAa,GAC3CH,EAAWA,EAASE,OAAO,EAAGC,KAG1BH,SAAAA,EAAUI,YAAAA,SAMTC,EAAMjC,EACfyB,cAEepB,SACL1E,OACF0E,EAAIoB,aAERE,OAAOO,iBAAiB,aAAcvG,GAAQ,cAG1CgG,OAAOQ,oBAAoB,aAAcxG,GAAQ,OAQrCgF,EACpBsB,EACCG,GAASA,EAAKR,UAMQjB,EACvBsB,EACCG,GAASA,EAAKJ,0CFtDnB,SAA6BpI,EAAW7B,EAAO8D,GAC3CjC,EAAUM,GAAGqD,WAAWnC,KAAKtD,EAAUC,EAAO8D,+DEjCvCwG,gBAKAC,EAAS,YAKdC,EAOFC,YAAYC,EAAM7I,OACTA,GAAkC,mBAAbA,IAAgD,iBAAbA,IAAwD,IAA/BA,EAAU8I,wBACtF5I,MAAM,gCAIX2I,GACe,iBAARA,IAAqBA,EAAK/G,OAAS,GAAwB,KAAlB+G,EAAKE,OAAO,IAA+B,KAAlBF,EAAKE,OAAO,KACtE,iBAARF,KAAsBA,aAAgBG,cAExC9I,MAAM,mDAGT+I,EAAOC,KAAEA,GCjDT,SAAUC,EAAKC,MACzBD,aAAeH,OAAQ,MAAO,CAAEE,MAAK,EAAOD,QAAQE,OACpDpG,EAAGO,EAAG+F,EAAKC,EAAKJ,EAAK,GAAID,EAAQ,GAAIM,EAAMJ,EAAIK,MAAM,SACzDD,EAAI,IAAMA,EAAIE,QAEPJ,EAAME,EAAIE,SAEN,OADV1G,EAAIsG,EAAI,KAEPH,EAAK1H,KAAK,QACVyH,GAAW,SACK,MAANlG,GACVO,EAAI+F,EAAIrD,QAAQ,IAAK,GACrBsD,EAAMD,EAAIrD,QAAQ,IAAK,GACvBkD,EAAK1H,KAAM6H,EAAIK,UAAU,GAAMpG,EAAIA,GAAOgG,EAAMA,EAAMD,EAAIvH,SAC1DmH,IAAc3F,KAAOgG,EAAM,iBAAmB,aACvCA,IAAKL,KAAe3F,EAAI,IAAM,IAAM,KAAO+F,EAAIK,UAAUJ,KAEhEL,GAAW,IAAMI,QAIZ,CACNH,KAAMA,EACND,QAAS,IAAID,OAAO,IAAMC,GAAWG,EAAQ,UAAa,OAAS,MD0BrCO,CAAWd,GAEnChD,KAAKgD,KAAOA,EAGY,iBAAb7I,IAAwD,IAA/BA,EAAU8I,kBAC1CjD,KAAK7F,UAAYA,EAAU4J,MAC3B/D,KAAKgE,WAAa7J,EAAU6J,eAC5BhE,KAAKiE,SAAW9J,EAAU8J,WAG1BjE,KAAK7F,UAAYA,EACjB6F,KAAKgE,cACLhE,KAAKiE,cAAWC,GAGpBlE,KAAKmE,SAAWf,EAChBpD,KAAKoE,MAAQf,EAWjBN,MAAMC,GAEEH,GAAUG,EAAKqB,WAAWxB,KAC1BG,EAAOA,EAAKX,OAAOQ,EAAO5G,SAAW,WAInCqI,EAAUtE,KAAKmE,SAASI,KAAKvB,MACnB,OAAZsB,SACO,SAIQ,IAAftE,KAAKoE,aACEE,QAGLE,SACFxI,EAAI,OACDA,EAAIgE,KAAKoE,MAAMnI,QAClBuI,EAAIxE,KAAKoE,MAAMpI,IAAMsI,IAAUtI,IAAM,YAElCwI,EAmBXzB,gBAAgBvI,WACHwB,EAAI,EAAGA,EAAIgE,KAAKgE,WAAW/H,OAAQD,QACnCgE,KAAKgE,WAAWhI,GAAGxB,UACb,SAIR,SAKTiK,KACF7B,aAAkB1D,IAElB0D,EAAO7K,SAASgM,EAAOf,KACnByB,EAAW9I,SAASmH,EAAUE,EAAMe,MAKxCpM,OAAO0L,KAAKT,GAAQ7K,QAASiL,IACzByB,EAAW9I,SAASmH,EAAUE,EAAMJ,EAAOI,WAK/C7I,EAAY,KACZuK,EAAkB,WAGhBC,EAAWrK,IAGXsK,GAAoBzL,EAAMqB,KAE5BqK,gBACIF,EAASxL,EAAMqB,IAChB,0HAOHL,EAAY,UACR6B,EAAI,QACA7B,GAAa6B,EAAIyI,EAAWxI,eAC1B6I,EAAQL,EAAWzI,GAAG8I,MAAMnC,EAAKR,aACnC2C,SACMtK,GACFL,UAAWsK,EAAWzI,GAAG7B,UACzBhB,KAAMsL,EAAWzI,GAAG7B,UAAUhB,KAC9BgJ,SAAUQ,EAAKR,SACfI,YAAaI,EAAKJ,YAClB0B,SAAUQ,EAAWzI,GAAGiI,cAIvBQ,EAAWzI,GAAG+I,gBAAgBvK,IAE/BoK,EAAiB,mBAAoBpK,aAGzCL,EAAYsK,EAAWzI,GAAG7B,WAGtB2K,GAAyB,iBAATA,GAAqBnN,OAAO0L,KAAKyB,GAAO7I,WACxDyI,EAAkBI,OAGlBJ,EAAkB,MAGtBE,EAAiB,cAAepK,GAEpCwB,26DE5LRgJ,UANA,SAAgCC,UACvBA,GAAOA,EAAIC,WAAaD,EAAM,SACxBA,cCIfD,OANA,SAAyBtG,EAAUyG,QAC3BzG,aAAoByG,SAClB,IAAIC,UAAU,sCCaxBJ,OAfA,SAAyBC,EAAKI,EAAKxL,UAC7BwL,KAAOJ,EACTtN,OAAO2N,eAAeL,EAAKI,EAAK,CAC9BxL,MAAOA,EACP0L,YAAY,EACZC,cAAc,EACd/E,UAAU,IAGZwE,EAAII,GAAOxL,EAGNoL,wBCRTtN,OAAO2N,eAAeG,EAAS,aAAc,CAC3C5L,OAAO,IAET4L,EAAO,aAAc,EAErB,IAAIC,EAAmBC,GAAuBC,IAE1CC,EAAmBF,GAAuBC,IA6B9CH,EAAO,QA3BK,SAASK,EAAMC,EAAQ5M,OAC7B6M,EAAQhG,QAER0F,EAAgB,SAAa1F,KAAM8F,MACnCD,EAAgB,SAAa7F,KAAM,UAAU,kBAC7C6F,EAAgB,SAAa7F,KAAM,UAAU,SAAUiG,UACvDJ,EAAgB,SAAa7F,KAAM,UAAU,SAAUiG,UACvDJ,EAAgB,SAAa7F,KAAM,WAAW,WAEhDgG,EAAMpJ,IAAIsJ,UAAUF,EAAMD,OAAOI,EAAGH,EAAMD,OAAOK,EAAGJ,EAAMD,OAAOM,MAAOL,EAAMD,OAAOO,QAGrFN,EAAMO,MAAMC,YAAYR,WAGrBO,WACA3J,SACAzD,KAAOA,OAEP4M,OAASA,GAAU,CACtBI,EAAG,EACHC,EAAG,EACHC,MAAO,EACPC,OAAQ,qCC7BZ,IAAIG,EAAW,SAAUhB,OAGnBiB,EAAK/O,OAAOgP,UACZC,EAASF,EAAGG,eAEZC,EAA4B,mBAAXC,OAAwBA,OAAS,GAClDC,EAAiBF,EAAQG,UAAY,aACrCC,EAAsBJ,EAAQK,eAAiB,kBAC/CC,EAAoBN,EAAQO,aAAe,yBAEtCC,EAAKC,EAASC,EAASC,EAAMC,OAEhCC,EAAiBH,GAAWA,EAAQb,qBAAqBiB,EAAYJ,EAAUI,EAC/EC,EAAYlQ,OAAOC,OAAO+P,EAAehB,WACzC1H,EAAU,IAAI6I,EAAQJ,GAAe,WAIzCG,EAAUE,iBAqMcR,EAASE,EAAMxI,OACnC+I,EA9KuB,wBAgLpB,SAAgBC,EAAQC,MA9KT,cA+KhBF,QACI,IAAI3N,MAAM,mCA/KE,cAkLhB2N,EAA6B,IAChB,UAAXC,QACIC,SAKDC,QAGTlJ,EAAQgJ,OAASA,EACjBhJ,EAAQiJ,IAAMA,IAED,KACPE,EAAWnJ,EAAQmJ,YACnBA,EAAU,KACRC,EAAiBC,EAAoBF,EAAUnJ,MAC/CoJ,EAAgB,IACdA,IAAmBE,EAAkB,gBAClCF,MAIY,SAAnBpJ,EAAQgJ,OAGVhJ,EAAQuJ,KAAOvJ,EAAQwJ,MAAQxJ,EAAQiJ,SAElC,GAAuB,UAAnBjJ,EAAQgJ,OAAoB,IAjNhB,mBAkNjBD,QACFA,EAhNc,YAiNR/I,EAAQiJ,IAGhBjJ,EAAQyJ,kBAAkBzJ,EAAQiJ,SAEN,WAAnBjJ,EAAQgJ,QACjBhJ,EAAQ0J,OAAO,SAAU1J,EAAQiJ,KAGnCF,EA3NkB,gBA6NdY,EAASC,EAAStB,EAASE,EAAMxI,MACjB,WAAhB2J,EAAOrO,KAAmB,IAG5ByN,EAAQ/I,EAAQ6J,KAhOA,YAFK,iBAsOjBF,EAAOV,MAAQK,iBAIZ,CACL1O,MAAO+O,EAAOV,IACdY,KAAM7J,EAAQ6J,MAGS,UAAhBF,EAAOrO,OAChByN,EA9OgB,YAiPhB/I,EAAQgJ,OAAS,QACjBhJ,EAAQiJ,IAAMU,EAAOV,OA7QPa,CAAiBxB,EAASE,EAAMxI,GAE7C4I,WAcAgB,EAASpR,EAAIwN,EAAKiD,aAEhB,CAAE3N,KAAM,SAAU2N,IAAKzQ,EAAGuD,KAAKiK,EAAKiD,IAC3C,MAAOc,SACA,CAAEzO,KAAM,QAAS2N,IAAKc,IAhBjCvD,EAAQ6B,KAAOA,MA2BXiB,EAAmB,YAMdX,cACAqB,cACAC,SAILC,EAAoB,GACxBA,EAAkBnC,GAAkB,kBAC3BhH,UAGLoJ,EAAWzR,OAAO0R,eAClBC,EAA0BF,GAAYA,EAASA,EAAS1H,EAAO,MAC/D4H,GACAA,IAA4B5C,GAC5BE,EAAO5L,KAAKsO,EAAyBtC,KAGvCmC,EAAoBG,OAGlBC,EAAKL,EAA2BvC,UAClCiB,EAAUjB,UAAYhP,OAAOC,OAAOuR,YAQ7BK,EAAsB7C,IAC5B,OAAQ,QAAS,UAAU5O,SAAQ,SAASkQ,GAC3CtB,EAAUsB,GAAU,SAASC,UACpBlI,KAAK+H,QAAQE,EAAQC,gBAoCzBuB,EAAc5B,EAAW6B,OAgC5BC,OAgCC5B,iBA9BYE,EAAQC,YACd0B,WACA,IAAIF,GAAY,SAASlO,EAASqO,aAnCpCC,EAAO7B,EAAQC,EAAK1M,EAASqO,OAChCjB,EAASC,EAAShB,EAAUI,GAASJ,EAAWK,MAChC,UAAhBU,EAAOrO,KAEJ,KACDuH,EAAS8G,EAAOV,IAChBrO,EAAQiI,EAAOjI,aACfA,GACiB,iBAAVA,GACP+M,EAAO5L,KAAKnB,EAAO,WACd6P,EAAYlO,QAAQ3B,EAAMkQ,SAASzL,MAAK,SAASzE,GACtDiQ,EAAO,OAAQjQ,EAAO2B,EAASqO,MAC9B,SAASb,GACVc,EAAO,QAASd,EAAKxN,EAASqO,MAI3BH,EAAYlO,QAAQ3B,GAAOyE,MAAK,SAAS0L,GAI9ClI,EAAOjI,MAAQmQ,EACfxO,EAAQsG,MACP,SAASmI,UAGHH,EAAO,QAASG,EAAOzO,EAASqO,MAvBzCA,EAAOjB,EAAOV,KAiCZ4B,CAAO7B,EAAQC,EAAK1M,EAASqO,aAI1BF,EAaLA,EAAkBA,EAAgBrL,KAChCsL,EAGAA,GACEA,cAkHDtB,EAAoBF,EAAUnJ,OACjCgJ,EAASG,EAASnB,SAAShI,EAAQgJ,gBAtSrC/D,IAuSE+D,EAAsB,IAGxBhJ,EAAQmJ,SAAW,KAEI,UAAnBnJ,EAAQgJ,OAAoB,IAE1BG,EAASnB,SAAT,SAGFhI,EAAQgJ,OAAS,SACjBhJ,EAAQiJ,SAlTZhE,EAmTIoE,EAAoBF,EAAUnJ,GAEP,UAAnBA,EAAQgJ,eAGHM,EAIXtJ,EAAQgJ,OAAS,QACjBhJ,EAAQiJ,IAAM,IAAI9C,UAChB,yDAGGmD,MAGLK,EAASC,EAASZ,EAAQG,EAASnB,SAAUhI,EAAQiJ,QAErC,UAAhBU,EAAOrO,YACT0E,EAAQgJ,OAAS,QACjBhJ,EAAQiJ,IAAMU,EAAOV,IACrBjJ,EAAQmJ,SAAW,KACZG,MAGL2B,EAAOtB,EAAOV,WAEZgC,EAOFA,EAAKpB,MAGP7J,EAAQmJ,EAAS+B,YAAcD,EAAKrQ,MAGpCoF,EAAQmL,KAAOhC,EAASiC,QAQD,WAAnBpL,EAAQgJ,SACVhJ,EAAQgJ,OAAS,OACjBhJ,EAAQiJ,SAtWVhE,GAgXFjF,EAAQmJ,SAAW,KACZG,GANE2B,GA3BPjL,EAAQgJ,OAAS,QACjBhJ,EAAQiJ,IAAM,IAAI9C,UAAU,oCAC5BnG,EAAQmJ,SAAW,KACZG,YAoDF+B,EAAaC,OAChBC,EAAQ,CAAEC,OAAQF,EAAK,IAEvB,KAAKA,IACPC,EAAME,SAAWH,EAAK,IAGpB,KAAKA,IACPC,EAAMG,WAAaJ,EAAK,GACxBC,EAAMI,SAAWL,EAAK,SAGnBM,WAAWlP,KAAK6O,YAGdM,EAAcN,OACjB5B,EAAS4B,EAAMO,YAAc,GACjCnC,EAAOrO,KAAO,gBACPqO,EAAOV,IACdsC,EAAMO,WAAanC,WAGZd,EAAQJ,QAIVmD,WAAa,CAAC,CAAEJ,OAAQ,SAC7B/C,EAAY3P,QAAQuS,EAActK,WAC7BgL,OAAM,YA8BJtJ,EAAOuJ,MACVA,EAAU,KACRC,EAAiBD,EAASjE,MAC1BkE,SACKA,EAAelQ,KAAKiQ,MAGA,mBAAlBA,EAASb,YACXa,MAGJE,MAAMF,EAAShP,QAAS,KACvBD,GAAK,EAAGoO,EAAO,SAASA,WACjBpO,EAAIiP,EAAShP,WAChB2K,EAAO5L,KAAKiQ,EAAUjP,UACxBoO,EAAKvQ,MAAQoR,EAASjP,GACtBoO,EAAKtB,MAAO,EACLsB,SAIXA,EAAKvQ,WAtdTqK,EAudIkG,EAAKtB,MAAO,EAELsB,UAGFA,EAAKA,KAAOA,SAKhB,CAAEA,KAAMjC,YAIRA,UACA,CAAEtO,WAtePqK,EAseyB4E,MAAM,UA5ZnCG,EAAkBtC,UAAY4C,EAAG6B,YAAclC,EAC/CA,EAA2BkC,YAAcnC,EACzCC,EAA2B9B,GACzB6B,EAAkBoC,YAAc,oBAYlC5F,EAAQ6F,oBAAsB,SAASC,OACjCC,EAAyB,mBAAXD,GAAyBA,EAAOH,oBAC3CI,IACHA,IAASvC,GAG2B,uBAAnCuC,EAAKH,aAAeG,EAAKrS,QAIhCsM,EAAQgG,KAAO,SAASF,UAClB5T,OAAO+T,eACT/T,OAAO+T,eAAeH,EAAQrC,IAE9BqC,EAAOI,UAAYzC,EACb9B,KAAqBmE,IACzBA,EAAOnE,GAAqB,sBAGhCmE,EAAO5E,UAAYhP,OAAOC,OAAO2R,GAC1BgC,GAOT9F,EAAQmG,MAAQ,SAAS1D,SAChB,CAAE6B,QAAS7B,IAsEpBsB,EAAsBC,EAAc9C,WACpC8C,EAAc9C,UAAUO,GAAuB,kBACtClH,MAETyF,EAAQgE,cAAgBA,EAKxBhE,EAAQoG,MAAQ,SAAStE,EAASC,EAASC,EAAMC,EAAagC,QACxC,IAAhBA,IAAwBA,EAAcnO,aAEtCuQ,EAAO,IAAIrC,EACbnC,EAAKC,EAASC,EAASC,EAAMC,GAC7BgC,UAGKjE,EAAQ6F,oBAAoB9D,GAC/BsE,EACAA,EAAK1B,OAAO9L,MAAK,SAASwD,UACjBA,EAAOgH,KAAOhH,EAAOjI,MAAQiS,EAAK1B,WAuKjDZ,EAAsBD,GAEtBA,EAAGnC,GAAqB,YAOxBmC,EAAGvC,GAAkB,kBACZhH,MAGTuJ,EAAGwC,SAAW,iBACL,sBAkCTtG,EAAQpC,KAAO,SAAS2I,OAClB3I,EAAO,OACN,IAAIgC,KAAO2G,EACd3I,EAAK1H,KAAK0J,UAEZhC,EAAK4I,UAIE,SAAS7B,SACP/G,EAAKpH,QAAQ,KACdoJ,EAAMhC,EAAKlH,SACXkJ,KAAO2G,SACT5B,EAAKvQ,MAAQwL,EACb+E,EAAKtB,MAAO,EACLsB,SAOXA,EAAKtB,MAAO,EACLsB,IAsCX3E,EAAQ/D,OAASA,EAMjBoG,EAAQnB,UAAY,CAClByE,YAAatD,EAEbkD,MAAO,SAASkB,WACTC,KAAO,OACP/B,KAAO,OAGP5B,KAAOxI,KAAKyI,WAjfjBvE,OAkfK4E,MAAO,OACPV,SAAW,UAEXH,OAAS,YACTC,SAtfLhE,OAwfK2G,WAAW9S,QAAQ+S,IAEnBoB,MACE,IAAI/S,KAAQ6G,KAEQ,MAAnB7G,EAAK+J,OAAO,IACZ0D,EAAO5L,KAAKgF,KAAM7G,KACjBgS,OAAOhS,EAAK4B,MAAM,WAChB5B,QAhgBX+K,IAsgBFxD,KAAM,gBACCoI,MAAO,MAGRsD,EADYpM,KAAK6K,WAAW,GACLE,cACH,UAApBqB,EAAW7R,WACP6R,EAAWlE,WAGZlI,KAAKqM,MAGd3D,kBAAmB,SAAS4D,MACtBtM,KAAK8I,WACDwD,MAGJrN,EAAUe,cACLuM,EAAO/J,EAAKgK,UACnB5D,EAAOrO,KAAO,QACdqO,EAAOV,IAAMoE,EACbrN,EAAQmL,KAAO5H,EAEXgK,IAGFvN,EAAQgJ,OAAS,OACjBhJ,EAAQiJ,SAjiBZhE,KAoiBYsI,MAGP,IAAIxQ,EAAIgE,KAAK6K,WAAW5O,OAAS,EAAGD,GAAK,IAAKA,EAAG,KAChDwO,EAAQxK,KAAK6K,WAAW7O,GACxB4M,EAAS4B,EAAMO,cAEE,SAAjBP,EAAMC,cAID8B,EAAO,UAGZ/B,EAAMC,QAAUzK,KAAKmM,KAAM,KACzBM,EAAW7F,EAAO5L,KAAKwP,EAAO,YAC9BkC,EAAa9F,EAAO5L,KAAKwP,EAAO,iBAEhCiC,GAAYC,EAAY,IACtB1M,KAAKmM,KAAO3B,EAAME,gBACb6B,EAAO/B,EAAME,UAAU,GACzB,GAAI1K,KAAKmM,KAAO3B,EAAMG,kBACpB4B,EAAO/B,EAAMG,iBAGjB,GAAI8B,MACLzM,KAAKmM,KAAO3B,EAAME,gBACb6B,EAAO/B,EAAME,UAAU,OAG3B,CAAA,IAAIgC,QAMH,IAAIrS,MAAM,6CALZ2F,KAAKmM,KAAO3B,EAAMG,kBACb4B,EAAO/B,EAAMG,gBAU9BhC,OAAQ,SAASpO,EAAM2N,OAChB,IAAIlM,EAAIgE,KAAK6K,WAAW5O,OAAS,EAAGD,GAAK,IAAKA,EAAG,KAChDwO,EAAQxK,KAAK6K,WAAW7O,MACxBwO,EAAMC,QAAUzK,KAAKmM,MACrBvF,EAAO5L,KAAKwP,EAAO,eACnBxK,KAAKmM,KAAO3B,EAAMG,WAAY,KAC5BgC,EAAenC,SAKnBmC,IACU,UAATpS,GACS,aAATA,IACDoS,EAAalC,QAAUvC,GACvBA,GAAOyE,EAAahC,aAGtBgC,EAAe,UAGb/D,EAAS+D,EAAeA,EAAa5B,WAAa,UACtDnC,EAAOrO,KAAOA,EACdqO,EAAOV,IAAMA,EAETyE,QACG1E,OAAS,YACTmC,KAAOuC,EAAahC,WAClBpC,GAGFvI,KAAK4M,SAAShE,IAGvBgE,SAAU,SAAShE,EAAQgC,MACL,UAAhBhC,EAAOrO,WACHqO,EAAOV,UAGK,UAAhBU,EAAOrO,MACS,aAAhBqO,EAAOrO,UACJ6P,KAAOxB,EAAOV,IACM,WAAhBU,EAAOrO,WACX8R,KAAOrM,KAAKkI,IAAMU,EAAOV,SACzBD,OAAS,cACTmC,KAAO,OACa,WAAhBxB,EAAOrO,MAAqBqQ,SAChCR,KAAOQ,GAGPrC,GAGTsE,OAAQ,SAASlC,OACV,IAAI3O,EAAIgE,KAAK6K,WAAW5O,OAAS,EAAGD,GAAK,IAAKA,EAAG,KAChDwO,EAAQxK,KAAK6K,WAAW7O,MACxBwO,EAAMG,aAAeA,cAClBiC,SAASpC,EAAMO,WAAYP,EAAMI,UACtCE,EAAcN,GACPjC,UAKJ,SAASkC,OACX,IAAIzO,EAAIgE,KAAK6K,WAAW5O,OAAS,EAAGD,GAAK,IAAKA,EAAG,KAChDwO,EAAQxK,KAAK6K,WAAW7O,MACxBwO,EAAMC,SAAWA,EAAQ,KACvB7B,EAAS4B,EAAMO,cACC,UAAhBnC,EAAOrO,KAAkB,KACvBuS,EAASlE,EAAOV,IACpB4C,EAAcN,UAETsC,SAML,IAAIzS,MAAM,0BAGlB0S,cAAe,SAAS9B,EAAUd,EAAYE,eACvCjC,SAAW,CACdnB,SAAUvF,EAAOuJ,GACjBd,WAAYA,EACZE,QAASA,GAGS,SAAhBrK,KAAKiI,cAGFC,SA1qBPhE,GA6qBOqE,IAQJ9C,EA1rBM,CAisBgBT,EAAOS,SAGtC,IACEuH,mBAAqBvG,EACrB,MAAOwG,GAUPC,SAAS,IAAK,yBAAdA,CAAwCzG,OCvtB1C,SAAS0G,GAAkBxU,EAAQkG,OAC5B,IAAI7C,EAAI,EAAGA,EAAI6C,EAAM5C,OAAQD,IAAK,KACjCoR,EAAavO,EAAM7C,GACvBoR,EAAW7H,WAAa6H,EAAW7H,aAAc,EACjD6H,EAAW5H,cAAe,EACtB,UAAW4H,IAAYA,EAAW3M,UAAW,GACjD9I,OAAO2N,eAAe3M,EAAQyU,EAAW/H,IAAK+H,IAUlDpI,OANA,SAAsBG,EAAakI,EAAYC,UACzCD,GAAYF,GAAkBhI,EAAYwB,UAAW0G,GACrDC,GAAaH,GAAkBhI,EAAamI,GACzCnI,sBCbT,SAASoI,EAAQtI,SAGO,mBAAX8B,QAAoD,iBAApBA,OAAOE,SAChDjC,UAAiBuI,EAAU,SAAiBtI,iBAC5BA,GAGhBD,UAAiBuI,EAAU,SAAiBtI,UACnCA,GAAyB,mBAAX8B,QAAyB9B,EAAImG,cAAgBrE,QAAU9B,IAAQ8B,OAAOJ,UAAY,gBAAkB1B,GAItHsI,EAAQtI,GAGjBD,UAAiBuI,KCRjBvI,OARA,SAAgCyC,WACjB,IAATA,QACI,IAAI+F,eAAe,oEAGpB/F,GCOTzC,OARA,SAAoCyC,EAAMzM,UACpCA,GAA2B,WAAlBuS,GAAQvS,IAAsC,mBAATA,EAI3CyS,GAAsBhG,GAHpBzM,sBCNX,SAAS0S,EAAgBjQ,UACvBuH,UAAiB0I,EAAkB/V,OAAO+T,eAAiB/T,OAAO0R,eAAiB,SAAyB5L,UACnGA,EAAEkO,WAAahU,OAAO0R,eAAe5L,IAEvCiQ,EAAgBjQ,GAGzBuH,UAAiB0I,KCIjB1I,OATA,SAAwBgH,EAAQ2B,SACtBhW,OAAOgP,UAAUE,eAAe7L,KAAKgR,EAAQ2B,IAEpC,QADf3B,EAAS3C,GAAe2C,aAInBA,sBCNT,SAAS4B,EAAKjV,EAAQgV,EAAUE,SACP,oBAAZC,SAA2BA,QAAQC,IAC5C/I,UAAiB4I,EAAOE,QAAQC,IAEhC/I,UAAiB4I,EAAO,SAAcjV,EAAQgV,EAAUE,OAClDG,EAAOC,GAActV,EAAQgV,MAC5BK,OACDE,EAAOvW,OAAOwW,yBAAyBH,EAAML,UAE7CO,EAAKH,IACAG,EAAKH,IAAI/S,KAAK6S,GAGhBK,EAAKrU,QAIT+T,EAAKjV,EAAQgV,EAAUE,GAAYlV,GAG5CqM,UAAiB4I,wBCtBjB,SAASQ,EAAgB3Q,EAAGd,UAC1BqI,UAAiBoJ,EAAkBzW,OAAO+T,gBAAkB,SAAyBjO,EAAGd,UACtFc,EAAEkO,UAAYhP,EACPc,GAGF2Q,EAAgB3Q,EAAGd,GAG5BqI,UAAiBoJ,KCQjBpJ,OAfA,SAAmBqJ,EAAUC,MACD,mBAAfA,GAA4C,OAAfA,QAChC,IAAIlJ,UAAU,sDAGtBiJ,EAAS1H,UAAYhP,OAAOC,OAAO0W,GAAcA,EAAW3H,UAAW,CACrEyE,YAAa,CACXvR,MAAOwU,EACP5N,UAAU,EACV+E,cAAc,KAGd8I,GAAY5C,GAAe2C,EAAUC,ICd3C,SAASC,GAAmBC,EAAKhT,EAASqO,EAAQ4E,EAAOC,EAAQrJ,EAAK6C,WAE9DgC,EAAOsE,EAAInJ,GAAK6C,GAChBrO,EAAQqQ,EAAKrQ,MACjB,MAAOoQ,eACPJ,EAAOI,GAILC,EAAKpB,KACPtN,EAAQ3B,GAER0B,QAAQC,QAAQ3B,GAAOyE,KAAKmQ,EAAOC,GAwBvC1J,OApBA,SAA2BvN,UAClB,eACDgQ,EAAOzH,KACP2O,EAAOC,iBACJ,IAAIrT,SAAQ,SAAUC,EAASqO,OAChC2E,EAAM/W,EAAGoX,MAAMpH,EAAMkH,YAEhBF,EAAM5U,GACb0U,GAAmBC,EAAKhT,EAASqO,EAAQ4E,EAAOC,EAAQ,OAAQ7U,YAGzD6U,EAAO1F,GACduF,GAAmBC,EAAKhT,EAASqO,EAAQ4E,EAAOC,EAAQ,QAAS1F,GAGnEyF,OAAMvK,6BC3BZvM,OAAO2N,eAAeG,EAAS,aAAc,CAC3C5L,OAAO,IAET4L,EAAO,aAAc,EAErB,IAAIqJ,EAAenJ,GAAuBC,IAEtCF,EAAmBC,GAAuBC,IAE1CmJ,EAAgBpJ,GAAuBC,IAEvCoJ,EAA8BrJ,GAAuBC,IAErDqJ,EAA0BtJ,GAAuBC,IAEjDsJ,EAAmBvJ,GAAuBC,IAE1CuJ,EAAQxJ,GAAuBC,IAE/BwJ,EAAazJ,GAAuBC,IAEpCC,EAAmBF,GAAuBC,IAE1CyJ,EAAqB1J,GAAuBC,IAIhD,SAAS0J,EAAUC,UACVC,EAAWX,MAAM7O,KAAM4O,WAGhC,SAASY,WACPA,GAAa,EAAIH,EAAkB,SAA2BP,EAAY,QAAYrD,MAAK,SAASgE,EAASC,OACvGC,SACGb,EAAY,QAAYxH,MAAK,SAAmBsI,iBAE3CA,EAAUzD,KAAOyD,EAAUxF,WAC5B,SACHuF,EAAM,IAAIE,OACNH,IAAMA,EACHE,EAAUjH,OAAO,SAAU,IAAIpN,SAAQ,SAAUuU,EAAKC,GAC3DJ,EAAIK,OAAS,WACXF,EAAIH,aAIL,MACA,aACIC,EAAUlP,UAGtB+O,QAEaZ,MAAM7O,KAAM4O,WAGhC,IAAIqB,EAA2B,SAAUC,YAG9BD,EAAYlK,EAAQoK,OACvBnK,WAEAN,EAAgB,SAAa1F,KAAMiQ,GACvCjK,GAAQ,EAAIgJ,EAA2B,SAAahP,MAAM,EAAIkP,EAAgB,SAAae,GAAajV,KAAKgF,KAAM+F,EAAQoK,EAAU,UACjItK,EAAgB,UAAa,EAAIoJ,EAAuB,SAAajJ,GAAQ,eAAe,SAAUgC,GACxGhC,EAAMoK,aAAepI,QAEnBnC,EAAgB,UAAa,EAAIoJ,EAAuB,SAAajJ,GAAQ,iBAAiB,SAAUqK,GAC1GrK,EAAMsK,WAAaD,EAAUC,WAC7BtK,EAAMuK,OAASF,EAAUE,OAErBvK,EAAMuK,QAAU,IAAMvK,EAAMsK,YAAc,OACxCjB,EAAkB,SAA2BP,EAAY,QAAYrD,MAAK,SAAS+E,WAC9E1B,EAAY,QAAYxH,MAAK,SAAmBmJ,iBAE3CA,EAAUtE,KAAOsE,EAAUrG,WAC5B,SACHqG,EAAUrG,KAAO,EACV7O,QAAQmV,IAAI/Y,OAAO0L,KAAK2C,EAAMuK,QAAQtS,IAAkB,eACzD0S,GAAQ,EAAItB,EAAkB,SAA2BP,EAAY,QAAYrD,MAAK,SAASmF,EAAQ7P,OACrG4O,SACGb,EAAY,QAAYxH,MAAK,SAAkBuJ,iBAE1CA,EAAS1E,KAAO0E,EAASzG,WAC1B,SACHyG,EAASzG,KAAO,EACTkF,EAAUtJ,EAAMuK,OAAOxP,GAAGoB,eAE9B,EACHwN,EAAMkB,EAASrI,KACf7Q,OAAOmZ,OAAO9K,EAAMuK,OAAOxP,GAAI,CAC7BgQ,MAAOpB,SAGN,MACA,aACIkB,EAASnQ,UAGrBkQ,cAGE,SAAUI,UACRL,EAAM9B,MAAM7O,KAAM4O,YAzBkC,UA6B5D,EACHqC,QAAQC,IAAIlL,EAAMuK,aAEf,MACA,aACIE,EAAU/P,UAGtB8P,eAIL3K,EAAgB,UAAa,EAAIoJ,EAAuB,SAAajJ,GAAQ,UAAU,WACrFA,EAAMuK,QAAU,IAAMvK,EAAMsK,YAAc,OACxCjB,EAAkB,SAA2BP,EAAY,QAAYrD,MAAK,SAAS0F,WAC9ErC,EAAY,QAAYxH,MAAK,SAAmB8J,iBAE3CA,EAAUjF,KAAOiF,EAAUhH,WAC5B,SACHgH,EAAUhH,KAAO,EACV7O,QAAQmV,IAAI/Y,OAAO0L,KAAK2C,EAAMuK,QAAQtS,IAAkB,eACzDoT,GAAQ,EAAIhC,EAAkB,SAA2BP,EAAY,QAAYrD,MAAK,SAAS6F,EAASvQ,OACtG4O,SACGb,EAAY,QAAYxH,MAAK,SAAmBiK,iBAE3CA,EAAUpF,KAAOoF,EAAUnH,WAC5B,SACHmH,EAAUnH,KAAO,EACVkF,EAAUtJ,EAAMuK,OAAOxP,GAAGoB,eAE9B,EACHwN,EAAM4B,EAAU/I,KAChB7Q,OAAOmZ,OAAO9K,EAAMuK,OAAOxP,GAAI,CAC7BgQ,MAAOpB,SAGN,MACA,aACI4B,EAAU7Q,UAGtB4Q,cAGE,SAAUE,UACRH,EAAMxC,MAAM7O,KAAM4O,YAzBkC,UA6B5D,EACHqC,QAAQC,IAAIlL,EAAMuK,aAEf,MACA,aACIa,EAAU1Q,UAGtByQ,eAILtL,EAAgB,UAAa,EAAIoJ,EAAuB,SAAajJ,GAAQ,UAAU,SAAUC,GACnGD,EAAMpJ,IAAIsJ,UAAUF,EAAMyL,GAAIzL,EAAM0L,GAAI1L,EAAMD,OAAOM,MAAQL,EAAM2L,MAAO3L,EAAMD,OAAOO,OAASN,EAAM2L,WAElGC,EAAS5L,EAAMuK,OAAOvK,EAAMoK,cAChCpK,EAAM6L,aAAe5L,EAEjBD,EAAM6L,YAAc,IAAOD,EAAOE,MACpC9L,EAAM6L,YAAc,EAEhB7L,EAAM+L,YAAcH,EAAOI,OAAO/V,SACpC+J,EAAM+L,WAAa,EAEdH,EAAOK,MACVjM,EAAMkM,YAAY,SAItBlM,EAAMmM,MAAQP,EAAOI,OAAOhM,EAAM+L,YAClC/L,EAAMD,OAAOM,MAAQL,EAAMmM,MAAM9L,MAAQL,EAAM2L,MAC/C3L,EAAMD,OAAOO,OAASN,EAAMmM,MAAM7L,OAASN,EAAM2L,MAE7CC,EAAOb,QACT/K,EAAMoM,QAAUR,EAAOb,OAGzB/K,EAAM+L,cAGR/L,EAAMyL,GAAKY,KAAKC,MAAMtM,EAAMD,OAAOI,GACnCH,EAAM0L,GAAKW,KAAKC,MAAMtM,EAAMD,OAAOK,GAC/BJ,EAAMmM,OAASnM,EAAMoM,SAASpM,EAAMpJ,IAAI2V,UAAUvM,EAAMoM,QAASpM,EAAMmM,MAAMhM,EAAGH,EAAMmM,MAAM/L,EAAGJ,EAAMmM,MAAM9L,MAAOL,EAAMmM,MAAM7L,OAAQN,EAAMyL,GAAIzL,EAAM0L,GAAI1L,EAAMmM,MAAM9L,MAAQL,EAAM2L,MAAO3L,EAAMmM,MAAM7L,OAASN,EAAM2L,UAE5N3L,EAAMsK,WAAaH,EAAWG,YAAc,GAC5CtK,EAAMuK,OAASJ,EAAWI,QAAU,CAClCiC,KAAM,CACJrQ,SAAU,KACV2P,IAAK,EACLG,MAAM,EACND,OAAQ,CAAC,CACP7L,EAAG,EACHC,EAAG,EACHC,MAAO,EACPC,OAAQ,MAIdN,EAAMgM,OAAS7B,EAAW6B,OAC1BhM,EAAMoK,aAAezY,OAAO0L,KAAK2C,EAAMuK,QAAQ,IAAM,OACrDvK,EAAM+L,WAAa,EACnB/L,EAAM6L,YAAc,EACpB7L,EAAM2L,MAAQ,EACP3L,WAlKLoJ,EAAU,SAAaa,EAAaC,MAqKpCnB,EAAa,SAAakB,EAAa,CAAC,CAC1C5K,IAAK,UACLxL,MAAO,eACA,IAAImC,EAAI,EAAGA,EAAIrE,OAAO0L,KAAKrD,KAAKuQ,QAAQtU,OAAQD,IACnDiV,QAAQC,IAAIlR,KAAKuQ,OAAO5Y,OAAO0L,KAAKrD,KAAKuQ,QAAQvU,UAC5CuU,OAAO5Y,OAAO0L,KAAKrD,KAAKuQ,QAAQvU,IAAI+U,SAGvC5B,EAAK,UAAa,EAAID,EAAgB,SAAae,EAAYtJ,WAAY,UAAW3G,MAAMhF,KAAKgF,UAGlGiQ,EAjLsB,CA/BlBtK,GAAuBC,IAiN5B,SAERH,EAAO,QAAcwK,qCC5OrBtY,OAAO2N,eAAeG,EAAS,aAAc,CAC3C5L,OAAO,IAET4L,EAAO,aAAc,EAErB,IAAIC,EAAmBC,GAAuBC,IAE1CC,EAAmBF,GAAuBC,IA6J9CH,EAAO,QA3JK,SAASgN,EAAMC,OACrB1M,EAAQhG,QAER0F,EAAgB,SAAa1F,KAAMyS,MACnC5M,EAAgB,SAAa7F,KAAM,iBAAiB,SAAU2S,OAC5DC,EAAa,GACb3N,EAAMe,SACCrO,OAAO0L,KAAK2C,EAAMrG,UAExB5H,SAAQ,SAAU8a,GACrB5N,EAAItF,SAASkT,GAAO9a,SAAQ,SAAU+a,GAChC7N,EAAI8N,eAAeD,EAAOH,IAAUG,IAAUH,GAChDC,EAAWjX,KAAKmX,SAIfF,QAEL/M,EAAgB,SAAa7F,KAAM,kBAAkB,SAAUgT,EAAQC,UAClED,EAAOjN,OAAOI,EAAI8M,EAAOlN,OAAOI,EAAI8M,EAAOlN,OAAOM,OAAS2M,EAAOjN,OAAOI,EAAI6M,EAAOjN,OAAOM,MAAQ4M,EAAOlN,OAAOI,GAAK6M,EAAOjN,OAAOK,EAAI6M,EAAOlN,OAAOK,EAAI6M,EAAOlN,OAAOO,QAAU0M,EAAOjN,OAAOK,EAAI4M,EAAOjN,OAAOO,OAAS2M,EAAOlN,OAAOK,QAE9OP,EAAgB,SAAa7F,KAAM,YAAY,SAAU2S,EAAOO,GAC7DA,IAAQA,EAAS,GACtBP,EAAMpM,MAAQP,EACd2M,EAAM/V,IAAMoJ,EAAMpJ,IAClB+V,EAAMO,OAASA,EACfP,EAAM/a,SACDoO,EAAMrG,SAASuT,KAASlN,EAAMrG,SAASuT,GAAU,IAEtDlN,EAAMrG,SAASuT,GAAQvX,KAAKgX,GAE5B3M,EAAMmN,WAAWxX,KAAK,CACpBxC,KAAMwZ,EAAMxZ,KACZgN,EAAGwM,EAAM5M,OAAN,EACHK,EAAGuM,EAAM5M,OAAN,UAIHF,EAAgB,SAAa7F,KAAM,eAAe,SAAU2S,EAAOO,OAChE,IAAIlX,EAAI,EAAGA,EAAIgK,EAAMrG,SAAS1D,OAAQD,OACrCgK,EAAMrG,SAAS3D,GAAI,IAAK,IAAIoX,EAAI,EAAGA,EAAIpN,EAAMrG,SAAS3D,GAAGC,OAAQmX,OAC/DpN,EAAMrG,SAAS3D,GAAGoX,IAAMpN,EAAMrG,SAAS3D,GAAGoX,KAAOT,gBAC5C3M,EAAMrG,SAAS3D,GAAGoX,GACpBpN,EAAMrG,SAASuT,KAASlN,EAAMrG,SAASuT,GAAU,IAEtDlN,EAAMrG,SAASuT,GAAQvX,KAAKgX,QAE5BA,EAAMO,OAASA,SAMnBrN,EAAgB,SAAa7F,KAAM,eAAe,SAAU2S,OAC1DzS,EAAQ8F,EAAMrG,SAASgT,EAAMO,QAAQG,WAAU,SAAUlb,UACpDA,IAAMwa,KAGf3M,EAAMrG,SAASgT,EAAMO,QAAQ9S,OAAOF,EAAO,SAEzC2F,EAAgB,SAAa7F,KAAM,oBAAoB,eACrDsT,EAAUC,KAAKC,MAEfF,EAAUtN,EAAMyN,gBAAkB,IAAOzN,EAAM0N,YACjD1N,EAAM2N,gBAAkBL,EAAUtN,EAAMyN,gBAExCzN,EAAM4N,aAAa5N,EAAM2N,iBAEzB3N,EAAMyN,gBAAkBF,KAAKC,OAG/BtR,OAAO2R,sBAAsB7N,EAAM8N,wBAEjCjO,EAAgB,SAAa7F,KAAM,oBAAoB,eACrDsT,EAAUC,KAAKC,MAEfF,EAAUtN,EAAM+N,gBAAkB,IAAO/N,EAAMgO,YACjDhO,EAAMiO,gBAAkBX,EAAUtN,EAAM+N,gBAExC/N,EAAMkO,aAAalO,EAAMiO,iBAEzBjO,EAAM+N,gBAAkBR,KAAKC,OAG/BtR,OAAO2R,sBAAsB7N,EAAMmO,wBAEjCtO,EAAgB,SAAa7F,KAAM,UAAU,kBAC7C6F,EAAgB,SAAa7F,KAAM,SAAS,WAC9CgG,EAAMpO,SAENsK,OAAO2R,sBAAsB7N,EAAM8N,kBACnC5R,OAAO2R,sBAAsB7N,EAAMmO,wBAEjCtO,EAAgB,SAAa7F,KAAM,QAAQ,WAC7CgG,EAAMoO,UAENlS,OAAOmS,qBAAqBrO,EAAM8N,kBAClC5R,OAAOmS,qBAAqBrO,EAAMmO,wBAEhCtO,EAAgB,SAAa7F,KAAM,UAAU,kBAC7C6F,EAAgB,SAAa7F,KAAM,gBAAgB,SAAUiG,GAC/DD,EAAMsO,SAENtO,EAAMpJ,IAAIsJ,UAAU,EAAG,EAAGF,EAAMK,MAAOL,EAAMM,YAEzCjD,EAAO1L,OAAO0L,KAAK2C,EAAMrG,UAC7B0D,EAAKkR,MAAK,SAAUpc,EAAGC,UACdD,EAAIC,KAGbiL,EAAKtL,SAAQ,SAAU8a,QAChBlT,SAASkT,GAAO9a,SAAQ,SAAU+a,GACrCA,EAAMwB,OAAOrO,KACZjG,KAAMiG,KACRD,EAAOC,SAERJ,EAAgB,SAAa7F,KAAM,UAAU,kBAC7C6F,EAAgB,SAAa7F,KAAM,gBAAgB,SAAUiG,GAC/DD,EAAM9J,aAEFmH,EAAO1L,OAAO0L,KAAK2C,EAAMrG,UAC7B0D,EAAKkR,MAAK,SAAUpc,EAAGC,UACdD,EAAIC,KAGbiL,EAAKtL,SAAQ,SAAU8a,QAChBlT,SAASkT,GAAO9a,SAAQ,SAAU+a,GAErCA,EAAM5W,OAAO+J,KACZjG,KAAMiG,KACRD,EAAOC,SAERJ,EAAgB,SAAa7F,KAAM,WAAW,oBAE7CwU,MAAQ,OACRd,UAAY,SACZD,gBAAkBF,KAAKC,WACvBG,gBAAkB,OAClBK,UAAY,SACZD,gBAAkBR,KAAKC,WACvBS,gBAAkB,OAElBvB,KAAOA,EAEPA,SACEA,KAAOtZ,SAASC,cAAc,UACnCD,SAASqb,cAAc,QAAQC,YAAY1U,KAAK0S,YAG7C9V,IAAMoD,KAAK0S,KAAKiC,WAAW,WAE3BhV,SAAW,QACXwT,WAAa,uCCjKpBxb,OAAO2N,eAAeG,EAAS,aAAc,CAC3C5L,OAAO,IAET4L,EAAO,aAAc,EAErB,IAAIC,EAAmBC,GAAuBC,IAE1CmJ,EAAgBpJ,GAAuBC,IAEvCC,EAAmBF,GAAuBC,IAE1CgP,EAA4B,oBACrBA,EAAalC,EAAMmC,OACtB7O,EAAQhG,QAER0F,EAAgB,SAAa1F,KAAM4U,MACnC/O,EAAgB,SAAa7F,KAAM,WAAW,SAAUtF,GAC1DsL,EAAM8O,MAAMzR,KAAK3I,EAAMqa,OAAQ,QAE7BlP,EAAgB,SAAa7F,KAAM,SAAS,SAAUtF,GACxDsL,EAAM8O,MAAMzR,KAAK3I,EAAMqa,OAAQ,QAE7BlP,EAAgB,SAAa7F,KAAM,aAAa,SAAUtF,GAC5DsL,EAAM8O,MAAME,MAAMta,EAAMua,SAAU,QAEhCpP,EAAgB,SAAa7F,KAAM,WAAW,SAAUtF,GAC1DsL,EAAM8O,MAAME,MAAMta,EAAMua,SAAU,QAEhCpP,EAAgB,SAAa7F,KAAM,aAAa,SAAUtF,GAC5DsL,EAAM8O,MAAM3O,EAAIzL,EAAMwa,QAAUlP,EAAMmP,QACtCnP,EAAM8O,MAAM1O,EAAI1L,EAAM0a,QAAUpP,EAAMqP,cAEpCxP,EAAgB,SAAa7F,KAAM,gBAAgB,WACrDgG,EAAMsP,cAAgB,GACtB3d,OAAO0L,KAAK2C,EAAM6O,QAAQ9c,QAAQ,SAAUwd,OACtCC,EAAe,SAAU9a,QACtBma,OAAOU,GAAWxd,QAAQ,SAAUN,GACvCA,EAAGuD,KAAKgF,KAAMtF,IACd+a,KAAKzV,QACPyV,KAAKzV,WAEFsV,cAAcC,GAAaC,OAC3B9C,KAAKjQ,iBAAiB8S,EAAWC,IACtCC,KAAKzP,UAELH,EAAgB,SAAa7F,KAAM,eAAe,WACpDrI,OAAO0L,KAAK2C,EAAM6O,QAAQ9c,SAAQ,SAAUwd,GAC1CvP,EAAM0M,KAAKhQ,oBAAoB6S,EAAWvP,EAAMsP,cAAcC,OAEhEvP,EAAMsP,cAAgB,WAEnB5C,KAAOA,OACPgD,WAAahD,EAAKiD,6BAClBR,QAAUnV,KAAK0V,WAAWE,UAC1BP,QAAUrV,KAAK0V,WAAWG,SAC1Bf,MAAQ,CACXzR,KAAM,GACN2R,MAAO,GACP7O,EAAG,EACHC,EAAG,QAEAyO,OAAS,CACZiB,QAAS,CAAC9V,KAAK+V,SACfC,MAAO,CAAChW,KAAKiW,OACbC,UAAW,CAAClW,KAAKmW,WACjBC,QAAS,CAACpW,KAAKqW,SACfC,UAAW,CAACtW,KAAKuW,YAEf1B,GAAQld,OAAO0L,KAAKwR,GAAQ9c,QAAQ,SAAUwd,OAC5CiB,EAASxW,KAETA,KAAK6U,OAAOU,QACTV,OAAOU,GAAavV,KAAK6U,OAAOU,GAAWkB,OAAO5B,EAAOU,GAAWtZ,OAAS4Y,EAAOU,GAAWtX,KAAI,SAAUxG,UACzGA,EAAGge,KAAKe,MACZ,CAAC3B,EAAOU,UAERV,OAAOU,GAAaV,EAAOU,GAAWtZ,OAAS4Y,EAAOU,GAAWtX,KAAI,SAAUxG,UAC3EA,EAAGge,KAAKe,MACZ,CAAC3B,EAAOU,KAEfE,KAAKzV,YACFsV,cAAgB,YAGnBvG,EAAa,SAAa6F,EAAc,CAAC,CAC3CvP,IAAK,YACLxL,MAAO,SAAmBgb,GACxBld,OAAOmZ,OAAO9Q,KAAK6U,OAAQA,KAE5B,CACDxP,IAAK,OACLxL,MAAO,kBACEmG,KAAK8U,MAAMzR,OAEnB,CACDgC,IAAK,QACLxL,MAAO,kBACEmG,KAAK8U,MAAME,QAEnB,CACD3P,IAAK,SACLxL,MAAO,kBACEmG,KAAK8U,MAAM3O,IAEnB,CACDd,IAAK,SACLxL,MAAO,kBACEmG,KAAK8U,MAAM1O,MAGfwO,EAnGuB,GAsGhCnP,EAAO,QAAcmP,qCCjHrBjd,OAAO2N,eAAeG,EAAS,aAAc,CAC3C5L,OAAO,IAET4L,cAAsBA,eAAuBA,QAAgBA,QAAgBA,EAAO,aAAc,EAElG,IAAIiR,EAAS/Q,GAAuBC,IAEhC+Q,EAAehR,GAAuBC,IAEtCgR,EAASjR,GAAuBC,IAEhCiR,EAAgBlR,GAAuBC,IAEvCkR,EAAW,CACbhR,MAAO4Q,EAAM,QACb9B,aAAciC,EAAa,QAC3BpE,MAAOmE,EAAM,QACb3G,YAAa0G,EAAY,SAE3BlR,EAAO,QAAcqR,EACrB,IAAIhR,EAAQ4Q,EAAM,QACdjE,EAAQmE,EAAM,QACdhC,EAAeiC,EAAa,QAC5B5G,EAAc0G,EAAY,QAC9BlR,cAAsBwK,EACtBxK,eAAuBmP,EACvBnP,QAAgBgN,EAChBhN,QAAgBK,eC7BKiR,gGACLhR,+CACFA,cAGD,SAACiR,KACDpa,IAAIqa,UAAY,YAChBra,IAAIsa,SAASlR,EAAKD,OAAOI,EAAGH,EAAKD,OAAOK,EAAGJ,EAAKD,OAAOM,MAAOL,EAAKD,OAAOO,uBAP/C6Q,GAAOrR,QCI1BsR,8CACLrR,EAAQI,EAAGC,EAAG3M,0CAChBsM,IACDtM,MAAQA,IACR4d,UAAYlR,IACZmR,UAAYlR,IACZmR,MAAkB,IAATpR,EAAI,GAAU,KACvBqR,MAAkB,IAATpR,EAAI,GAAU,KACvBqR,KAAO,yDAIM,MAAdzX,KAAKvG,MACE,CAAC,CAAC,IAENuG,KAAKvG,aAfwB0d,GAAOrR,OCJ9B4R,8CACLvR,EAAGC,+CACL,GAAID,EAAGC,EAAG,iBAGX,SAAC4Q,KAGDpa,IAAIqa,UAAY,YAChBra,IAAIsa,SAASlR,EAAKuR,MAAQ,GAAIvR,EAAKwR,MAAQ,GAAI,GAAI,MAEnD5a,IAAIqa,UAAY,UAChBra,IAAI+a,KAAO,eACX/a,IAAIgb,UAAY,WAChBhb,IAAIib,SAAS,IAAK7R,EAAKuR,MAAOvR,EAAKwR,MAAQ,kBAdrBJ,ICDdU,8CACL3R,EAAGC,+CACL,eAOD,SAAC4Q,KAUDpa,IAAIqa,UAAY,UAChBra,IAAIsa,SAASlR,EAAKuR,MAAQ,GAAIvR,EAAKwR,MAAQ,GAAI,GAAI,MAEnD5a,IAAIqa,UAAY,UAChBra,IAAI+a,KAAO,eACX/a,IAAIgb,UAAY,WAChBhb,IAAIib,SAAS,IAAK7R,EAAKuR,MAAOvR,EAAKwR,MAAQ,SAtB3CrR,EAAIA,IACJC,EAAID,IACJoR,MAAkB,IAATpR,EAAI,GAAU,KACvBqR,MAAkB,IAATpR,EAAI,GAAU,eANE+Q,GAAOrR,OCAxBiS,8CACLhS,+CACFA,cAGD,aACAnJ,IAAIqa,UAAY,UAChBra,IAAIsa,SAASlR,EAAKD,OAAOI,EAAGH,EAAKD,OAAOK,EAAGJ,EAAKD,OAAOM,MAAOL,EAAKD,OAAOO,uBAPrD6Q,GAAOrR,WCCpBkS,8CACPjS,EAAQkS,EAAIC,EAAOC,EAAK9H,+CAC5BtK,EAAQsK,cAsFP,SAAA2G,QAMFoB,cAAcpB,GAEfhR,EAAKqS,kBAEFC,QAAS,IAGT/R,MAAMgS,YAAYvS,EAAKwS,eACvBC,gBCxGI,SAASC,EAAaC,EAAKC,MAC1B,GAARA,IAAaD,EAAIE,sBAIjBX,EAAQS,EAAIG,WACZC,EAAkBJ,EAAIK,cACtBC,EAAmBf,EAAQU,EAE3BM,EADOP,EAAIQ,UACWR,EAAIS,UAAU,GACpCC,EAAsBhH,KAAKiH,KAAKjH,KAAKkH,IAAIR,EAAgB,GAAKG,EAAe,GAAI,GAAK7G,KAAKkH,IAAIR,EAAgB,GAAKG,EAAe,GAAI,OAEvIG,GAAuBJ,EAAiB,KAEpCO,GADsBP,EAAmBI,GACTnB,SAEpCS,EAAIc,YAAYd,EAAIe,cAAgBL,GACpCV,EAAIgB,QAAQhB,EAAIS,UAAY,GAC5BT,EAAIiB,eAAeV,QACnBR,EAAaC,EAAKa,OAGlBK,EAAU,EACVC,EAAU,KAEVf,EAAgB,GAAKG,EAAe,IAAM,EAC1CW,EAAUZ,EACNF,EAAgB,GAAKG,EAAe,GAAK,IACzCW,GAAWA,QAId,GAAId,EAAgB,GAAKG,EAAe,IAAM,EAC/CY,EAAUb,EACNF,EAAgB,GAAKG,EAAe,GAAK,IACzCY,GAAWA,OAIf,KACIC,EAAQ1H,KAAK2H,MAAMjB,EAAgB,GAAKG,EAAe,KAAKH,EAAgB,GAAKG,EAAe,KACpGW,EAAUZ,EAAmB5G,KAAK4H,IAAIF,GACtCD,EAAUb,EAAmB5G,KAAK6H,IAAIH,OAGtCI,EAAc,CAACpB,EAAgB,GAAKe,EAASf,EAAgB,GAAKc,GACtElB,EAAIiB,eAAeO,GACnBxB,EAAIc,YAAYd,EAAIe,cAAgBT,ID6DpCP,OAAmB1B,KACdoD,iBAEAC,qBACDrU,EAAK6S,qBACFP,QAAS,IACT/R,MAAM+T,qBAGN7B,qBA/GF8B,OAAS,IACTtC,GAAKA,IACLuC,MAAQvC,IACRC,MAAQA,IACRC,IAAMA,IACNsC,SAAW,IACXpD,UAAY,IACZC,UAAY,IACZtU,KAAO,KACP0X,KAAO,IACPC,aAAc,IACdC,MAAO,IACPtC,QAAS,IACTuC,GAAK,IACLpJ,GAAKY,KAAKC,MAAMtM,EAAKD,OAAOI,KAC5BuL,GAAKW,KAAKC,MAAMtM,EAAKD,OAAOK,KAC5B0U,YAAc,KACdC,UAAY,CAAE9C,GAAIjS,EAAKiS,GAAIC,MAAOlS,EAAKkS,MAAOC,IAAKnS,EAAKmS,OACxDK,OAAS,6CAqBVwC,GACJ/J,QAAQC,IAAIlR,KAAK+a,WACJ,MAATC,SACG/C,GAAKjY,KAAK+a,UAAL,IAEC,SAATC,SACG9C,MAAQlY,KAAK+a,UAAL,OAEF,OAATC,SACG7C,IAAMnY,KAAK+a,UAAL,wCAIJE,QACJT,MAAQxa,KAAKwa,MAAQS,OACrBhD,GAAKjY,KAAKiY,GAAKgD,OACf9C,IAAMnY,KAAKmY,IAAM8C,OACjBzC,OAASnG,KAAK6I,MAAMlb,KAAKwY,OAASyC,yCAG3BjE,OAEP,IAAIhb,EAAI,EAAGA,EAAIgE,KAAK8a,YAAY7e,OAAQD,SAEtC8e,YAAY9e,GAAjB,MAA+Bgb,EAE7BhX,KAAK8a,YAAY9e,GAAjB,MAA+BgE,KAAK8a,YAAY9e,GAAjB,OAA8Bmf,eAExDC,MAAMpb,KAAK8a,YAAY9e,GAAjB,OAA8Bqf,eAGpCP,YAAY3e,IAAIH,+CASrBsf,EAAO,EAAKtb,KAAKsX,UAAU,SAE1B/Q,MAAMgV,YAAYvb,KAAMsb,qDAsCxBvV,OAAOI,EAAqB,GAAjBnG,KAAKqX,eAChBtR,OAAOK,EAAqB,GAAjBpG,KAAKsX,sDAIhB1a,IAAIsJ,UACPlG,KAAKyR,GACLzR,KAAK0R,GACL1R,KAAK+F,OAAOM,MAAQrG,KAAK2R,MACzB3R,KAAK+F,OAAOO,OAAStG,KAAK2R,YAEvBpL,MAAMC,YAAYxG,WAClBuG,MAAMiV,aAAaxb,2DAWnB2a,YAAc3a,KAAK0a,KAAO,GAAK1a,KAAKgD,KAAK/G,OACvC+D,KAAK2a,4CAGN3X,QACDA,KAAOA,OACP0X,KAAO,kCAGNA,QACDA,KAAOA,qCAIHe,GACEzb,KAAKiY,QACXA,GAAKjY,KAAKiY,GAAK5F,KAAKqJ,IAAID,EAASzb,KAAKmY,IAAK,sCAKvCwD,QACJ1D,GAAKjY,KAAKiY,GAAK5F,KAAKuJ,IAAI5b,KAAKiY,GAAK0D,EAAM3b,KAAKwa,8CAIrCqB,QACRxE,UAAYwE,EAAS,QACrBvE,UAAYuE,EAAS,QACrBxB,yDAIKI,QACLA,SAAWA,yCAITza,KAAKiY,6CAGLjY,KAAKkY,8CAGLlY,KAAKmY,iDAGLnY,KAAKya,qDAIL,CAACza,KAAKsX,UAAWtX,KAAKqX,oDAGtBrX,KAAKgD,8CAGLhD,KAAK0a,6CAGL1a,KAAKiY,IAAM,mCAGXjV,OAEH8Y,GAAa,EACbC,GAAW,EACXC,EAAW,GAEXhZ,EAAK,GAAG,IAAMA,EAAK,GAAG,GAAI+Y,GAAW,EAChC/Y,EAAK,GAAG,IAAMA,EAAK,GAAG,KAAI8Y,GAAa,OAE3C,IAAI9f,EAAI,EAAGA,EAAIgH,EAAK/G,OAAS,EAAGD,IAC/B+f,EACE/Y,EAAKhH,GAAG,IAAMgH,EAAKhH,EAAI,GAAG,KAC5BggB,EAASrgB,KAAKqH,EAAKhH,IACnB+f,GAAW,EACXD,GAAa,GAENA,GACL9Y,EAAKhH,GAAG,IAAMgH,EAAKhH,EAAI,GAAG,KAC5BggB,EAASrgB,KAAKqH,EAAKhH,IACnB+f,GAAW,EACXD,GAAa,UAInBE,EAASrgB,KAAKqH,EAAKA,EAAK/G,OAAS,IAC1B+f,4CAGAhc,KAAKsY,cA7OqBnB,GAAOlH,aEDvBgM,8CACLlW,+CACFA,cAGD,SAACiR,KACDpa,IAAIqa,UAAY,SAChBra,IAAIsa,SAASlR,EAAKD,OAAOI,EAAGH,EAAKD,OAAOK,EAAGJ,EAAKD,OAAOM,MAAOL,EAAKD,OAAOO,uBAPrD6Q,GAAOrR,OC6BpBoW,2CAERC,MAAQ,UACRle,IAAM,UACNme,UAAY,wDAQLC,QACPF,MAAQnc,KAAKsc,cAAcD,QAC3BF,MAAMI,wDAKDF,WACNG,EAAI,IAAIC,GACRC,EAAa,IAAIld,MAAM6c,EAAOpgB,QACzBD,EAAI,EAAGA,EAAIqgB,EAAOpgB,OAAQD,IAC/B0gB,EAAW1gB,GAAK,IAAIwD,MAAM6c,EAAO,GAAGpgB,YAEnC,IAAID,EAAI,EAAGA,EAAIqgB,EAAOpgB,OAAQD,QAC1B,IAAIoX,EAAI,EAAGA,EAAIiJ,EAAO,GAAGpgB,OAAQmX,IAAK,KACnCuJ,EAAMN,EAAOrgB,GAAGoX,MACV,GAAPuJ,IACCA,EAAM,GAEC,GAAPA,GAAmB,GAAPA,EAAU,KAClBC,EAAI,IAAIC,GAASzJ,EAAGpX,EAAG2gB,GAC3BH,EAAEM,QAAQF,GACVF,EAAW1gB,GAAGoX,GAAKwJ,eAM1BG,iBAAiBL,GACfF,2CAOME,OACR,IAAI1gB,EAAI,EAAGA,EAAI0gB,EAAWzgB,OAAQD,QAC9B,IAAIoX,EAAI,EAAGA,EAAIsJ,EAAW,GAAGzgB,OAAQmX,IAAK,KACvCwJ,EAAIF,EAAW1gB,GAAGoX,QACGlP,IAArBwY,EAAW1gB,GAAGoX,KAGdA,EAAI,QAE2BlP,IAAzBwY,EAAW1gB,GAAGoX,EAAI,IACpBwJ,EAAEI,cAAcrhB,KAAK,CAAC+gB,EAAW1gB,GAAGoX,EAAI,GAAI,IAGhDA,EAAIsJ,EAAW,GAAGzgB,OAAS,QAEIiI,IAAzBwY,EAAW1gB,GAAGoX,EAAI,IACpBwJ,EAAEI,cAAcrhB,KAAK,CAAC+gB,EAAW1gB,GAAGoX,EAAI,GAAI,IAGhDpX,EAAI,QAE2BkI,IAAzBwY,EAAW1gB,EAAI,GAAGoX,IACpBwJ,EAAEI,cAAcrhB,KAAK,CAAC+gB,EAAW1gB,EAAI,GAAGoX,GAAI,IAGhDpX,EAAI0gB,EAAWzgB,OAAS,QAEOiI,IAAzBwY,EAAW1gB,EAAI,GAAGoX,IACpBwJ,EAAEI,cAAcrhB,KAAK,CAAC+gB,EAAW1gB,EAAI,GAAGoX,GAAI,qDAWzC6J,EAAQC,QACtBf,MAAMI,sBACPY,EAAYnd,KAAKmc,MAAMiB,QAAQH,EAAQC,QACtCG,kBAAkBF,OACnBG,EAAWtd,KAAKud,8BACJ,MAAZD,SACO,SAEPE,EAAeF,EAASG,oBAC5BD,EAAa7hB,KAAK2hB,GACLtd,KAAK0d,yBAAyBF,8DASvCF,EAAW,KACXK,EAAmBC,OAAOC,iBACrB7hB,EAAI,EAAGA,EAAIgE,KAAKmc,MAAM5c,MAAMtD,OAAQD,IAAK,KAC1CpD,EAAOoH,KAAKmc,MAAM5c,MAAMvD,GACb,GAAXpD,EAAKiiB,IAAWjiB,EAAK6hB,SAAWkD,IAChCL,EAAW1kB,EACX+kB,EAAmB/kB,EAAK6hB,iBAGhB,MAAZ6C,EACO,KAEJA,mDAGcta,WACjBlB,EAAS,GACJ9F,EAAI,EAAGA,EAAIgH,EAAK/G,OAAQD,IAAK,KAE9BzC,EAAO,EADXA,EAAOyJ,EAAKhH,IACKoK,EAAG7M,EAAK4M,GACzBrE,EAAOnG,KAAKpC,UAETuI,4CAOOgc,GACdA,EAAOrE,YAAY,OACfsE,EAAiB,GACjBC,EAAe,OAEnBD,EAAepiB,KAAKmiB,GAEY,GAAzBC,EAAe9hB,QAAa,KAE3BgiB,EAAcje,KAAKke,sBAAsBH,GAC7CA,EAAe3d,OAAO2d,EAAe5d,QAAQ8d,GAAc,OAEtD,IAAIjiB,EAAI,EAAGA,EAAIiiB,EAAYjB,cAAc/gB,OAAQD,IAAK,KACnDmiB,EAAeF,EAAYjB,cAAchhB,GAAG,GAC5CoiB,EAAaH,EAAYjB,cAAchhB,GAAG,GACzCgiB,EAAaK,SAASF,IAAkBJ,EAAeM,SAASF,UAC5DG,yBAAyBH,EAAcC,EAAYH,GACxDF,EAAepiB,KAAKwiB,IAG5BH,EAAariB,KAAKsiB,kDAQJF,WACdQ,EAAS,KACTC,EAAiBZ,OAAOC,iBACnB7hB,EAAI,EAAGA,EAAI+hB,EAAe9hB,OAAQD,IAAK,KACxCyiB,EAAeV,EAAe/hB,GAAGye,SACjCgE,EAAeD,IACfA,EAAiBC,EACjBF,EAASR,EAAe/hB,WAIzBuiB,mDAGcG,EAAgBN,EAAYO,OAC7CC,EAAiBD,EAAWlE,YAC5BmE,EAAiBR,EAAaM,EAAejE,SAAU,CACvDiE,EAAejF,YAAYmF,EAAiBR,WACxCX,EAAe,GACVzhB,EAAI,EAAGA,EAAI2iB,EAAWlB,aAAaxhB,OAAQD,IAChDyhB,EAAa9hB,KAAKgjB,EAAWlB,aAAazhB,IAE9CyhB,EAAa9hB,KAAKgjB,GAClBD,EAAeG,gBAAgBpB,aAUrCZ,yBACU1W,EAAGC,EAAGyU,mBACTJ,SAAWmD,OAAOC,sBAClBJ,aAAe,QACfT,cAAgB,QAChB7W,EAAIA,OACJC,EAAIA,OACJyU,GAAKA,qDAEE7X,QACPya,aAAeza,sCAEZyX,QACHA,SAAWA,WAOlBgC,2CAEOld,MAAQ,4DASR,IAAIvD,EAAI,EAAGA,EAAIgE,KAAKT,MAAMtD,OAAQD,IAAK,KACpCpD,EAAOoH,KAAKT,MAAMvD,GACtBpD,EAAKimB,gBAAgBjmB,GACrBA,EAAK6hB,SAAWmD,OAAOC,kDAOvB1X,EAAGC,OACF,IAAIpK,EAAI,EAAGA,EAAIgE,KAAKT,MAAMtD,OAAQD,IAAK,KACpCpD,EAAOoH,KAAKT,MAAMvD,MAClBpD,EAAKuN,GAAKA,GAAKvN,EAAKwN,GAAKA,SAClBxN,SAGR,qCAEHA,QACC2G,MAAM5D,KAAK/C,YCrRHkmB,yBACD5lB,mBACHA,QAAUE,SAASC,cAAcH,kDAG9B6lB,GACRpnB,OAAOmZ,OAAO9Q,KAAK9G,QAAQ8lB,MAAOD,sCAG3BzlB,QACFA,KAAOA,OACPJ,QAAQ+lB,YAAc3lB,WCRlB4lB,8CACLnO,EAAO5K,EAAGC,EAAGC,EAAOC,EAAQ6Y,0CAC9BpO,EAAO5K,EAAGC,EAAGC,EAAOC,IACrB8Y,IAAM,IAAIN,GAAW,OACrBM,IAAIC,YACL,CACIxD,SAAU,QACVhG,cAAQzP,EAAE,SACVwP,eAASzP,EAAE,SACXmZ,QAAS,OACTC,MAAO,WAEVH,IAAII,WAAWL,0DAIpBlO,QAAQC,IAAI,YACPkO,IAAIC,YAAY,CACjBC,QAAS,mDAKbrO,QAAQC,IAAI,aACPkO,IAAIC,YAAY,CACjBC,QAAS,+CAKRG,IAAIC,aAAa1f,KAAKof,2CAGjBD,QACLC,IAAII,WAAWL,qDClCZpO,EAAO5K,EAAGC,EAAGC,EAAOC,0CACtB,QACDpN,QAAQwW,IAAMqB,IACd4O,eAAexZ,EAAGC,KAClBwZ,WAAWvZ,EAAOC,KAClBpN,QAAQ8lB,MAAM9L,OAAS,oJAYvBha,QAAQwJ,oBAAoB,YAAa1C,KAAK6f,sBAC9C3mB,QAAQuJ,iBAAiB,YAAazC,KAAK6f,gBAAgBpK,KAAKzV,YAChE9G,QAAQwJ,oBAAoB,WAAY1C,KAAK8f,qBAC7C5mB,QAAQuJ,iBAAiB,WAAYzC,KAAK8f,eAAerK,KAAKzV,8CAGxDmG,EAAGC,QACTiZ,YACD,CACIxD,SAAU,QACVhG,cAAQzP,QACRwP,eAASzP,6CAIV4Z,EAAGC,QACLX,YACD,CACIhZ,gBAAU0Z,QACVzZ,iBAAW0Z,iBArCQlB,KCCdmB,8CACPhI,EAAIiI,+CACR,eASC,SAAAlJ,KACFmJ,OAAOC,cAAc,GAAKpa,EAAKka,YAC/BG,YAAYD,cAAc,GAAKpa,EAAKiS,SAVpCiI,SAAWA,IACXjI,GAAKA,IACLqI,cAAgB,OAEhBH,OAAS,IAAIjB,GAAe,iCAAkC,IAAK,IAAK,GAAI,GAAI,GAAKlZ,EAAKka,YAC1FG,YAAc,IAAInB,GAAe,kCAAmC,EAAG,IAAK,GAAI,GAAI,GAAKlZ,EAAKiS,mDAS3FsI,QACHL,UAAYK,qCAKRA,QACJL,UAAYK,4CAKVvgB,KAAKkgB,gDAGLlgB,KAAKiY,kCAGPwD,QACAxD,IAAMwD,EAEPzb,KAAKqY,eACF9R,MAAMia,uDAINxgB,KAAKiY,IAAM,SA3Ccd,GAAOrR,OCYtB2a,8CACLta,EAAGC,+CACL,eAmCD,SAAC4Q,KACD0J,UAAU1J,yBA2BV,SAACA,KACDpa,IAAIqa,UAAY,QAChBra,IAAIsa,SAASlR,EAAK2a,MAAQ,GAAI3a,EAAK4a,MAAQ,GAAI,GAAI,MAEnDhkB,IAAIqa,UAAY,UAChBra,IAAI+a,KAAO,eACX/a,IAAIgb,UAAY,WAChBhb,IAAIib,SAAS,IAAK7R,EAAK2a,MAAQ,GAAI3a,EAAK4a,MAAQ,SArEhDvJ,UAAYlR,IACZmR,UAAYlR,IACZua,MAAkB,IAATxa,EAAI,KACbya,MAAkB,IAATxa,EAAI,KACbpD,KAAO,KACP6d,KAAO,KACPC,QAAU,KACVC,UAAY,IACZtG,SAAW,IACXuG,cAAgB,OAChBrP,MAAQ,wDAGAsP,QACRD,cAAgBC,sCAEbrE,QACHjL,MAAQ3R,KAAKghB,cAAcpE,8CAIR,GAApB5c,KAAK6gB,KAAK5kB,OAAY,KAClB,IAAID,EAAI,EAAGA,EAAIgE,KAAK8gB,QAAQ7kB,OAAQD,OAChCgE,KAAK8gB,QAAQ9kB,GAAGklB;;OAGT,SAGR,SAEJ,8CAQA,CAAClhB,KAAKqX,UAAWrX,KAAKsX,oDAIF,GAApBtX,KAAK6gB,KAAK5kB,uCAGb+G,QACCA,KAAOA,OACPyX,SAAWza,KAAKmhB,QAAQne,mCAGzBA,WACAoe,EAAQ,EACJplB,EAAI,EAAGA,EAAIgH,EAAK/G,OAAQD,IAC7BolB,GAAS/O,KAAKiH,KAAKjH,KAAKkH,IAAIvW,EAAKhH,EAAE,GAAG,GAAKgH,EAAKhH,GAAG,GAAI,GAAKqW,KAAKkH,IAAIvW,EAAKhH,EAAE,GAAG,GAAKgH,EAAKhH,GAAG,GAAI,WAE5FolB,kCAqBHP,QACCA,KAAOA,OACPE,UAAY,OACZD,QAAU,qCAGT7a,YACD8a,WAAa9a,EACXjG,KAAK6gB,KAAK5kB,OAAS,GAAK+D,KAAK6gB,KAAK,GAAG,IAAM7gB,KAAK+gB,WAAW,KAC1DM,EAAUrhB,KAAK6gB,KAAK,GAAG,QACtBA,KAAKjd,aACL0d,MAAMD,kCAObE,OAEE5I,EAAM,IAAI4I,EAAQ,CAAEpb,EAAG,EAAGC,EAAG,EAAGC,MAAO,EAAGC,OAAQ,IACtDqS,EAAI6I,WAAWxhB,KAAK2R,OACpBgH,EAAIiB,eAAe,CAAC5Z,KAAKsX,UAAWtX,KAAKqX,YACzCsB,EAAIc,YAAYzZ,KAAKya,UACrB9B,EAAI8I,QAAQzhB,KAAKgD,WAEZuD,MAAMmb,SAAS/I,EAAK,QACpBpS,MAAMob,UAAUhJ,GAClBA,aAAeX,KAEdW,EAAI/b,IAAMoD,KAAKuG,MAAMqb,QAAQjN,WAAW,YAEvCmM,QAAQnlB,KAAKgd,kDAKX3Y,KAAK6gB,KAAK5kB,cArHYkb,GAAOrR,OCdvB+b,8CACLC,EAAaC,EAAIC,EAAIC,EAAIC,+CAC3B,eASD,SAAClL,KACDmL,SAAWnc,EAAKmc,SAAWnL,EAC5BhR,EAAKmc,UAAY,KACZ/N,QAAQ4C,0BAIX,SAACA,KACFpa,IAAIsJ,WAAWF,EAAK+b,GAAK/b,EAAKic,IAAI,GAAIjc,EAAKgc,GAAKhc,EAAKkc,IAAI,EAAG7P,KAAK+P,IAAIpc,EAAKic,GAAGjc,EAAK+b,IAAK1P,KAAK+P,IAAIpc,EAAKkc,GAAGlc,EAAKgc,OAC7Gzb,MAAMC,yCAGN,SAACwQ,OACFqL,EAASrc,EAAKmc,SAAWnc,EAAK8b,YAAe,IAE7CQ,EAAejQ,KAAK6I,MAAMmH,GAAOtW,SAAS,IAC1CwW,EAAc,IAAMD,EAAeA,EAAeA,IACjD1lB,IAAI4lB,YAAcD,IAClB3lB,IAAI6lB,cACJ7lB,IAAI8lB,OAAO1c,EAAK+b,GAAI/b,EAAKgc,MACzBplB,IAAI+lB,OAAO3c,EAAKic,GAAIjc,EAAKkc,MACzBtlB,IAAIgmB,cA7BJd,YAAcA,IACdK,SAAWL,IACXC,GAAKA,IACLC,GAAKA,IACLC,GAAKA,IACLC,GAAKA,cARsB/K,GAAOrR,OCGzC+c,GAAYlrB,OAAOmrB,OAAO,CAC9BC,QAAS,YACTC,OAAQ,WACRC,KAAM,UACNC,IAAK,aAGcC,8CACPhd,EAAGC,+CACP,GAAID,EAAGC,EAAG,iBAcT,SAAA4Q,KACFoM,WAAapM,EACdhR,EAAKod,UAAYpd,EAAKqd,aACnBD,UAAYpd,EAAKqd,UAGP,MAAfrd,EAAKrN,QACJqN,EAAKrN,OAAOuoB,aACblb,EAAKrN,OAAOkgB,mBACZ7S,EAAKrN,OAAO0f,UACXrS,EAAKsd,gBAMW,MAAftd,EAAKrN,WAEF4qB,aAAavd,EAAKrN,UAClB6qB,MAAMxM,MANNyM,mCAmDA,SAAAzM,gCAwFM,iBApKRqM,WACAK,MACAC,cAAgBd,GAAUI,OAC1BW,QACAC,SAAW,IACXlrB,OAAS,OACTyqB,UAAY,IAEZU,MAAQ,IACRC,OAAS,iEA2BC1R,KAAKiH,KAClBjH,KAAKkH,IAAIvZ,KAAKqX,UAAYrX,KAAKrH,OAAO0e,UAAW,GAC/ChF,KAAKkH,IAAIvZ,KAAKsX,UAAYtX,KAAKrH,OAAO2e,UAAW,KAElCtX,KAAK4jB,oCAGpBhL,GACA5Y,KAAKojB,WAAapjB,KAAKqjB,gBAEpBD,WAAapjB,KAAKqjB,cAClBW,yBACc,MAAfhkB,KAAK+jB,aAGFA,OAAOE,OAAOjkB,KAAKrH,+DAWvB4N,MAAMmb,SACT,IAAIG,GACF,GACA7hB,KAAKuX,MACLvX,KAAKwX,MACLxX,KAAKrH,OAAO8Y,GAAK,GACjBzR,KAAKrH,OAAO+Y,GAAK,IAEnB,SAGG/Y,OAAOurB,WAAWlkB,KAAK0jB,0CAKjB/qB,OACPugB,EAAiBvgB,EAAOqgB,cACxBD,EAAkB,CAAC/Y,KAAKsX,UAAWtX,KAAKqX,WAExC0B,EAAgB,GAAKG,EAAe,IAAM,EACxCH,EAAgB,GAAKG,EAAe,IAAM,OACvC2K,SAAqB,GAAVxR,KAAK8R,QAEhBN,SAAqB,IAAVxR,KAAK8R,QAKlBN,SAAWxR,KAAK2H,MAClBjB,EAAgB,GAAKG,EAAe,KAClCH,EAAgB,GAAKG,EAAe,8CAMvCkL,EAAUpkB,KAAKqkB,aAAarkB,KAAKuG,MAAM+d,yBACtC3rB,OAASqH,KAAKukB,iBAAiBH,wCAGzBI,cACPxE,EAAIhgB,KAAKqX,UACToN,EAAIzkB,KAAKsX,UACToN,EAAQ,UAEZF,EAASzsB,SAAQ,SAAAmB,OACXiN,EAAIjN,EAAQme,UACZjR,EAAIlN,EAAQoe,UACDjF,KAAKiH,KAAKjH,SAAClM,EAAI6Z,EAAM,YAAK5Z,EAAIqe,EAAM,KACnCjO,EAAKoN,OACnBc,EAAM/oB,KAAKzC,MAIRwrB,2CAGQF,OACX7rB,EAAS6rB,EAAS,UAEdxkB,KAAK2jB,oBAENd,GAAUG,OACbwB,EAASzsB,SAAQ,SAAAmB,GACXA,EAAQ+e,GAAKtf,EAAOsf,KACtBtf,EAASO,iBAMV2pB,GAAUE,QACbyB,EAASzsB,SAAQ,SAAAmB,GACXA,EAAQ+e,GAAKtf,EAAOsf,KACtBtf,EAASO,iBAMV2pB,GAAUI,KACbuB,EAASzsB,SAAQ,SAAAmB,GACXA,EAAQuhB,SAAW9hB,EAAO8hB,WAC5B9hB,EAASO,iBAMV2pB,GAAUK,IACbsB,EAASzsB,SAAQ,SAAAmB,GACXA,EAAQuhB,SAAW9hB,EAAO8hB,WAC5B9hB,EAASO,aAMVP,kCAMDgrB,QACDA,cAAgBA,mCAIdC,QACFA,MAAQA,SAjLkBxM,ICTduN,8CACLrrB,SAAMsrB,yDAAW,qCACnB,QACDA,SAAWA,IACXpF,WAAWlmB,KACXkF,SACAqB,UACAglB,yDAKAxF,YAAY,CACbyF,QAAS,EACTC,SAAU,8EAWVC,EAAQ,EAERC,EAAU/iB,OAAOgjB,YAAY,WACzBF,GAAS,IACT9iB,OAAOijB,cAAcF,QAChBxF,IAAI2F,gBAAgBplB,YAExBqf,YAAY,CACbyF,QAASE,IAEbA,GAAS,EATH,IAURvP,KAAKzV,MAAOA,KAAK4kB,SAVT,WA1BwB9F,ICCrBuG,4FAEP,eAOD,SAACrO,GAEDhR,EAAKsf,SAGPtf,EAAKuf,UAAYvf,EAAKwf,MAAMvpB,QAG3B+J,EAAKyf,oBACAlf,MAAMkZ,IAAIC,aAAa,IAAIiF,GAAa,kBAAoB3e,EAAKuf,SAAW,KACjFtU,QAAQC,IAAI,iBAAmBlL,EAAKuf,YAE/BG,cACAJ,SAAU,QAnBdK,SAAW,KACXJ,SAAW,IACXC,MAAQ,KACRF,SAAU,uDAuBX,IAAItpB,EAAI,EAAGA,EAAIgE,KAAK2lB,SAAS1pB,OAAQD,SAChC2pB,SAAS3pB,GAAG4pB,QAAQ5lB,KAAKwlB,MAAMxlB,KAAKulB,UAAUvpB,SAC9C2pB,SAAS3pB,GAAG6pB,YAAY7lB,KAAKulB,eAEjCA,4CAGAC,QACAA,MAAQA,OACRD,SAAW,sCAGRI,QACHA,SAAWA,8CAKZ,IAAI3pB,EAAI,EAAGA,EAAIgE,KAAK2lB,SAAS1pB,OAAQD,QAChCgE,KAAK2lB,SAAS3pB,GAAG8pB,uBACX,SAGR,wCAIFR,SAAU,yCAGVA,SAAU,6CAGRtlB,KAAKslB,eA9DmBnO,GAAOrR,OCAzBigB,uFAEP,KACDC,UAAY,4CAKjBC,eACKC,WAAWlmB,KAAKmmB,UAAUF,GAAYxO,MACpCzX,KAAKmmB,UAAUF,4CAGTG,EAAMC,iCAKlBC,QACIC,UAAUD,EAAM7O,KAAO,mCAKxBwO,UACGjmB,KAAKmmB,UAAUF,GAAYxO,YAzBRN,GAAOrR,OCApB0gB,8CACLrgB,EAAGC,+CACLD,EAAGC,cAOJ,SAAC4Q,KACDpa,IAAIqa,UAAY,cAChBra,IAAIsa,SAASlR,EAAKuR,MAAQ,GAAIvR,EAAKwR,MAAQ,GAAI,GAAI,MAEnD5a,IAAIqa,UAAY,UAChBra,IAAI+a,KAAO,eACX/a,IAAIgb,UAAY,WAChBhb,IAAIib,SAAS,IAAK7R,EAAKuR,MAAOvR,EAAKwR,MAAQ,MAE3C5a,IAAI4lB,YAAc,UAClB5lB,IAAI6lB,cACJ7lB,IAAI6pB,IAAIzgB,EAAKuR,MAAOvR,EAAKwR,MAAoB,GAAbxR,EAAK4d,MAAY,EAAG,EAAIvR,KAAK8R,MAC7DvnB,IAAIgmB,gCAGH,WACH5c,EAAK8d,MAAQ,MACPJ,KAAO,IACPE,OAAS,KACTP,UAAY,KACZS,OAAS,QA1BbT,SAAW,KACXK,IAAM,IACNE,MAAQ,IACRnM,KAAO,eANoB0L,ICHnBuD,yBACPvtB,EAAMkiB,EAAUxhB,mBACrBV,KAAOA,OACPkiB,SAAWA,OACXxhB,MAAQA,OACRshB,QAAU,8CAEVwL,GACgB,OAAjB3mB,KAAKqb,WACPsL,EAAQxO,IAAMnY,KAAKnG,OAEA,SAAjBmG,KAAKqb,WACPsL,EAAQzO,MAAQlY,KAAKnG,eAEnB+sB,GAAW,EACN5qB,EAAI,EAAGA,EAAI2qB,EAAQ7L,YAAY7e,OAAQD,OAC1C2qB,EAAQ7L,YAAY9e,GAApB,OAAiC7C,MAAQ6G,KAAK7G,KAAM,CACtDytB,GAAW,QAIC,GAAZA,GACFD,EAAQ7L,YAAYnf,KAAK,CAAEooB,OAAQ/jB,KAAM4Y,KAAM,aClBhCiO,8CACP1gB,EAAGC,+CACPD,EAAGC,cASF,SAAA4Q,KACFpa,IAAIqa,UAAY,WAChBra,IAAIsa,SAASlR,EAAKuR,MAAQ,GAAIvR,EAAKwR,MAAQ,GAAI,GAAI,MAEnD5a,IAAIqa,UAAY,UAChBra,IAAI+a,KAAO,eACX/a,IAAIgb,UAAY,WAChBhb,IAAIib,SAAS,IAAK7R,EAAKuR,MAAOvR,EAAKwR,MAAQ,MAE3C5a,IAAI4lB,YAAc,UAClB5lB,IAAI6lB,cACJ7lB,IAAI6pB,IAAIzgB,EAAKuR,MAAOvR,EAAKwR,MAAoB,GAAbxR,EAAK4d,MAAY,EAAG,EAAIvR,KAAK8R,MAC7DvnB,IAAIgmB,gCAGD,WACJ5c,EAAK8d,MAAQ,MACVJ,KAAO,IACPE,OAAS,KACTP,UAAY,KACZS,OAAS,QA5BXT,SAAW,MACXK,IAAM,KACNE,MAAQ,IACRnM,KAAO,KACPsM,OAAS,IAAI2C,GAAO,OAAQ,QAAS,kBAPNvD,OCJzB,CACbhqB,KAAM,iBACNmX,WAAY,GACZC,OAAQ,CACNiC,KAAM,CACJrQ,SAAU,8DACV2P,IAAK,EACLG,MAAM,EACND,OAAQ,CACN,CACE7L,EAAG,EACHC,EAAG,EACHC,MAAO,GACPC,OAAQ,IAEV,CACEH,EAAG,GACHC,EAAG,EACHC,MAAO,GACPC,OAAQ,IAEV,CACEH,EAAG,EACHC,EAAG,GACHC,MAAO,GACPC,OAAQ,IAEV,CACEH,EAAG,GACHC,EAAG,GACHC,MAAO,GACPC,OAAQ,QC5BGwgB,8CACP/gB,iCACJA,EAAQ,EAAG,IAAM,EAAGghB,cAFM/O,OCHrB,CACb7e,KAAM,gBACNmX,WAAY,GACZC,OAAQ,CACNiC,KAAM,CACJrQ,SAAU,gEACV2P,IAAK,EACLG,MAAM,EACND,OAAQ,CACN,CACE7L,EAAG,EACHC,EAAG,EACHC,MAAO,GACPC,OAAQ,IAEV,CACEH,EAAG,GACHC,EAAG,EACHC,MAAO,GACPC,OAAQ,IAEV,CACEH,EAAG,EACHC,EAAG,GACHC,MAAO,GACPC,OAAQ,IAEV,CACEH,EAAG,GACHC,EAAG,GACHC,MAAO,GACPC,OAAQ,QC5BG0gB,8CACPjhB,iCACJA,EAAQ,GAAI,KAAO,GAAIkhB,cAFCjP,OCHnB,CACb7e,KAAM,iBACNmX,WAAY,GACZC,OAAQ,CACNiC,KAAM,CACJrQ,SAAU,8DACV2P,IAAK,EACLG,MAAM,EACND,OAAQ,CACN,CACE7L,EAAG,EACHC,EAAG,EACHC,MAAO,GACPC,OAAQ,IAEV,CACEH,EAAG,GACHC,EAAG,EACHC,MAAO,GACPC,OAAQ,IAEV,CACEH,EAAG,EACHC,EAAG,GACHC,MAAO,GACPC,OAAQ,IAEV,CACEH,EAAG,GACHC,EAAG,GACHC,MAAO,GACPC,OAAQ,QC5BG4gB,8CACPnhB,iCACJA,EAAQ,EAAG,IAAM,EAAGohB,cAFMnP,OCHrB,CACb7e,KAAM,eACNmX,WAAY,GACZC,OAAQ,CACNiC,KAAM,CACJrQ,SAAU,+DACV2P,IAAK,EACLG,MAAM,EACND,OAAQ,CACN,CACE7L,EAAG,EACHC,EAAG,EACHC,MAAO,GACPC,OAAQ,IAEV,CACEH,EAAG,GACHC,EAAG,EACHC,MAAO,GACPC,OAAQ,IAEV,CACEH,EAAG,EACHC,EAAG,GACHC,MAAO,GACPC,OAAQ,IAEV,CACEH,EAAG,GACHC,EAAG,GACHC,MAAO,GACPC,OAAQ,QC5BG8gB,8CACPrhB,0CACJA,EAAQ,EAAG,IAAM,EAAGshB,KACrB9W,OAAS8W,GAAK9W,mBAHWyH,ICDbsP,8CACLnhB,EAAGC,EAAG9M,0CACR,WACDqmB,eAAexZ,EAAGC,KAClBoZ,WAAWlmB,KAEXiuB,6GAQAruB,QAAQwJ,oBAAoB,QAAS1C,KAAKwnB,cAC1CtuB,QAAQuJ,iBAAiB,QAASzC,KAAKwnB,QAAQ/R,KAAKzV,8CAG9CmG,EAAGC,QACTiZ,YACD,CACIxD,SAAU,QACVhG,cAAQzP,QACRwP,eAASzP,iBAvBW2Y,ICAf2I,8CACLthB,EAAGC,EAAG9M,EAAMgtB,0CACdngB,EAAGC,EAAG9M,IACPgtB,MAAQA,iDAIbrV,QAAQC,IAAI,YAAclR,KAAK1G,WAC1BiN,MAAMmhB,eAAe1nB,KAAKsmB,cAREgB,ICApBK,8CACLxhB,EAAGC,EAAG9M,EAAMgtB,0CACdngB,EAAGC,EAAG9M,IACPgtB,MAAQA,iDAIbrV,QAAQC,IAAI,sBACP3K,MAAMmf,mBARoB4B,ICFlBM,yBACL1uB,EAASqN,mBACZrN,QAAUA,OACVqN,MAAQA,kDAGJshB,QACJ3uB,QAAQwb,YAAYmT,EAAM3uB,SAC/B2uB,EAAMthB,MAAQvG,KAAKuG,MACnBshB,EAAMpI,IAAMzf,KAGT6nB,EAAMjwB,QACLiwB,EAAMjwB,iDAIEiwB,QACP3uB,QAAQD,YAAY4uB,EAAM3uB,kBCflB4uB,8CACL3hB,EAAGC,EAAG9M,EAAMyuB,EAAWC,mCACzB7hB,EAAGC,EAAG9M,IACP2uB,WAAa,OACd,IAAIjsB,EAAI,EAAGA,EAAIgsB,EAAW/rB,OAAQD,MAC7BisB,WAAWtsB,KAAK,IAAI8rB,GAAYthB,EAAGC,EAAY,IAAPpK,EAAE,GAAS+rB,EAAU/rB,GAAIgsB,EAAWhsB,OAC5EisB,WAAWjsB,GAAGqjB,YAAY,CAC3BxD,SAAU,QACVyD,QAAS,kBAGZ4I,QAAS,sDAITA,QAAUloB,KAAKkoB,WAChB,IAAIlsB,EAAI,EAAGA,EAAIgE,KAAKioB,WAAWhsB,OAAQD,SAClCisB,WAAWjsB,GAAGqjB,YAAY,CAC3BC,QAAUtf,KAAKkoB,OAAU,QAAU,8CAMvC,IAAIlsB,EAAI,EAAGA,EAAIgE,KAAKioB,WAAWhsB,OAAQD,SAClCyjB,IAAIC,aAAa1f,KAAKioB,WAAWjsB,WAzBLsrB,ICAxBa,8CACLhiB,EAAGC,EAAG9M,EAAMyuB,mCACd5hB,EAAGC,EAAG9M,IACP8uB,QAAU,IAAItJ,GAAW,SACzBsJ,QAAQ/I,YAAY,CACrBxD,SAAU,WACVxV,gBAAU,UACVC,iBAAW,UACXuP,cAAQ,UACRD,eAAS,UACTyS,WAAY,YAEXD,QAAQlvB,QAAQ8lB,MAAM9L,OAAS,QAC/B+U,WAAa,OACd,IAAIjsB,EAAI,EAAGA,EAAI+rB,EAAU9rB,OAAQD,IAAI,KACjC5D,EAAI,IAAIkvB,GAAOnhB,EAAGC,EAAY,IAAPpK,EAAE,GAAS+rB,EAAU/rB,MAC3CisB,WAAWtsB,KAAKvD,KAChB6vB,WAAWjsB,GAAGqjB,YAAY,CAC3BxD,SAAU,QACVyD,QAAS,OACTjZ,MAAO,WAEN+hB,QAAQlvB,QAAQwb,YAAYtb,SAASI,eAAepB,aAExD8vB,QAAS,sDAITA,QAAUloB,KAAKkoB,WAChB,IAAIlsB,EAAI,EAAGA,EAAIgE,KAAKioB,WAAWhsB,OAAQD,SAClCisB,WAAWjsB,GAAGqjB,YAAY,CAC3BC,QAAUtf,KAAKkoB,OAAU,QAAU,cAGtCE,QAAQ/I,YAAY,CACrBC,QAAUtf,KAAKkoB,OAAU,QAAU,8CAKnC,IAAIlsB,EAAI,EAAGA,EAAIgE,KAAKioB,WAAWhsB,OAAQD,SAClCyjB,IAAIC,aAAa1f,KAAKioB,WAAWjsB,WAzCTsrB,ICDpBgB,8CACLniB,EAAGC,+CACL,GAAID,EAAGC,EAAG,iBAIX,SAAC4Q,KAGDpa,IAAIqa,UAAY,YAChBra,IAAIsa,SAASlR,EAAKuR,MAAQ,GAAIvR,EAAKwR,MAAQ,GAAI,GAAI,MAEnD5a,IAAIqa,UAAY,UAChBra,IAAI+a,KAAO,eACX/a,IAAIgb,UAAY,WAChBhb,IAAIib,SAAS,IAAK7R,EAAKuR,MAAOvR,EAAKwR,MAAQ,QAZ3CC,KAAO,eAHoBL,ICAnBmR,8CACLpiB,EAAGC,+CACL,GAAID,EAAGC,EAAG,CAAC,CAAC,EAAG,gBAIhB,SAAC4Q,KAGDpa,IAAIqa,UAAY,YAChBra,IAAIsa,SAASlR,EAAKuR,MAAM,GAAIvR,EAAKwR,MAAQ,GAAI,IAAK,MAElD5a,IAAIqa,UAAY,UAChBra,IAAI+a,KAAO,eACX/a,IAAIgb,UAAY,WAChBhb,IAAIib,SAAS,IAAK7R,EAAKuR,MAAM,GAAIvR,EAAKwR,MAAQ,QAZ9CC,KAAO,eAHqBL,ICApBoR,8CACLriB,EAAGC,+CACL,GAAID,EAAGC,EAAG,CACZ,CAAC,EAAG,GACJ,CAAC,EAAG,gBAKH,SAAC4Q,KAGDpa,IAAIqa,UAAY,YAChBra,IAAIsa,SAASlR,EAAKuR,MAAQ,GAAIvR,EAAKwR,MAAQ,GAAI,IAAK,OAEpD5a,IAAIqa,UAAY,UAChBra,IAAI+a,KAAO,eACX/a,IAAIgb,UAAY,WAChBhb,IAAIib,SAAS,IAAK7R,EAAKuR,MAAQ,GAAIvR,EAAKwR,MAAQ,EAAI,SAZpDC,KAAO,eANoBL,ICmCnBqR,8CACP/V,EAAMkP,0CACVlP,IACDkP,QAAUA,IACV8G,OAAS,IAAIzI,GAAO,IAAK,OACzB0I,KAAO,IAAI5C,KACXJ,SAAW,KACXiD,UAAY,OACZC,OAAS,OACThU,OAAS,IACTwH,OAAS,OACTyM,gBAAkB,OAClBC,OAAS,KACTC,QAAU,KACVC,OAAS,KACTC,cAAgB,KAEhBzJ,IAAM,IAAImI,GAAIxuB,SAASqb,cAAc,0EASrC4H,OAAS,CACZ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACjC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACjC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACjC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACjC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACjC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACjC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACjC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACjC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACjC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACjC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACjC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,SAI/BuM,UAAY,IAAIvD,QAEhByD,gBAAkB,OACnB,IAAI9sB,EAAI,EAAGA,EAAIgE,KAAKqc,OAAOpgB,OAAQD,IAAI,SACrCmtB,EAAM,GACF/V,EAAI,EAAGA,EAAIpT,KAAKqc,OAAO,GAAGpgB,OAAQmX,OACf,GAArBpT,KAAKqc,OAAOrgB,GAAGoX,GAAS,KACtB/V,EAAQ,IAAIqa,GAAMtE,EAAGpX,QACpBotB,wBAAwB/rB,GAC7B8rB,EAAIxtB,KAAK0B,QACJqkB,SAASrkB,EAAO,QAElB,GAAwB,GAArB2C,KAAKqc,OAAOrgB,GAAGoX,GAAQ,KACzBiW,EAAW,IAAIvR,GAAS1E,EAAGpX,GAC/BmtB,EAAIxtB,KAAK0tB,QACJ3H,SAAS2H,EAAU,QAErB,GAAwB,GAArBrpB,KAAKqc,OAAOrgB,GAAGoX,GAAQ,KACzBkW,EAAU,IAAI7I,GAAQrN,EAAGpX,GAC7BstB,EAAQC,iBAAiBvpB,KAAKwpB,aAC9BL,EAAIxtB,KAAK2tB,QACJ5H,SAAS4H,EAAS,QAClB3D,SAAShqB,KAAK2tB,QAGnBH,EAAIxtB,KAAK,WAGRmtB,gBAAgBntB,KAAKwtB,OAExB3D,EAAQxlB,KAAKypB,kBAAkB,GAAIzpB,KAAK2lB,SAAS1pB,OAAQ,EAAG,IAAM,CAAC6qB,GAAQI,GAAQF,GAAMI,KAC7FnW,QAAQC,IAAIsU,EAAMvpB,OAAS,eAGtBytB,oBACAd,UAAUe,YAAY3pB,KAAK2lB,eAC3BiD,UAAUgB,SAASpE,QACnB9D,SAAS1hB,KAAK4oB,UAAW,OAIzB,IAAI5sB,EAAI,EAAGA,GAAK,IAAKA,GAAK,GAAI,KAC5B,IAAIoX,EAAI,EAAGA,GAAK,IAAKA,GAAK,QACxBsO,SACH,IAAIzF,GAAK,CAAE9V,EAAGnK,EAAI,GAAIoK,EAAGgN,EAAI,GAAI/M,MAAO,EAAGC,OAAQ,IACnD,QAGCob,SAAS,IAAI3J,GAAK,CAAE5R,EAAGnK,EAAGoK,EAAG,EAAGC,MAAO,EAAGC,OAAQ,MAAQ,SAC1Dob,SAAS,IAAI3J,GAAK,CAAE5R,EAAG,EAAGC,EAAGpK,EAAGqK,MAAO,IAAKC,OAAQ,IAAM,SAG5Dob,SAAS,IAAI3K,GAAW,CAAE5Q,EAAG,EAAGC,EAAG,EAAGC,MAAO,IAAKC,OAAQ,OAAS,QAMnE8iB,wBAAwB,IAAI5C,GAAW,EAAG,SAC1C4C,wBAAwB,IAAIvC,GAAW,GAAI,SAE3CpH,IAAIC,aAAa1f,KAAK0oB,OAAOvI,aAC7BV,IAAIC,aAAa1f,KAAK0oB,OAAOrI,kBAC7BqB,SAAS1hB,KAAK0oB,aAIdmB,0BACAC,yDAKU3jB,EAAGC,UACU,GAArBpG,KAAKqc,OAAOjW,GAAGD,IAAyC,MAA9BnG,KAAK8oB,gBAAgB1iB,GAAGD,+CAYrD/N,EAAI,IAAI0vB,GAAgB,IAAK,GAAI,SAAU,CAAC,cAAe,eAAgB,CAACtB,GAAYK,UACvFpH,IAAIC,aAAatnB,QACjB4wB,QAAQrtB,KAAKvD,GAClBA,EAAI,IAAIuvB,GAAU,IAAK,IAAK,mBACvBlI,IAAIC,aAAatnB,QAEjB4wB,QAAQrtB,KAAKvD,GAGlBA,EAAI,IAAI0vB,GAAgB,IAAK,IAAK,YAAa,CAAC,QAAS,SAAU,SAAU,CAACQ,GAAYC,GAAaC,UAClG/I,IAAIC,aAAatnB,QACjB4wB,QAAQrtB,KAAKvD,GAQlBA,EAAI,IAAI+vB,GAAY,IAAK,IAAK,UAAW,CAAC,SAAU,QAAS,UAAW,OAAQ,cAC3E1I,IAAIC,aAAatnB,QACjB4wB,QAAQrtB,KAAKvD,uCAed4H,KAAK4oB,UAAUnD,sBACZmD,UAAUmB,6CAKPnN,UACH,EAAK,GAAKA,oCAGTjE,QACHuQ,cAAcvtB,KAAKgd,wCAGbA,OACPzY,EAAQF,KAAKkpB,cAAc/oB,QAAQwY,GACvC1H,QAAQC,IAAIhR,GACRA,GAAS,QACNgpB,cAAc9oB,OAAOF,EAAO,6CAQnC8pB,EACAC,EACAC,EACAC,EACAC,WAEI5E,EAAQ,GAEHxpB,EAAI,EAAGA,EAAIguB,EAAWhuB,IAAK,SAC9BquB,EAAO,GACFjX,EAAI,EAAGA,EAAI6W,EAAc7W,IAAK,SACjCkX,EAAY,GACZC,EAAcH,EAAa/X,KAAK6I,MAAM7I,KAAKmY,SAASJ,EAAanuB,SAE5DwoB,EAAI,EAAGA,EAAIyF,EAAYzF,IAW9B6F,EAAU3uB,KAAK,CAACwuB,EAAU1F,EAAG8F,IAE/BF,EAAK1uB,KAAK2uB,GAEZ9E,EAAM7pB,KAAK0uB,UAEN7E,6CAIFxlB,KAAK0oB,OAAOrQ,eACVqQ,OAAOjN,OAAO,QAGhB5G,6CAGK2D,GACLxY,KAAK0oB,OAAOrQ,eACVqQ,OAAOnC,UAAU/N,QAGnB3D,gDAIL5D,QAAQC,IAAI,2BACP0X,UAAU6B,4DAMRzqB,KAAKkpB,8DAuBUwB,OAClBvkB,EAAIukB,EAAQrT,UACZjR,EAAIskB,EAAQpT,UACZ7d,EAAQixB,EAAQC,eAChB3qB,KAAK4qB,kBAAkBzkB,EAAGC,EAAG3M,UAExB,OAELioB,SAASgJ,EAAS,IACpBA,aAAmBvH,SACf4F,OAAOptB,KAAK+uB,OAEf,IAAI1uB,EAAI,EAAGA,EAAIvC,EAAMwC,OAAQD,QAC3B,IAAIoX,EAAI,EAAGA,EAAI3Z,EAAM,GAAGwC,OAAQmX,SAC9BiJ,OAAOjW,EAAIpK,GAAGmK,EAAIiN,GAAK,OACvB0V,gBAAgB1iB,EAAIpK,GAAGmK,EAAIiN,GAAKsX,cAGlChB,gBACE,4CAKSvjB,EAAGC,EAAGykB,MAClBzkB,EAAIykB,EAAS5uB,OAAS+D,KAAKqc,OAAOpgB,QAAUkK,EAAI0kB,EAAS,GAAG5uB,OAAS+D,KAAKqc,OAAO,GAAGpgB,cAC/E,UAGL6uB,EAAa9qB,KAAK+qB,YAAY/qB,KAAKqc,QAC/BrgB,EAAI,EAAGA,EAAI6uB,EAAS5uB,OAAQD,QAC7B,IAAIoX,EAAI,EAAGA,EAAIyX,EAAS,GAAG5uB,QACR,GAAlB4uB,EAAS7uB,GAAGoX,GADsBA,IAAI,IAIpB,GAAlByX,EAAS7uB,GAAGoX,IAAmC,GAAxB0X,EAAW9uB,EAAEoK,GAAGgN,EAAEjN,GAAQ,CACnD2kB,EAAW9uB,EAAEoK,GAAGgN,EAAEjN,GAAK,eAGlB,MAIP0iB,EAAS,IAAI3M,GACjB2M,EAAOmC,gBAAgBF,OAElB,IAAI9uB,EAAI,EAAGA,EAAIgE,KAAK2lB,SAAS1pB,OAAQD,OAMjC,MAHL6sB,EAAOoC,uBACLjrB,KAAK2lB,SAAS3pB,GAAGgd,cAAc,GAC/BhZ,KAAK2lB,SAAS3pB,GAAGgd,cAAc,WAI1B,SAGJ,sCAIGqD,WACN6O,EAAK,GAEAlvB,EAAI,EAAGA,EAAIqgB,EAAOpgB,OAAQD,IAAK,SAClCmtB,EAAM,GACD/V,EAAI,EAAGA,EAAIiJ,EAAOpgB,OAAQmX,IACjC+V,EAAIxtB,KAAK0gB,EAAOrgB,GAAGoX,IAErB8X,EAAGvvB,KAAKwtB,UAEH+B,6CAKHrC,EAAS,IAAI3M,GACjB2M,EAAOmC,gBAAgBhrB,KAAKqc,YACvB,IAAIrgB,EAAI,EAAGA,EAAIgE,KAAK2lB,SAAS1pB,OAAQD,SACnC2pB,SAAS3pB,GAAGylB,QACfoH,EAAOoC,uBACLjrB,KAAK2lB,SAAS3pB,GAAGgd,cAAc,GAC/BhZ,KAAK2lB,SAAS3pB,GAAGgd,cAAc,4CAgBxB7S,EAAGC,MAES,GAArBpG,KAAKqc,OAAOjW,GAAGD,IAAWnG,KAAK4oB,UAAUnD,mBACN,MAA7BzlB,KAAK0oB,OAAOpI,mBAebb,IAAIC,aAAa,IAAIiF,GAAa,mCAbjC,KACF2B,EAAQ,IAAItmB,KAAK0oB,OAAOpI,cAAcna,EAAGC,GACzCpG,KAAK0oB,OAAOyC,YAAc7E,EAAM7O,KAC9BzX,KAAKopB,wBAAwB9C,QAE1BoC,OAAOxC,WAAWI,EAAM7O,WAExBgI,IAAIC,aAAa,IAAIiF,GAAa,gCAGpClF,IAAIC,aAAa,IAAIiF,GAAa,QAAU2B,EAAM7O,KAAO,8BAK7D,GAAyB,GAArBzX,KAAKqc,OAAOjW,GAAGD,GAAS,KAC7BilB,EAAIprB,KAAKqrB,SAASllB,EAAGC,GAChB,MAALglB,IAGEprB,KAAK0oB,OAAOyC,YAAc,SACvBG,aAAaF,QACb1C,OAAOxC,WAAW,UAElBzG,IAAIC,aAAa,IAAIiF,GAAa,6EAWlC2B,GACXA,EAAM5C,KAAO,EACb4C,EAAM1C,OAAS,oCAIRzd,EAAGC,OACL,IAAIpK,EAAI,EAAGA,EAAIgE,KAAK+oB,OAAO9sB,OAAQD,IAAK,KACvCovB,EAAIprB,KAAK+oB,OAAO/sB,MAChBovB,EAAE/T,WAAalR,GAAKilB,EAAE9T,WAAalR,SAC9BglB,SAGJ,0CAGIG,OACN,IAAIvvB,EAAI,EAAGA,EAAIgE,KAAKgpB,QAAQ/sB,OAAQD,IACnCgE,KAAKgpB,QAAQhtB,GAAGwvB,UAAUD,EAAG,GAAIA,EAAG,UACjCvC,QAAQhtB,GAAGyvB,4DAOhBllB,EAAQvG,KACF,IAAImX,GAAOvC,aAAaxb,SAASqb,cAAc,QAAS,CAChEyB,UAAW,eACLqV,EAAKhlB,EAAMmlB,iBAAiB1rB,MAC3BuG,EAAMolB,cAAcJ,IAKzBhlB,EAAMqlB,eAAeL,EAAG,GAAIA,EAAG,OAI/BM,sDAESvF,QACRwF,iBAAiBxF,4CAGPoE,GACfzZ,QAAQC,IAAIwZ,QACPhC,OAAOpI,cAAgBoK,wCAIhBqB,UAEVA,EAAO,IAAM,GAAKA,EAAO,IAAM,IAAMA,EAAO,IAAM,GAAKA,EAAO,IAAM,kDAIjDA,SACd,CAAa,GAAZA,EAAO,GAAqB,GAAZA,EAAO,6CAGhBvE,SACR,CAACnV,KAAK6I,MAAMsM,EAAQ1S,MAAM3O,EAAI,IAAKkM,KAAK6I,MAAMsM,EAAQ1S,MAAM1O,EAAI,wCAG9DohB,SACF,CAACA,EAAQ1S,MAAM3O,EAAGqhB,EAAQ1S,MAAM1O,UA5dR+Q,GAAO1E,0JCSjCvQ,OAAO8pB,2BACN9pB,OAAO+pB,6DAIR/pB,OAAO8pB,2BACN9pB,OAAO+pB,2NAjDXC,EAAoBtK,E/DkkB1B,IAAiBnqB,SAAAA,W+D/jBT00B,MAAW1D,GAAMyD,EAAQtK,GAC7BuK,EAAKC,kBACLD,EAAK3rB,QACLyQ,QAAQC,IAAI,U/D6jBZ9W,IAAwBK,GAAGoD,SAASlC,KAAKlE,a+DnkB/B40B,OAAMC,6CA6CPJ,mDAKAtK,gBClDE,wVCDH,oEAAQ,CACnBjpB,OAAQS,SAASmzB,KACjB1tB,MAAO,CACN1F,KAAM"}